<style>
  .table th,
  .table td {
    padding: 4px 4px 4px 4px;
    vertical-align: top;
    border-top: 1px solid #dee2e6;
  }

  .table thead th {
    border-bottom: 2px solid #dee2e6;
    text-align: center;
    font-size: smaller;
  }

  .Mandatoryfield {
    font-size: 15px
  }

  .ng-star-inserted {
    /* position: fixed !important; */
    z-index: auto !important;
    /* top: 0px;
  left: 0px;
  will-change: transform;
  transform: translate(863px, 84px); */
  }

  .ChildCSS {
    width: 100%;
    display: flex;
    /* justify-content: flex-end;
    margin-top: -50px; */
  }

  #table-wrapper {
    height: 300px;
    overflow: auto;
  }

  .ApprovalColor {
    color: green
  }

  .RejectColor {
    color: red
  }

  .PendingColor {
    color: #babfc7
  }

  .modal-backdrop {
    z-index: -1 !important;
  }
</style>
<!--Send Mail model popup-->
<app-send-mail #child [hidden]="IsModelShow" [EmailData]="EmailData" [pdfPath]="pdfPath"
  [referenceId]='model.DisatchTrackeringId' MailFor='DT'></app-send-mail>

<!--end-Send Mail model popup-->

<ng-template #content let-modal let-d="dismiss">
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title" id="modal-basic-title">Please confirm..</h5>

      <div>
      </div>
    </div>
    <div class="modal-body">
      <span>PO total qty has been save,please check GRN detail</span>
    </div>
    <div class="modal-footer center ">
      <button type="button" class="btn btn-default" data-dismiss="modal" (click)="d('Cross click')">No</button>
      <button type="submit" class="btn btn-success" data-dismiss="modal" (click)="ConfirmmationClick()">Ok </button>
    </div>
  </div>
</ng-template>


<div class="wrapper">

  <app-main-header></app-main-header>
  <!-- Main Sidebar Container -->
  <app-main-sidebar></app-main-sidebar>
  <ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="default" type="ball-spin-clockwise">
    <p style="color: white">Please Wait. </p>
  </ngx-spinner>
  <div class="content-wrapper" style="min-height: 54.0312px; background-color: white;">
    <!-- Content Header (Page header) -->
    <div class="content-header bg-light">
      <div class="container-fluid">
        <div class="row">
          <div class="col-xs-12">
            <nav aria-label="breadcrumb">
              <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="/dashboard">Home</a></li>
                <li class="breadcrumb-item active">WH Management / Dispatch Tracker</li>
              </ol>
            </nav>
          </div>
        </div>
      </div>
    </div>
    <!-- /.content-header -->
    <section class="content" style="padding-top:2px;">
      <div class="container-fluid">
        <!--Start Dispatch Front Page-->
        <div class="row" [hidden]="isShownList">
          <div class="col-sm-12">
            <app-search-panel></app-search-panel>

            <div class="row" style="margin-left:3px">
              <div class="col-sm-1">
                <label class="col-form-label-xs">Document / Tax Invoice No</label>
              </div>
              <div class="col-sm-2">
                <input type="text" placeholder="" [(ngModel)]="model.DispatchNo" class="form-control form-control-sm" />
              </div>

              <div class="col-sm-6">
                <app-site-panel class="ChildCSS col-sm-12"></app-site-panel>
              </div>

            </div>
            <div class="row" style="margin-left:3px">
              <div class="col-sm-1">
                <label class="col-form-label-xs">Active/Cancel </label>
              </div>
              <div class="col-sm-2">
                <select class="form-control form-control-sm" id="ddlDispatchStatus" [(ngModel)]="model.IsActiveCancel">
                  <option [value]=2>Select </option>
                  <option value=1>Active </option>
                  <option value=0>Cancel </option>
                </select>
              </div>
              <div class="col-sm-1">
                <label class="col-form-label-xs">Dispatch Type</label>
              </div>
              <div class="col-sm-2">
                <angular2-multiselect [data]="DispatcDataList" [(ngModel)]="SearchDispatchTypeList"
                  [settings]="MultidropdownSettings" (onDeSelectAll)="onClickDispatchType('DelAll')"
                  (ngModelChange)="onClickDispatchType('')">
                </angular2-multiselect>
              </div>

              <div class="col-sm-1">
                <label class="col-form-label-xs">Customer </label>
              </div>
              <div class="col-sm-2">
                <angular2-multiselect [data]="SearchCustomerData" [(ngModel)]="SelectedSearchCustomerList"
                  [settings]="MultidropdownSettings" (onDeSelectAll)="onClickCustomer('DelAll')"
                  (ngModelChange)="onClickCustomer('')">
                </angular2-multiselect>
                <!-- <select class="form-control form-control-sm" id="txtCustomerName"  [(ngModel)]="model.CustomerId">
                    <option class="dropdown-item" value="0">Select</option>
                    <option *ngFor="let item of SearchCustomerData" [value]="item.ClientId" >{{item.ClientName}}</option>
                  </select> -->
              </div>
              <!--brahamjot kaur 23/6/2022-->
              <div class="col-sm-1">
                <label class="col-form-label-xs">DI No. </label>
              </div>
              <div class="col-sm-2">
                <input type="text" class="form-control form-control-sm" [(ngModel)]="model.DINo">
              </div>

              <!--vishal 14/04/2023-->
              <div class="col-sm-1">
                <label class="col-form-label-xs"> HO/Lead Approved </label>
              </div>
              <div class="col-sm-2">
                <select class="form-control form-control-sm" id="" [(ngModel)]="model.IsHOLead">
                  <option value=0>Select </option>
                  <option value=2> HO Approved</option>
                  <option value=1>Lead Approved</option>
                </select>
              </div>
              <div class="col-sm-1">
                <label class="col-form-label-xs">Dispatch Search </label>
              </div>
              <div class="col-sm-2">
                <select class="form-control form-control-sm" id="" [(ngModel)]="model.IsAST"
                  (change)="changeDispatchSearch()">
                  <option value=2642>Select </option>
                  <option value=2642>AST</option>
                  <option value=2643>Customer Dispatch</option>
                </select>
              </div>
            </div>
            <!--/end-vishal-->

            <!-- /.Ravider -->
            <div class="row">
              <div class="col-sm-12" style="background-color:#28a745;">
                <div class="btn-group btn-group-sm">
                  <button type="button" *ngIf="ObjUserPageRight.IsSearch && HideShowASTDisbtn" class="btn btn-success"
                    (click)="SearchDispatchTrackerList('List')"> <i class="fa fa-search" aria-hidden="true"></i>
                    Search</button>
                  <button type="button" *ngIf="ObjUserPageRight.IsExport && HideShowASTDisbtn" class="btn btn-success"
                    (click)="SearchDispatchTrackerList('Export')"><i class="fa fa-download" aria-hidden="true"></i>
                    Excel Export<i class="fa fa-spinner fa-spin" *ngIf="Exportloading"></i></button>
                  <button type="button" *ngIf="ObjUserPageRight.IsCreate && HideShowASTDisbtn" class="btn btn-success"
                    (click)="CreateNew()"><i class="fa fa-plus"></i> New
                    Dispatch</button>

                  <button type="button" *ngIf="ObjUserPageRight.IsBulkPdfDwnload && HideShowASTDisbtn"
                    class="btn btn-success" (click)="DownloadAllDispatchZip()"><i class="fa fa-download"></i> Dispatch
                    File</button>
                  <button type="button" *ngIf="ObjUserPageRight.IsBulkPdfDwnload && HideShowASTDisbtn"
                    class="btn btn-success" (click)="DownloadAllBiltyZip()"><i class="fa fa-download"></i> Bilty
                    File</button>
                  <button type="button" class="btn btn-success" *ngIf="HideShowCusDisbtn"
                    (click)="searchCustomerDispatchList('List')"><i class="fa fa-search"></i> Search Customer
                    Dispatch</button>
                  <button type="button" class="btn btn-success" *ngIf="HideShowCusDisbtn"
                    (click)="searchCustomerDispatchList('Export')"><i class="fa fa-download"></i> Export Customer
                    Dispatch</button>
                  <button type="button" class="btn btn-sm btn-success" (click)="createNewCusDispatch()"><i
                      class="fa fa-plus"></i> New Customer
                    Dispatch</button>
                </div>
              </div>
            </div>

          </div>
          <div class="col-sm-12">
            <div class="row">
              <ag-grid-angular style="width: 100%; height: 500px;" class="ag-theme-alpine" [enableSorting]="true"
                [enableFilter]="true" [pagination]="true" paginationPageSize="20" [columnDefs]="columnDefs"
                [multiSortKey]="multiSortKey" [tooltipShowDelay]="tooltipShowDelay" [rowData]="rowData"
                rowSelection="multiple" [frameworkComponents]="frameworkComponents" (gridReady)="onGridReady($event)"
                [overlayLoadingTemplate]="loadingTemplate" [gridOptions]="gridOptions">
              </ag-grid-angular>
            </div>
          </div>
        </div>
        <!-- --End-- -->
        <!--Start Dispatch Back End Page-->
        <div class="row" [hidden]="isShownEdit">
          <div class="col-sm-12 col-md-12">
            <div class="card card-success">
              <div class="card-body">
                <div class="alert alert-danger" *ngIf="IsError" role="alert">
                  <strong>Error!</strong> {{errorMessage}}
                </div>
                <div class="alert alert-success" *ngIf="IsSuccess" role="alert">
                  {{succesMessage}}
                </div>
                <div class="row mb-1">
                  <div class="col-sm-12 content-header bg-light">
                    <div class="col-sm-12">
                      <button type="button" class="btn btn-sm btn-success" (click)="BackPage()"><i
                          class="fa fa-arrow-circle-left"></i> Back</button>
                      &nbsp; <button type="submit" *ngIf="ObjUserPageRight.IsCreate" class="btn btn-sm btn-success"
                        (click)="CreateNew()"><i class="fa fa-plus"></i>
                        New </button>
                      &nbsp;<button type="button" *ngIf="Save" class="btn btn-sm btn-success"
                        [disabled]="IsSaveButtonDisable" (click)="conformPopup()"><i class="fa fa-save"></i>
                        Save</button>
                      &nbsp;<button type="button" class="btn btn-sm btn-success" *ngIf="IsPreviewhideandShow"
                        (click)="PreviewDispatch()"><i class="fa fa-save"></i> Preview Challan</button>
                      &nbsp;<button type="button" class="btn btn-sm btn-success " (click)="BackDIPage()">Back For
                        DI</button>
                      &nbsp;<button type="button" *ngIf="ObjUserPageRight.IsGenPdf" class="btn btn-sm btn-success"
                        [disabled]="IsDisabledPreviewGenratebutton" (click)="GenerateDispatchPdfbyDispatchId(1)"><i
                          class="fa fa-save"></i> Generate Challan</button>

                      &nbsp;<button type="button" class="btn btn-sm btn-success" *ngIf="IsDisabledTaxInvoiceDownload"
                        (click)="TaxInvoiceDocumentfiledownload()"><i class="fa fa-download"></i> TaxInvoice</button>
                      &nbsp;<button type="button" class="btn btn-sm btn-success"
                        *ngIf="ObjUserPageRight.IsDelete && IsHideShowCancelBtn" (click)="conformCancelPopup()">Cancel
                        Dispatch</button>
                      <!-- &nbsp;<button type="button" class="btn btn-sm btn-success" *ngIf="IsCustomerDispatchhideandShow"
                        (click)="cusDispatch()"><i class="fa fa-plus"></i> Customer
                        Dispatch</button> -->

                      <button class="badge bg-primary" type="button" title="previous" style="margin-left:5px;"
                        [disabled]="IsDisablePrevious" (click)="fnPreviousList()"><i class="fa fa-backward"
                          aria-hidden="true"></i> </button>
                      <button class="badge bg-primary" type="button" title="next" style="margin-left:3px;"
                        [disabled]="IsDisableNext" (click)="fnNextList()"><i class="fa fa-forward"
                          aria-hidden="true"></i> </button>


                      <app-view-approvalpage [ChildApprovalList]="ApprovalList" [ManueId]="ManueId" [TableId]="TableId"
                        [CreateName]="CreateName" [CreatedDate]="CreatedDate" [ModifiedName]="ModifiedName"
                        [ModifiedDate]="ModifiedDate" [CompanyId]="CompanyId"
                        [ApprovalstatusbtnhideShow]="IsApprovalstatusbtnhideShow"></app-view-approvalpage>

                      <button class="badge bg-grey" [hidden]="IsMailButtonHide" type="button" data-toggle="modal"
                        data-target="#sendMailModel" style="float: right; margin-right: 19px; border-style:none">
                        <a class="nav-link" data-toggle="pill" title="Send Mail" role="tab" aria-selected="false">
                          <i class="fa fa-envelope"></i>
                        </a>
                      </button>
                      <button class="badge bg-grey" [hidden]="IsMailButtonHide" type="button" data-toggle="modal"
                        data-target="#sendMailHistory" style="float: right;
                        margin-right: 12px; border-style:none" (click)="GetSendMailDetail()">
                        <a class="nav-link" data-toggle="pill" title="Send Mail History" role="tab"
                          aria-selected="false">
                          <i class="fa fa-history"></i>
                        </a>
                      </button>

                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-12 col-sm-6 col-md-6 ">
                    <fieldset class="scheduler-border">
                      <legend class="scheduler-border">Company WH Details</legend>
                      <span></span>
                      <div class="row mb-1">
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">State<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-6" tabindex="0">
                              <select class="form-control form-control-sm" id="txtddlStateId"
                                [disabled]="IsEditDisabled" [(ngModel)]="model.ddlStateId" autofocus
                                (change)="BindStateCodeWHAdd(model.ddlStateId)">
                                <option class="dropdown-item" value="0">Select</option>
                                <option *ngFor="let itemState of SearchStateList" [value]="itemState.id">
                                  {{itemState.itemName}}</option>
                              </select>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-3">
                          <div class="row" style="margin-left: -50px;">
                            <label class="col-form-label-xs ">State Code<span style="color: red;"
                                class="Mandatoryfield"><b></b></span></label>
                            <div class="col-sm-3">
                              <input type="text" id="txtInvoiceNo" tabindex="4" placeholder=""
                                [(ngModel)]="model.StateCode" readonly class="form-control form-control-sm" />
                            </div>
                          </div>
                        </div>

                        <div class="col-sm-3">
                          <input type="hidden" [(ngModel)]="model.DisatchTrackeringId">
                          <div class="row" style="margin-left: -90px;">
                            <label class="col-form-label-xs col-sm-5">Dispatch To<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-7">
                              <select class="form-control form-control-sm" id="txtTransferType"
                                [disabled]="IsEditDisabled" [(ngModel)]="model.TransferTypeId"
                                (change)="ChangeTransferType(model.TransferTypeId)">
                                <option [value]="0">Select</option>
                                <option *ngFor="let item of TransferDataList" [value]="item.PageId">{{item.PageName}}
                                </option>
                              </select>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row mb-1">
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">Regd.Office</label>
                            <div class="col-sm-10">
                              <textarea rows="2" placeholder="" tabindex="4" [(ngModel)]="model.RegdOffice" readonly
                                class="form-control form-control-sm"></textarea>
                            </div>

                          </div>
                        </div>
                      </div>
                      <div class="row mb-1" *ngFor="let WhAd of StateCodeWhAd; let i=index">
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">WH Address {{i+1}} </label>
                            <div class="col-sm-10">
                              <textarea rows="2" placeholder="" tabindex="4" [(ngModel)]="WhAd.WHAddress" readonly
                                class="form-control form-control-sm"></textarea>
                            </div>

                          </div>
                        </div>
                      </div>

                      <div class="row mb-1">
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">GSTIN No</label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <input type="text" id="txtGSTINNo" tabindex="4" [(ngModel)]="model.GSTINNo" readonly
                                  placeholder="" class="form-control form-control-sm" />
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">CIN</label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <input type="text" id="txtCIN" tabindex="4" [(ngModel)]="model.CIN" readonly
                                  placeholder="" class="form-control form-control-sm" />
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </fieldset>
                  </div>
                  <div class="col-12 col-sm-6 col-md-6 ">
                    <fieldset class="scheduler-border">
                      <legend class="scheduler-border"> SHIPPED FROM</legend>
                      <span></span>
                      <div class="row mb-1">
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">WH State</label>
                            <div class="col-sm-8">
                              <input type="text" id="txtFromWHState" tabindex="4" [(ngModel)]="model.WHState" readonly
                                placeholder="" class="form-control form-control-sm" />
                            </div>

                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">WH Name<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <select class="form-control form-control-sm" id="txtShippedfromWHId"
                                  [(ngModel)]="model.ShippedfromWHId"
                                  (change)="BindShippedWhAddess(model.ShippedfromWHId)" [disabled]="IsEditDisabled">
                                  <option class="dropdown-item" value="0">Select</option>
                                  <option *ngFor="let item of EditWHList" [value]="item.Id">{{item.WHName}}</option>
                                </select>
                              </div>

                            </div>
                          </div>
                        </div>

                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">WH Address</label>
                            <div class="col-sm-10">
                              <div class="input-group">
                                <textarea rows="2" placeholder="Destination /WH Address" tabindex="4" readonly
                                  [(ngModel)]="model.ShippedWHAddress" class="form-control form-control-sm"></textarea>
                              </div>

                            </div>
                          </div>
                        </div>

                      </div>
                    </fieldset>

                    <fieldset class="scheduler-border">
                      <legend class="scheduler-border" *ngIf="IsTransferTypeVender"> BILL TO</legend>
                      <legend class="scheduler-border" *ngIf=" !IsTransferTypeVender"> SHIPPED TO</legend>
                      <!-- <div class="" style="text-align: center;"><b> SHIPPED TO</b> </div> -->
                      <div class="row mb-1" *ngIf="IsTransferTypeSite">
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Unique Site Id<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <div class="ng-autocomplete">
                                <ng-autocomplete [data]="AutoCompleteUniqueSiteIdList"
                                  [searchKeyword]="UniqueSitekeyword" (inputCleared)="ClearedCustomerSiteId(1)"
                                  [(ngModel)]="model.CuUniqueSiteId" (selected)='SelectCustomerSiteId($event)'
                                  (inputChanged)='onChangeSearchUniqueSiteId($event)' (inputFocused)='onFocused($event)'
                                  [itemTemplate]="UniqueiteIditemTemplate" [notFoundTemplate]="UniqueiteIditemTemplate"
                                  [debounceTime]="600" [minQueryLength]="2" placeHolder="Search Unique Site Id">
                                </ng-autocomplete>
                                <ng-template #UniqueiteIditemTemplate let-item>
                                  <a [innerHTML]="item.SiteId"></a>
                                </ng-template>
                                <ng-template #UniqueiteIditemTemplate let-notFound>
                                  <div [innerHTML]="notFound"></div>
                                </ng-template>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Site Id<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <div class="ng-autocomplete">
                                <ng-autocomplete [data]="AutoCompleteCustomerSiteIdList"
                                  [searchKeyword]="CustomerSitekeyword" (inputCleared)="ClearedCustomerSiteId(2)"
                                  [(ngModel)]="model.CuValueSiteId" (selected)='SelectCustomerSiteId($event)'
                                  (inputChanged)='onChangeSearchCustomerSiteId($event)'
                                  (inputFocused)='onFocused($event)' [itemTemplate]="CuSiteIditemTemplate"
                                  [notFoundTemplate]="CuSiteIdnotFoundTemplate" [debounceTime]="600"
                                  [minQueryLength]="2" placeHolder="Search Site Id">
                                </ng-autocomplete>
                                <ng-template #CuSiteIditemTemplate let-item>
                                  <a [innerHTML]="item.CustomerSiteId"></a>
                                </ng-template>
                                <ng-template #CuSiteIdnotFoundTemplate let-notFound>
                                  <div [innerHTML]="notFound"></div>
                                </ng-template>
                              </div>
                            </div>
                          </div>
                        </div>
                        <input type="hidden" [(ngModel)]="model.HideCustomerId" />
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> Site Name </label>
                            <div class="col-sm-8">
                              <input type="text" id="txtSiteName" [(ngModel)]="model.SiteName" tabindex="4" readonly
                                placeholder="" class="form-control form-control-sm" />
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> Client Name </label>
                            <div class="col-sm-8">
                              <input type="text" id="txtClientName" [(ngModel)]="model.ClientName" readonly
                                placeholder="" class="form-control form-control-sm" />
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">Company Name<span style="color: red;"
                                class="Mandatoryfield"><b></b></span></label>
                            <div class="col-sm-10">
                              <div class="input-group">
                                <input type="text" id="txtToCompanyName" autocomplete="off" placeholder=""
                                  (keypress)="ToCompanyNameKeyPress()" [(ngModel)]="model.CompanyName"
                                  class="form-control form-control-sm" />
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> FE/Tech<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <select class="form-control form-control-sm" id="txtTECHFE" [(ngModel)]="model.TECHFE"
                                (change)="changeTech(model.TECHFE)">
                                <option class="dropdown-item" value="0">Select</option>
                                <option *ngFor="let itemTech of TechDataList" [value]="itemTech.Id">
                                  {{itemTech.UserName}}</option>
                              </select>

                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">COH/CI<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <select class="form-control form-control-sm" id="txtCOHCI" [(ngModel)]="model.COHCI"
                                (change)="changeCOH(model.COHCI)">
                                <option class="dropdown-item" value="0">Select</option>
                                <option *ngFor="let item of COHDataList" [value]="item.Id">{{item.UserName}}</option>
                              </select>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Multi Site<span style="color: red;"
                                class="Mandatoryfield"><b></b></span></label>
                            <div class="col-sm-8">
                              <input type="checkbox" id="txtIsMultipleSite" name="checkbox"
                                [(ngModel)]="model.IsMultipleSite" placeholder="" (click)="ClickMultipleSite($event)" />
                              Tick for multisite Dispatch
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> Loan To<span style="color: red;"
                                class="Mandatoryfield"><b></b></span></label>
                            <div class="col-sm-8">
                              <select class="form-control form-control-sm" id="txtEmp" [(ngModel)]="model.EmployeeId"
                                (change)="changeEmp(model.EmployeeId)">
                                <option class="dropdown-item" value="0">Select</option>
                                <option *ngFor="let itemEmp of EmpDataList" [value]="itemEmp.UserId">
                                  {{itemEmp.UserName}}</option>
                              </select>

                            </div>
                          </div>
                        </div>
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">Site Address<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-10">
                              <div class="input-group">
                                <textarea rows="2" placeholder="Site Address" id="txtSiteAddress"
                                  (keypress)="FromSiteAddresKeyPress()" [(ngModel)]="model.SiteAddress"
                                  class="form-control form-control-sm"></textarea>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="row mb-1" *ngIf="IsTransferTypeOtherSite">
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Site State<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <select class="form-control form-control-sm" id="txtToSiteStateId"
                                [(ngModel)]="model.ToSiteStateId" (change)="ChangeSiteOtherState(model.ToSiteStateId)">
                                <option class="dropdown-item" value="0">Select</option>
                                <option *ngFor="let item of OtherSiteStateList" [value]="item.id">{{item.itemName}}
                                </option>
                              </select>
                            </div>

                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">State Code<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <input type="text" id="txtToSiteStateCode" placeholder="" autocomplete="off"
                                  (keypress)="ToSiteStateCodeKeyPress()" [(ngModel)]="model.ToSiteStateCode"
                                  class="form-control form-control-sm" />
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Unique Site Id<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <div class="ng-autocomplete">
                                <ng-autocomplete [data]="AutoCompleteUniqueSiteIdList"
                                  [searchKeyword]="UniqueSitekeyword" (inputCleared)="ClearedCustomerSiteId(1)"
                                  [(ngModel)]="model.CuUniqueSiteId" (selected)='SelectCustomerSiteId($event)'
                                  (inputChanged)='onChangeSearchUniqueSiteId($event)' (inputFocused)='onFocused($event)'
                                  [itemTemplate]="UniqueiteIditemTemplate" [notFoundTemplate]="UniqueiteIditemTemplate"
                                  [debounceTime]="600" [minQueryLength]="2" placeHolder="Search Unique Site Id">
                                </ng-autocomplete>
                                <ng-template #UniqueiteIditemTemplate let-item>
                                  <a [innerHTML]="item.SiteId"></a>
                                </ng-template>
                                <ng-template #UniqueiteIditemTemplate let-notFound>
                                  <div [innerHTML]="notFound"></div>
                                </ng-template>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Site Id<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <div class="ng-autocomplete">
                                <ng-autocomplete [data]="AutoCompleteCustomerSiteIdList"
                                  [searchKeyword]="CustomerSitekeyword" (inputCleared)="ClearedCustomerSiteId(2)"
                                  [(ngModel)]="model.CuValueSiteId" (selected)='SelectCustomerSiteId($event)'
                                  (inputChanged)='onChangeSearchCustomerSiteId($event)'
                                  (inputFocused)='onFocused($event)' [itemTemplate]="CuSiteIditemTemplate"
                                  [notFoundTemplate]="CuSiteIdnotFoundTemplate" [debounceTime]="600"
                                  [minQueryLength]="2" placeHolder="Search Site Id">
                                </ng-autocomplete>
                                <ng-template #CuSiteIditemTemplate let-item>
                                  <a [innerHTML]="item.CustomerSiteId"></a>
                                </ng-template>
                                <ng-template #CuSiteIdnotFoundTemplate let-notFound>
                                  <div [innerHTML]="notFound"></div>
                                </ng-template>
                              </div>
                            </div>
                          </div>
                        </div>
                        <input type="hidden" id="" [(ngModel)]="model.SiteId" readonly placeholder=""
                          class="form-control form-control-sm" />

                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> Site Name </label>
                            <div class="col-sm-8">
                              <input type="text" id="txtSiteName" tabindex="4" [(ngModel)]="model.SiteName" readonly
                                placeholder="" class="form-control form-control-sm" />
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> Client Name </label>
                            <div class="col-sm-8">
                              <!-- <select class="form-control form-control-sm" id="txtClientName" [(ngModel)]="model.ClientName" >
                                          <option class="dropdown-item"  value="0">Select</option>
                                          <option *ngFor="let item of DataClientCodeList" [value]="item.id" >{{item.ClientCode}}</option>
                                        </select> -->
                              <input type="text" id="txtClientName" tabindex="4" [(ngModel)]="model.ClientName" readonly
                                placeholder="" class="form-control form-control-sm" />
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> GST Type<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <select class="form-control form-control-sm" id="txtGSTType" [(ngModel)]="model.GSTType"
                                (change)="ChangeGSTType(model.GSTType)">
                                <option class="dropdown-item" value=0>Select</option>
                                <option class="dropdown-item" value=1>AST GST</option>
                                <option class="dropdown-item" value=2>Customer GST </option>
                              </select>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">GSTIN Id<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <input type="text" id="txtToSiteWHGSTIN" autocomplete="off"
                                  (keypress)="ToSiteGSTINKeyPress()" placeholder="" [(ngModel)]="model.ToSiteWHGSTIN"
                                  class="form-control form-control-sm" />
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> FE/Tech<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <select class="form-control form-control-sm" id="txtTECHFE" [(ngModel)]="model.TECHFE"
                                (change)="changeTech(model.TECHFE)">
                                <option class="dropdown-item" value="0">Select</option>
                                <option *ngFor="let itemTech of TechDataList" [value]="itemTech.Id">
                                  {{itemTech.UserName}}</option>
                              </select>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">COH/CI<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <select class="form-control form-control-sm" id="txtCOHCI" [(ngModel)]="model.COHCI"
                                (change)="changeCOH(model.COHCI)">
                                <option class="dropdown-item" value="0">Select</option>
                                <option *ngFor="let item of COHDataList" [value]="item.Id">{{item.UserName}}</option>
                              </select>

                            </div>
                          </div>
                        </div>

                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Multi Site<span style="color: red;"
                                class="Mandatoryfield"><b></b></span></label>
                            <div class="col-sm-8">
                              <input type="checkbox" id="txtIsMultipleSite" name="checkbox"
                                [(ngModel)]="model.IsMultipleSite" placeholder=""
                                (change)="ClickMultipleSite($event)" />
                              Tick for multisite dispatch
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> Loan To<span style="color: red;"
                                class="Mandatoryfield"><b></b></span></label>
                            <div class="col-sm-8">
                              <select class="form-control form-control-sm" id="txtEmp" [(ngModel)]="model.EmployeeId"
                                (change)="changeEmp(model.EmployeeId)">
                                <option class="dropdown-item" value="0">Select</option>
                                <option *ngFor="let itemEmp of EmpDataList" [value]="itemEmp.UserId">
                                  {{itemEmp.UserName}}</option>
                              </select>

                            </div>
                          </div>
                        </div>
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">Company Name<span style="color: red;"
                                class="Mandatoryfield" *ngIf="!IsTaxInvoiceNo"><b>*</b></span></label>
                            <div class="col-sm-10">
                              <div class="input-group">
                                <input type="text" id="txtToCompanyName" autocomplete="off" placeholder=""
                                  (keypress)="ToCompanyNameKeyPress()" [(ngModel)]="model.CompanyName"
                                  class="form-control form-control-sm" />
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">Site Address<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-10">
                              <div class="input-group">
                                <textarea rows="2" placeholder="Site Address" id="txtSiteAddress"
                                  (keypress)="FromSiteAddresKeyPress()" [(ngModel)]="model.SiteAddress"
                                  class="form-control form-control-sm"></textarea>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="row mb-1" *ngIf="IsTransferTypeWH">
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">WH Name<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <select class="form-control form-control-sm" id="txtShippedToWHId"
                                  [(ngModel)]="model.ShippedToINWHId" [disabled]="IsDisbaledWHDetail"
                                  (change)="BindVendorOrWhAddess('WHMaster',model.ShippedToINWHId,'IN')">
                                  <option class="dropdown-item" value="0">Select</option>
                                  <option *ngFor="let item of StateINWHList" [value]="item.Id">{{item.WHName}}</option>
                                </select>
                              </div>

                            </div>
                          </div>
                        </div>

                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">WH Address</label>
                            <div class="col-sm-10">
                              <div class="input-group">
                                <textarea rows="2" placeholder="Destination /WH Address" [(ngModel)]="model.WHAddress"
                                  class="form-control form-control-sm"></textarea>
                              </div>

                            </div>
                          </div>
                        </div>


                        <!-- <div class="col-sm-6">                        
                                    <div class="row">
                                      <label class="col-form-label-xs col-sm-4">GSTIN/Unique ID</label>
                                       <div class="col-sm-8"> 
                                    <div class="input-group"   >
                                        <input type="text" id="txtToWHGSTIN"  placeholder="" [(ngModel)]="model.WHGSTIN" class="form-control form-control-sm" />
                                    </div>
                                  </div>
                                    </div>
                                  </div> -->
                      </div>

                      <div class="row mb-1" *ngIf="IsTransferTypeOtherWH">
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">WH State<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <select class="form-control form-control-sm" id="txtTOWHStateId"
                                [(ngModel)]="model.EditStateId" [disabled]="IsDisbaledWHDetail"
                                (change)="BindEditWHList()">
                                <option class="dropdown-item" value="0">Select</option>
                                <option *ngFor="let item of WHStateList" [value]="item.id">{{item.itemName}}</option>
                              </select>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">State Code</label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <input type="text" id="txtToWHStateCode" autocomplete="off" placeholder=""
                                  [disabled]="IsDisbaledWHDetail" (keypress)="ToWHStateCodeKeyPress()"
                                  [(ngModel)]="model.WHStateCode" class="form-control form-control-sm" />
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">WH Name<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <select class="form-control form-control-sm" id="txtShippedToOtherWHId"
                                  [disabled]="IsDisbaledWHDetail" [(ngModel)]="model.ShippedToOtherWHId"
                                  (change)="BindVendorOrWhAddess('WHMaster',model.ShippedToOtherWHId,'TO')">
                                  <option class="dropdown-item" value="0">Select</option>
                                  <option *ngFor="let item of ShippedTOWHList" [value]="item.id">{{item.itemName}}
                                  </option>
                                </select>
                              </div>

                            </div>
                          </div>
                        </div>

                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">GSTIN Id</label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <input type="text" id="txtToWHGSTIN" autocomplete="off" placeholder=""
                                  [disabled]="IsDisbaledWHDetail" [(ngModel)]="model.WHGSTIN"
                                  class="form-control form-control-sm" />
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">WH Address</label>
                            <div class="col-sm-10">
                              <div class="input-group">
                                <textarea rows="2" placeholder="Destination /WH Address" [(ngModel)]="model.WHAddress"
                                  [disabled]="IsDisbaledWHDetail" class="form-control form-control-sm"></textarea>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="row mb-1" *ngIf="IsTransferTypeVender">
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Vendor State <span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <select class="form-control form-control-sm" id="txtTOVenderStateId"
                                [(ngModel)]="model.VenOtherStateId" (change)="ChangeVendorState(model.VenOtherStateId)">
                                <option class="dropdown-item" value="0">Select</option>
                                <option *ngFor="let item1 of OtherSiteStateList" [value]="item1.id">{{item1.itemName}}
                                </option>
                              </select>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">State Code<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <input type="text" id="txtVenStateCode" placeholder=""
                                  (keypress)="ToVenDerStateCodeKeyPress()" [(ngModel)]="model.VenStateCode"
                                  class="form-control form-control-sm" />
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Vendor Name<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <angular2-multiselect [data]="SearchVendorListById" [(ngModel)]="SelectedEditVendorList"
                                [settings]="SingledropdownSettings" (onSelect)="onItemSelect($event)"
                                (onDeSelect)="OnEditVenItemDeSelect($event)" (onSelectAll)="onSelectAll($event)"
                                (onDeSelectAll)="onEditVenDeSelectAll($event)"
                                (ngModelChange)="ngModelChangeVendor($event)" id="TxtToVendorCode"
                                class="my-class vcode">
                              </angular2-multiselect>
                            </div>

                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Vendor Code</label>
                            <div class="col-sm-8">
                              <input type="text" id="txtVendorName" [(ngModel)]="model.VendorCode" tabindex="4" readonly
                                class="form-control form-control-sm" placeholder="">
                            </div>
                          </div>
                        </div>

                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">GSTIN Id<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <input type="text" id="txtVenGSTIN" placeholder="" readonly
                                  (keypress)="VenGSTINKeyPress()" [(ngModel)]="model.VenGSTIN"
                                  class="form-control form-control-sm" />
                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="col-sm-6" *ngIf="VendorScaleVissible">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">WH Name<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <select class="form-control form-control-sm" id="txtShippedToVendorWHId"
                                  [(ngModel)]="model.ShippedToVendorWHId">
                                  <option class="dropdown-item" value="0">Select</option>
                                  <option *ngFor="let item of ShippedTOVendorWHList" [value]="item.id">{{item.itemName}}
                                  </option>
                                </select>
                              </div>

                            </div>
                          </div>
                        </div>

                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-1">Vendor Add.<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <label class="col-form-label-xs col-sm-1"><input type="radio"
                                *ngFor="let item of VenderFilterAddress" [(ngModel)]="model.RadioId" [value]="item.Id"
                                name="optionsRadios" (change)="ChangeVendorAddress(item.Id)"></label>
                            <div class="col-sm-10">
                              <textarea type="text" rows="2" name="txtVendorAddress" id="txtVendorAddress"
                                [(ngModel)]="model.VendorAddress" autocomplete="off"
                                class="form-control form-control-sm" placeholder="" readonly
                                (keypress)="VendorAddressKeyPress()">
                                   </textarea>
                            </div>
                          </div>
                        </div>

                      </div>

                      <div class="row mb-1" *ngIf="IsTransferTypeCenterRepaired">
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> State<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <select class="form-control form-control-sm" id="txtTOWHStateId"
                                [(ngModel)]="model.EditStateId" [disabled]="IsDisbaledWHDetail"
                                (change)="BindEditWHList()">
                                <option class="dropdown-item" value="0">Select</option>
                                <option *ngFor="let item of WHStateList" [value]="item.id">{{item.itemName}}</option>
                              </select>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">State Code</label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <input type="text" id="txtToWHStateCode" autocomplete="off" placeholder=""
                                  [disabled]="IsDisbaledWHDetail" (keypress)="ToWHStateCodeKeyPress()"
                                  [(ngModel)]="model.WHStateCode" class="form-control form-control-sm" />
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Repairing Center Name<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <select class="form-control form-control-sm" id="txtShippedToOtherWHId"
                                  [disabled]="IsDisbaledWHDetail" [(ngModel)]="model.ShippedToOtherWHId"
                                  (change)="BindVendorOrWhAddess('WHMaster',model.ShippedToOtherWHId,'TO')">
                                  <option class="dropdown-item" value="0">Select</option>
                                  <option *ngFor="let item of ShippedTOWHList" [value]="item.id">{{item.itemName}}
                                  </option>
                                </select>
                              </div>

                            </div>
                          </div>
                        </div>

                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">GSTIN Id</label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <input type="text" id="txtToWHGSTIN" autocomplete="off" placeholder=""
                                  [disabled]="IsDisbaledWHDetail" [(ngModel)]="model.WHGSTIN"
                                  class="form-control form-control-sm" />
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">Repairing Center Address</label>
                            <div class="col-sm-10">
                              <div class="input-group">
                                <textarea rows="2" placeholder="Destination /WH Address" [(ngModel)]="model.WHAddress"
                                  [disabled]="IsDisbaledWHDetail" class="form-control form-control-sm"></textarea>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="row mb-1" *ngIf="IsCustomerReturnAfterRepaired">
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> State<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <select class="form-control form-control-sm" id="txtTOWHStateId"
                                [(ngModel)]="model.EditStateId" [disabled]="IsDisbaledWHDetail"
                                (change)="ChangeotherState(model.EditStateId)">
                                <option class="dropdown-item" value="0">Select</option>
                                <option *ngFor="let item of WHStateList" [value]="item.id">{{item.itemName}}</option>
                              </select>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">State Code</label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <input type="text" id="txtToWHStateCode" autocomplete="off" placeholder=""
                                  [disabled]="IsDisbaledWHDetail" (keypress)="ToWHStateCodeKeyPress()"
                                  [(ngModel)]="model.OtherStateCode" class="form-control form-control-sm" />
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> Customer Name<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <select class="form-control form-control-sm" id="txtCustomerName"
                                [(ngModel)]="model.CustomerId" (change)="ChangeCustomerName(model.CustomerId)">
                                <option class="dropdown-item" value="0">Select</option>
                                <option *ngFor="let item of GettAllCustomerList" [value]="item.ClientId">
                                  {{item.ClientName}}</option>
                              </select>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">CRN No<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <select class="form-control form-control-sm" id="txtCRNo" [(ngModel)]="model.CRNId"
                                (change)="ChangeCRNNo(model.CRNId)">
                                <option class="dropdown-item" value="0">Select</option>
                                <option *ngFor="let item of GettAllCRNNoList" [value]="item.Id">{{item.CRNNo}}</option>
                              </select>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">GSTIN Id<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <input type="text" id="txtToWHGSTIN" autocomplete="off" placeholder="" maxlength="15"
                                  [disabled]="IsDisbaledWHDetail" [(ngModel)]="model.CustomerGSTIN"
                                  class="form-control form-control-sm" />
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">Customer Address<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-10">
                              <div class="input-group">
                                <textarea rows="2" placeholder="" [(ngModel)]="model.CustomerAddress"
                                  id="txtCustomerAddress" class="form-control form-control-sm"></textarea>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </fieldset>

                    <!--vishal, 19/04/2023, for ShipTo fieldset-->
                    <fieldset class="scheduler-border" *ngIf="IsTransferTypeVender">
                      <legend class="scheduler-border"> SHIPPED TO</legend>
                      <span></span>

                      <div class="row">
                        <label class="col-form-label-xs col-sm-3">Same as Bill To address
                        </label>
                        <div class="col-form-label-xs col-sm-9">
                          <input type="checkbox" value="" class="" [(ngModel)]="isChecked" (change)="checkBillToAdd()">
                        </div>
                      </div>

                      <div class="row mb-1">
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Vendor State <span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <select class="form-control form-control-sm" id="txtBillToVenderStateId"
                                [(ngModel)]="model.BillToVenOtherStateId"
                                (change)="ChangeBillToVendorState(model.BillToVenOtherStateId)">
                                <option class="dropdown-item" value="0">Select</option>
                                <option *ngFor="let item of OtherSiteStateList" [value]="item.id">{{item.itemName}}
                                </option>
                              </select>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">State Code<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <input type="text" id="txtBillToVenStateCode" placeholder=""
                                  [(ngModel)]="model.BillToVenStateCode" class="form-control form-control-sm" />
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Vendor Name<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <angular2-multiselect [data]="BillToSearchVendorListById"
                                [(ngModel)]="SelectedBillToVendorList" [settings]="SingledropdownSettings"
                                (onSelect)="onItemSelect($event)" (onDeSelect)="OnBillToVenItemDeSelect($event)"
                                (onSelectAll)="onBillToSelectAll($event)"
                                (onDeSelectAll)="onBillToVenDeSelectAll($event)"
                                (ngModelChange)="ngModelChangeBillToVendor($event)" id="txtBillToVendorCode"
                                class="my-class vcode">
                              </angular2-multiselect>
                            </div>

                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Vendor Code</label>
                            <div class="col-sm-8">
                              <input type="text" id="txtBillToVendorName" [(ngModel)]="model.BillToVendorCode"
                                tabindex="4" readonly class="form-control form-control-sm" placeholder="">
                            </div>
                          </div>
                        </div>

                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">GSTIN Id<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <input type="text" id="txtBillToVenGSTIN" placeholder="" readonly
                                  [(ngModel)]="model.BillToVenGSTIN" class="form-control form-control-sm" />
                              </div>
                            </div>
                          </div>
                        </div>

                        <!-- <div class="col-sm-6" *ngIf="VendorScaleVissible">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">WH Name<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <select class="form-control form-control-sm" id="txtBillToVendorWHId"
                                  [(ngModel)]="model.BillToVendorWHId">
                                  <option class="dropdown-item" value="0">Select</option>
                                  <option *ngFor="let item of ShippedTOVendorWHList" [value]="item.id">{{item.itemName}}
                                  </option>
                                </select>
                              </div>

                            </div>
                          </div>
                        </div> -->

                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-1">Vendor Add.<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <label class="col-form-label-xs col-sm-1"><input type="radio"
                                *ngFor="let item of BillToVenderFilterAddress" [(ngModel)]="model.BillToRadioId"
                                [value]="item.Id" name="optionsRadio"
                                (change)="ChangeBillToVendorAddress(item.Id)"></label>
                            <div class="col-sm-10">
                              <textarea type="text" rows="2" name="txtBillToVendorAddress" id="txtBillToVendorAddress"
                                [(ngModel)]="model.BillToVendorAddress" autocomplete="off" readonly
                                class="form-control form-control-sm" placeholder=""
                                (keypress)="BillToVendorAddressKeyPress()">
                                 </textarea>
                            </div>
                          </div>
                        </div>

                      </div>
                    </fieldset>
                    <!--end-vishal-->

                  </div>
                </div>
                <!-- <hr> -->
                <fieldset class="scheduler-border">
                  <legend class="scheduler-border">Dispatch Details</legend>
                  <div class="row mb-1">

                    <label class="col-form-label-xs col-sm-1">Document No<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2">
                      <input type="text" id="txtDocumentNo" tabindex="4" readonly [(ngModel)]="model.DocumentNo"
                        placeholder="" class="form-control form-control-sm" />
                    </div>

                    <label class="col-form-label-xs col-sm-1">Dispatch Date<span style="color: red;"
                        class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2">
                      <div class="input-group" (mouseenter)="onKeypressDocumentDatee($event)">
                        <input class="form-control form-control-sm" placeholder="" id="txtDocDate" autocomplete="off"
                          [(ngModel)]="model.DocumentDate" ngbDatepicker #DocDate="ngbDatepicker"
                          [minDate]="minDispatchDt" [maxDate]="maxDispatchDt" readonly>
                        <div class="input-group-append">
                          <span class="input-group-text" (click)="DocDate.toggle()"><i
                              class="far fa-calendar-alt"></i></span>
                        </div>
                      </div>
                    </div>
                    <label class="col-form-label-xs col-sm-1">Trasporation Mode<span style="color: red;"
                        class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2">
                      <select class="form-control form-control-sm" id="txtTrasporationMode"
                        [(ngModel)]="model.TrasporationMode" (change)="ChangeTrasporationMode(model.TrasporationMode)">
                        <option class="dropdown-item" value="0">Select</option>
                        <option *ngFor="let item of TransModeDataList" [value]="item.Id">{{item.Name}}</option>
                      </select>
                    </div>

                    <label class="col-form-label-xs col-sm-1" *ngIf="IsTransporter">Select Transporter<span
                        style="color: red;" class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2" *ngIf="IsTransporter">
                      <select class="form-control form-control-sm" id="txtTransporterId"
                        [(ngModel)]="model.TransporterId" (change)="ChangeTransporter(model.TransporterId)">
                        <option class="dropdown-item" value="0">Select</option>
                        <option *ngFor="let item of TransporterTypeDetail" [value]="item.id">{{item.TransporterName}}
                        </option>
                      </select>
                    </div>

                    <label class="col-form-label-xs col-sm-1" *ngIf="IsCourier">Select Courier Company <span
                        style="color: red;" class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2" *ngIf="IsCourier">
                      <select class="form-control form-control-sm" id="txtTransporterId"
                        [(ngModel)]="model.TransporterId" (change)="ChangeTransporter(model.TransporterId)">
                        <option class="dropdown-item" value="">Select</option>
                        <option *ngFor="let item of CourierTypeDetail" [value]="item.id">{{item.TransporterName}}
                        </option>
                      </select>
                    </div>

                    <label class="col-form-label-xs col-sm-1" *ngIf="IsByHand">Employee Name<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2" *ngIf="IsByHand">
                      <input type="text" id="txtEmployeeName" autocomplete="off" [(ngModel)]="model.EmployeeName"
                        placeholder="" (keypress)="TransporterNameKeyPress()" class="form-control form-control-sm" />
                    </div>

                    <label class="col-form-label-xs col-sm-1" *ngIf="IsBus"> Name<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2" *ngIf="IsBus">
                      <input type="text" id="txtConductorName" autocomplete="off" [(ngModel)]="model.ConductorName"
                        placeholder="" (keypress)="TransporterNameKeyPress()" class="form-control form-control-sm" />
                    </div>

                    <label class="col-form-label-xs col-sm-1" *ngIf="IsOther"> Name<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2" *ngIf="IsOther">
                      <input type="text" id="txtName" autocomplete="off" [(ngModel)]="model.Name" placeholder=""
                        (keypress)="TransporterNameKeyPress()" class="form-control form-control-sm" />
                    </div>

                  </div>

                  <div class="row mb-1" *ngIf="IsTransporter">
                    <label class="col-form-label-xs col-sm-1">Transporter Name<span style="color: red;"
                        class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2">
                      <textarea type="text" id="txtTransporterName" rows="2" autocomplete="off"
                        [(ngModel)]="model.TransporterName" placeholder="" (keypress)="TransporterNameKeyPress()"
                        class="form-control form-control-sm"></textarea>
                    </div>
                    <label class="col-form-label-xs col-sm-1">Transporter GST No<span style="color: red;"
                        class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2">
                      <input type="text" id="txtTransporterGSTNo" autocomplete="off" maxlength="15"
                        [(ngModel)]="model.TransporterGSTNo" placeholder="" (keypress)="TransporteGSTNoKeyPress()"
                        class="form-control form-control-sm" />
                    </div>

                    <label class="col-form-label-xs col-sm-1">Driver Name<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2">
                      <input type="text" id="txtDriverName" autocomplete="off" [(ngModel)]="model.DriverName"
                        placeholder="" class="form-control form-control-sm" />

                    </div>
                    <label class="col-form-label-xs col-sm-1">Driver Phone No<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2">
                      <input type="text" id="txtDriverPhoneNo" autocomplete="off" maxlength="12"
                        appCopyPastNumFloatValue [(ngModel)]="model.DriverPhoneNo" placeholder=""
                        class="form-control form-control-sm" />
                    </div>
                  </div>

                  <div class="row mb-1">
                    <label class="col-form-label-xs col-sm-1" *ngIf="IsCourier">Courier Company Name<span
                        style="color: red;" class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2" *ngIf="IsCourier">
                      <input type="text" id="txtCourierCompanyName" autocomplete="off"
                        [(ngModel)]="model.CourierCompanyName" placeholder="" (keypress)="TransporterNameKeyPress()"
                        class="form-control form-control-sm" />
                    </div>
                    <label class="col-form-label-xs col-sm-1" *ngIf="IsByHand">Employee Code<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2" *ngIf="IsByHand">
                      <input type="text" id="txtEmployeeCode" autocomplete="off" [(ngModel)]="model.EmployeeCode"
                        placeholder="" class="form-control form-control-sm" />
                    </div>
                    <label class="col-form-label-xs col-sm-1" *ngIf="IsByHand">Employee Phone No<span
                        style="color: red;" class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2" *ngIf="IsByHand">
                      <input type="text" id="txtEmployeePhoneNo" autocomplete="off" maxlength="12"
                        appCopyPastNumFloatValue [(ngModel)]="model.EmployeePhoneNo" placeholder=""
                        class="form-control form-control-sm" />
                    </div>

                    <label class="col-form-label-xs col-sm-1" *ngIf="IsCourier">Docket No<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2" *ngIf="IsCourier">
                      <input type="text" id="txtDocketNo" autocomplete="off" [(ngModel)]="model.DocketNo" placeholder=""
                        class="form-control form-control-sm" />
                    </div>
                    <label class="col-form-label-xs col-sm-1" *ngIf="IsCourier">Courier Phone No<span
                        style="color: red;" class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2" *ngIf="IsCourier">
                      <input type="text" id="txtCourierPhoneNo" autocomplete="off" maxlength="12"
                        appCopyPastNumFloatValue [(ngModel)]="model.CourierPhoneNo" placeholder=""
                        class="form-control form-control-sm" />
                    </div>
                    <label class="col-form-label-xs col-sm-1" *ngIf="IsBus">Phone No<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2" *ngIf="IsBus">
                      <input type="text" id="txtConductorNo" autocomplete="off" maxlength="12" appCopyPastNumFloatValue
                        [(ngModel)]="model.ConductorNo" placeholder="" class="form-control form-control-sm" />
                    </div>
                    <label class="col-form-label-xs col-sm-1" *ngIf="IsBus">Bus Number<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2" *ngIf="IsBus">
                      <input type="text" id="txtVehicleNumber" autocomplete="off" [(ngModel)]="model.VehicleNumber"
                        placeholder="" class="form-control form-control-sm" />
                    </div>
                    <label class="col-form-label-xs col-sm-1" *ngIf="IsOther">Phone No<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2" *ngIf="IsOther">
                      <input type="text" id="txtConductorNo" autocomplete="off" maxlength="12" appCopyPastNumFloatValue
                        [(ngModel)]="model.PhoneNo" placeholder="" class="form-control form-control-sm" />
                    </div>

                    <label class="col-form-label-xs col-sm-1">Destination<span style="color: red;"
                        class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2">
                      <input type="text" id="txtDestination" [(ngModel)]="model.Destination" autocomplete="off"
                        placeholder="" (keypress)="DestinationKeyPress()" class="form-control form-control-sm" />
                    </div>
                    <label class="col-form-label-xs col-sm-1" *ngIf="IsTransporter">Bilty No<span style="color: red;"
                        *ngIf="IsValidationShowandhide" class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2" *ngIf="IsTransporter">
                      <input type="text" id="txtGRNo" [(ngModel)]="model.GRNo" autocomplete="off" placeholder=""
                        (keypress)="GrNoKeyPress()" class="form-control form-control-sm" />
                    </div>
                    <label class="col-form-label-xs col-sm-1" *ngIf="IsTransporter">Bilty Date<span style="color: red;"
                        *ngIf="IsValidationShowandhide" class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2" *ngIf="IsTransporter">
                      <div class="input-group" (mouseenter)="onKeypressGRDate($event)">
                        <input class="form-control form-control-sm" placeholder="" id="txtGRDate" autocomplete="off"
                          [(ngModel)]="model.GRDate" ngbDatepicker #GrDate="ngbDatepicker" [minDate]="minBiltyDt"
                          [maxDate]="maxBiltyDt">
                        <div class="input-group-append">
                          <span class="input-group-text" (click)="GrDate.toggle()"><i
                              class="far fa-calendar-alt"></i></span>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="row mb-1">
                    <label class="col-form-label-xs col-sm-1" *ngIf="IsVehicleType">Vehicle Type<span
                        style="color: red;" class="Mandatoryfield"
                        *ngIf="IsVehicleValidationHideShow"><b>*</b></span></label>
                    <div class="col-sm-2" *ngIf="IsVehicleType">
                      <select class="form-control form-control-sm" id="txtVehicleType"
                        [(ngModel)]="model.ddlVehicleType" (change)="ChangeVehicleType(model.ddlVehicleType)">
                        <option class="dropdown-item" value="0">Select</option>
                        <option *ngFor="let item of VechileTypeDataList" [value]="item.Id">{{item.Name}}</option>
                      </select>
                    </div>

                    <label class="col-form-label-xs col-sm-1" *ngIf="IsVehicleType">Vehicle No<span style="color: red;"
                        class="Mandatoryfield" *ngIf="IsVehicleValidationHideShow"><b>*</b></span></label>
                    <div class="col-sm-2" *ngIf="IsVehicleType">
                      <input type="text" id="txtVehicleNumber" autocomplete="off" [(ngModel)]="model.VehicleNumber"
                        (keypress)="VehicleKeyPress()" placeholder="" class="form-control form-control-sm" />
                    </div>

                    <label class="col-form-label-xs col-sm-1">Eway Bill No<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2">
                      <input type="text" id="txtEwayBillNo" autocomplete="off" [(ngModel)]="model.EwayBillNo"
                        (keypress)="EwayBillNoKeyPress()" placeholder="" class="form-control form-control-sm" />
                    </div>
                  </div>
                  <div class="row mb-1">

                    <!-- <label class="col-form-label-xs col-sm-1" *ngIf="IsTaxInvoiceNoSameState">Tax Invoice No<span
                        style="color: red;" class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2" *ngIf="IsTaxInvoiceNoSameState">
                      <input type="text" id="IsTaxInvoiceNoSameState" autocomplete="off"
                        [(ngModel)]="model.TaxInvoiceNo" (keypress)="TaxInvoiceKeyPress()" placeholder=""
                        class="form-control form-control-sm" />
                    </div>
                    <label class="col-form-label-xs col-sm-1" *ngIf="IsTaxInvoiceNoSameState">Tax Invoice Date<span
                        style="color: red;" class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2" *ngIf="IsTaxInvoiceDateSameState">
                      <div class="input-group">
                        <input class="form-control form-control-sm" placeholder="" id="txtInvoiceDate"
                          autocomplete="off" [(ngModel)]="model.TaxInvoiceDate" ngbDatepicker
                          #InvoiceDate="ngbDatepicker">
                        <div class="input-group-append">
                          <span class="input-group-text" (click)="InvoiceDate.toggle()"><i
                              class="far fa-calendar-alt"></i></span>
                        </div>
                      </div>
                    </div> -->
                    <!--vishal--->

                    <!-- <label class="col-form-label-xs col-sm-1" *ngIf="IsTaxInvoiceNo">Tax Invoice No<span
                        style="color: red;" class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2" *ngIf="IsTaxInvoiceNo">
                      <input type="text" id="txtTaxInvoiceNo" autocomplete="off" [(ngModel)]="model.TaxInvoiceNo"
                        (keypress)="TaxInvoiceKeyPress()" placeholder="" class="form-control form-control-sm" />
                    </div> -->

                    <!--vishal--->
                    <!-- <label class="col-form-label-xs col-sm-1" *ngIf="IsTaxInvoiceNo">Tax Invoice Date<span
                        style="color: red;" class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2" *ngIf="IsTaxInvoiceDate">
                      <div class="input-group" (mouseenter)="onKeypressInvoicedDate($event)">
                        <input class="form-control form-control-sm" placeholder="" id="txtInvoiceDate"
                          autocomplete="off" [(ngModel)]="model.TaxInvoiceDate" ngbDatepicker
                          #InvoiceDate="ngbDatepicker">
                        <div class="input-group-append">
                          <span class="input-group-text" (click)="InvoiceDate.toggle()"><i
                              class="far fa-calendar-alt"></i></span>
                        </div>
                      </div>
                    </div> -->
                    <!--vishal--->


                    <label class="col-form-label-xs col-sm-1">Tax Invoice No<span style="color: red;"
                        class="Mandatoryfield" *ngIf="IsTaxInvoiceNo"><b>*</b></span></label>
                    <div class="col-sm-2">
                      <input type="text" id="txtTaxInvoiceNo" autocomplete="off" [(ngModel)]="model.TaxInvoiceNo"
                        (keypress)="TaxInvoiceKeyPress()" placeholder="" class="form-control form-control-sm" />
                    </div>

                    <!--vishal--->
                    <label class="col-form-label-xs col-sm-1">Tax Invoice Date<span style="color: red;"
                        class="Mandatoryfield" *ngIf="IsTaxInvoiceNo"><b>*</b></span></label>
                    <div class="col-sm-2">
                      <div class="input-group" (mouseenter)="onKeypressInvoicedDate($event)">
                        <input class="form-control form-control-sm" placeholder="" id="txtInvoiceDate"
                          autocomplete="off" [(ngModel)]="model.TaxInvoiceDate" ngbDatepicker
                          #InvoiceDate="ngbDatepicker" [minDate]="minInvoiceDt" [maxDate]="maxInvoiceDt">
                        <div class="input-group-append">
                          <span class="input-group-text" (click)="InvoiceDate.toggle()"><i
                              class="far fa-calendar-alt"></i></span>
                        </div>
                      </div>
                    </div>

                    <label class="col-form-label-xs col-sm-1" *ngIf="IsDispatchFor">Dispatch For<span
                        style="color: red;" class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2" *ngIf="IsDispatchFor">
                      <select class="form-control form-control-sm" id="txtDispatchFrom" [(ngModel)]="model.DispatchFrom"
                        (change)="ChangeDispatchFrom(model.DispatchFrom)">
                        <option class="dropdown-item" value="0">Select</option>
                        <option *ngFor="let item of DispatchFromList" [value]="item.Id">{{item.Name}}</option>
                      </select>
                    </div>
                    <!-- <label class="col-form-label-xs col-sm-1" *ngIf="IsTaxInvoiceNo">Tax Invoice File<span
                        style="color: red;" class="Mandatoryfield"><b>*</b></span><a *ngIf="IsTaxInvoiceFile"
                        (click)="TaxInvViewfileClick()" title="File View" style="color:green"><i
                          class="fa fa-eye"></i></a></label>
                    <div class="col-sm-2" *ngIf="IsTaxInvoiceNo">
                      <input type="file" id="fileimage" #TaxFile (change)="onTaxInvoiceFileChange($event)"
                        accept="application/pdf, image/jpeg" placeholder="Choose file">
                    </div> -->
                    <label class="col-form-label-xs col-sm-1">Expected Delivery Date<span style="color: red;"
                        class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2">
                      <div class="input-group" (mouseenter)="onKeypressExpectedDate($event)">
                        <input class="form-control form-control-sm" placeholder="" id="txtExpected" autocomplete="off"
                          [(ngModel)]="model.ExpectedDate" ngbDatepicker #ExpectedDate="ngbDatepicker"
                          [minDate]="minExpdelDt">

                        <div class="input-group-append">
                          <span class="input-group-text" (click)="ExpectedDate.toggle()"><i
                              class="far fa-calendar-alt"></i></span>
                        </div>
                      </div>
                    </div>

                  </div>

                  <div class="row mb-1">
                    <label class="col-form-label-xs col-sm-1">Document Sent</label>
                    <div class="col-sm-2">
                      <input type="checkbox" id="txtIsdispatch" [(ngModel)]="model.IsDispatch" placeholder="" />
                    </div>
                    <label class="col-form-label-xs col-sm-1">Dispatch Instruction<span style="color: red;"
                        class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2" *ngIf="IsDispatchInstraction">

                      <angular2-multiselect id="txtDispatchInstraction" [data]="DispatchInstructionList"
                        [(ngModel)]="selectedDIArr" [settings]="MultidropdownSettings"
                        (onSelect)="ChangeDispatchInstruction('')" (onDeSelect)="ChangeDispatchInstruction('')"
                        (onSelectAll)="ChangeDispatchInstruction('')"
                        (onDeSelectAll)="ChangeDispatchInstruction('DelAll')">
                      </angular2-multiselect>

                      <!-- <select class="form-control form-control-sm" id="txtDispatchInstraction" [(ngModel)]="model.DispatchInstructionId"(change)="ChangeDispatchInstruction(model.DispatchInstructionId)"	
                      >
                      <option class="dropdown-item" value="0">Select</option>
                      <option *ngFor="let item of DispatchInstructionList" [value]="item.Id">{{item.Text}}</option>
                    </select> -->
                    </div>
                    <!--Brahamjot kaur 19/7/2022-->

                    <!-- <label class="col-form-label-xs col-sm-1" *ngIf="IsDispatchInstraction">DI Status<span style="color: red;"
                    class="Mandatoryfield"><b>*</b></span></label>
                <div class="col-sm-2"*ngIf="IsDispatchInstraction" >
                  <select class="form-control form-control-sm" id="txtDIStatus" [(ngModel)]="model.DIStatusId"(change)="ChangeDIStatus()"	
                    >
                    <option class="dropdown-item" value="0">Select</option>
                    <option *ngFor="let item of DIStatusList" [value]="item.Id">{{item.DIStatusName}}</option>
                  </select>
                </div> -->


                    <label class="col-form-label-xs col-sm-1" *ngIf="IsHideShowCancelBtn">Cancellation Reason<span
                        style="color: red;" class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2" *ngIf="IsHideShowCancelBtn">
                      <select class="form-control form-control-sm" id="txtInCaseReason" [(ngModel)]="model.InCaseReason"
                        (change)="changeCaseReason()">
                        <option class="dropdown-item" value="0">Select</option>
                        <option *ngFor="let item of CancelReasonData" [value]="item.id">{{item.ReasonName}}</option>
                      </select>
                    </div>

                    <label class="col-form-label-xs col-sm-1"></label>
                    <div class="col-sm-2" *ngIf="Save && IsPartialUpDateDispatchRequest">
                      <button type="button" class="btn btn-sm btn-success"
                        (click)="PartialUpDateDispatchRequest()">Partial Update</button>
                    </div>
                  </div>
                  <!-- <div class="row mb-1" >
                    <label class="col-form-label-xs col-sm-1">Cancellation Reason<span style="color: red;"
                        class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2">
                      <select class="form-control form-control-sm" id="txtInCaseReason" [(ngModel)]="model.InCaseReason"
                        (change)="changeCaseReason()">
                        <option class="dropdown-item" value="0">Select</option>
                        <option *ngFor="let item of CancelReasonData" [value]="item.id">{{item.ReasonName}}</option>
                      </select>
                    </div>
                  </div> -->
                </fieldset>

                <!-- <span></span>-->
                <!-- <span></span>  -->

                <fieldset class="scheduler-border">
                  <legend class="scheduler-border">Item Details</legend>
                  <div class="col-sm-12" style="overflow-x:scroll; min-height:330px;">
                    <!--This table Used For Same State-->
                    <table id="tblOne" class="table table-striped table-bordered" *ngIf="IsTransferTypeSameState">
                      <thead>
                        <tr>
                          <th></th>

                          <!-- <th *ngIf="Correctioncolumnhideandshow">Correction Code<span style="color:red;"
                              class="Mandatoryfield"><b>*</b></span></th> -->
                          <th>Edit</th>
                          <th>History</th>
                          <th>Item Name<span style="color:red;" class="Mandatoryfield"><b>*</b></span></th>
                          <th>Item Make<span style="color:red;" class="Mandatoryfield"><b>*</b></span></th>
                          <th>Part No<span style="color:red;" class="Mandatoryfield"><b>*</b></span></th>
                          <th>&nbsp;&nbsp;&nbsp;Equipment Type<span style="color:red"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;Stock&nbsp;Type<span style="color:red"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;</th>
                          <th *ngIf="DispatchTypeHideShow">&nbsp;&nbsp;&nbsp;Dispatch&nbsp;Type<span style="color:red"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Item&nbsp;Description<span
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sub&nbsp;Description<span
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;UOM<span style="color:red;"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;</th>
                          <th>HSN/SAC<span style="color:red" class="Mandatoryfield"><b>*</b></span></th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Qty<span style="color:red"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th style="text-align: center;">Serial&nbsp;No.<span style="color:red"
                              class="Mandatoryfield"><b>*</b></span></th>
                          <th *ngIf="IsReceivedHideShow">Received&nbsp;Qty<span style="color:red"
                              class="Mandatoryfield"><b></b></span></th>
                          <th *ngIf="IsReceivedHideShow">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reason<span
                              style="color:red"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th *ngIf="IsReceivedHideShow">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remarks<span
                              style="color:red"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>

                          <th>&nbsp;&nbsp;&nbsp;Unit&nbsp;Rate&nbsp;(in&nbsp;Rs.)<span style="color:red;"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Total&nbsp;&nbsp;Amount&nbsp;(in&nbsp;Rs.)<span
                              style="color:red;" class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>Discount&nbsp;(in&nbsp;Rs.)<span style="color:red;" class="Mandatoryfield"><b>*</b></span>
                          </th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Grand&nbsp;&nbsp;Total&nbsp;(in&nbsp;Rs.)<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Manufacturing&nbsp;&nbsp;Date<span style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <!-- <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Serial&nbsp;&nbsp;No<span style="color:red;" class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>      -->
                          <th>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoice&nbsp;&nbsp;Date<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoice&nbsp;&nbsp;No<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Site&nbsp;&nbsp;Id<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <!-- <th *ngIf="Correctioncolumnhideandshow">Reason<span style="color:red;"
                              class="Mandatoryfield"><b>*</b></span></th>
                          <th *ngIf="Correctioncolumnhideandshow">Remarks<span class="Mandatoryfield"><b></b></span>
                          </th>
                          <th *ngIf="Correctioncolumnhideandshow"></th>
                           -->
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let dynamic of dynamicArray; let i = index">
                          <td (click)="deleteRow(i)" style="width:20px;">
                            <i class="fa fa-trash text-danger" title="Delete"></i>
                          </td>
                          <!-- <td *ngIf="Correctioncolumnhideandshow">
                            <select style="width:80px;" class="form-control form-control-sm ItemCode"
                              (change)="ChangeCorrectionCode(i,dynamicArray[i].IsCorrectionCodeId)"
                              id="ddlCorrectionCodeId_{{i}}" [(ngModel)]="dynamicArray[i].IsCorrectionCodeId"
                              *ngIf="dynamicArray[i].IsCorrection">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let itemC of CorrectionItemCodeList" [value]="itemC.DispatchListId">Line
                                Item
                                {{itemC.RowId+'-'+itemC.itemName}}</option>
                            </select>
                          </td> -->
                          <td (click)="UpdateDispatchItemEntry(i)" style="width:40px; text-align: center;">
                            <i class="fa fa-edit text-success" title="edit"></i>
                          </td>
                          <td style="width:100px;text-align: center;">
                            <a (click)="ClickHistory(dynamicArray[i].ItemNameId, i)">
                              <i _ngcontent-dpu-c137="" class="fa fa-eye text-primary" title="View History"></i>
                            </a>
                          </td>
                          <td style="width:80px;">
                            <select style="width:80px;" class="form-control form-control-sm ItemName"
                              id="ddlItemNameId_{{i}}" [(ngModel)]="dynamicArray[i].ItemNameId"
                              (change)="ChangeEditItemName(dynamicArray[i].ItemNameId,i)"
                              [disabled]="IsItemListDisabled">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of SearchItemNameList" [value]="item.id">{{item.itemName}}
                              </option>
                            </select>
                          </td>

                          <td style="width:100px;">
                            <select style="width:100px;" class="form-control form-control-sm ItemMake"
                              id="ddlItemMake_{{i}}" [(ngModel)]="dynamicArray[i].ItemMakeId"
                              (change)="ChangeEditItemMake(dynamicArray[i].ItemMakeId,dynamicArray[i].ItemNameId,i)"
                              [disabled]="IsItemListDisabled">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of dynamicArray[i].EditItemMake" [value]="item.id">
                                {{item.itemName}}</option>
                            </select>
                          </td>

                          <td style="width:100px;">
                            <select style="width:100px;" class="form-control form-control-sm ItemCode"
                              id="ddlItemId_{{i}}" [(ngModel)]="dynamicArray[i].ItemId"
                              (change)="ChangeEditItemCode(dynamicArray[i].ItemId,i)" [disabled]="IsItemListDisabled">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of dynamicArray[i].EditItemCode" [value]="item.id">
                                {{item.itemName}}</option>
                            </select>
                          </td>

                          <td style="width:100px;">
                            <select class="form-control form-control-sm EqType" id="ddlEqTypeId_{{i}}"
                              [(ngModel)]="dynamicArray[i].EqTypeId"
                              (change)="ChangeEqupmnet(dynamicArray[i].EqTypeId,i)" [disabled]="IsItemListDisabled">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of EquipmentTypeList" [value]="item.id">{{item.itemName}}
                              </option>
                            </select>
                          </td>
                          <td style="width:120px;">
                            <select class="form-control form-control-sm Client" id="ddlClient_{{i}}"
                              [(ngModel)]="dynamicArray[i].ClientId" (change)="ChangeClient(dynamicArray[i].ClientId,i)"
                              [disabled]="IsItemListDisabled">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of ClientList" [value]="item.Id">{{item.Name}}</option>
                            </select>
                          </td>
                          <td *ngIf="DispatchTypeHideShow" style="width:120px;">
                            <select class="form-control form-control-sm DispatchType" id="ddlDispatchType_{{i}}"
                              [(ngModel)]="dynamicArray[i].DispatchTypeId"
                              (change)="ChangeDipatch(dynamicArray[i].DispatchTypeId,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of DispatchTypeList" [value]="item.Id">{{item.DispatchType}}
                              </option>
                            </select>
                          </td>
                          <td style="width:280px;">
                            <textarea [(ngModel)]="dynamicArray[i].ItemDescription" readonly
                              class="form-control form-control-sm" type="text" style="text-align:center;"> </textarea>
                          </td>
                          <td style="width:280px;">
                            <textarea class="form-control form-control-sm SubDescription" id="txtSubDesc_{{i}}"
                              autocomplete="off" [(ngModel)]="dynamicArray[i].SubDescription" (blur)="subDescKeyPress()"
                              type="text" style="text-align:center;"></textarea>
                          </td>

                          <td style="width:50px;">
                            <select class="form-control form-control-sm UnitName" id="ddlUnitName_{{i}}"
                              [(ngModel)]="dynamicArray[i].UnitName" [disabled]="IsItemListDisabled"
                              (change)="ChangeUnit(dynamicArray[i].UnitName,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of dynamicArray[i].UnitList" [value]="item.Id">{{item.UnitName}}
                              </option>
                            </select>
                          </td>
                          <td style="width:80px;">
                            <input class="form-control form-control-sm HSN" maxlength="4" id="txtHSN_{{i}}"
                              maxlength="4" autocomplete="off" [(ngModel)]="dynamicArray[i].HSN" (blur)="HSNKeyPress()"
                              appCopyPastNumFloatValue type="text" style="text-align:center;" />
                          </td>
                          <input class="form-control form-control-sm " type="hidden" autocomplete="off"
                            [(ngModel)]="dynamicArray[i].HideConversionValue" />
                          <td style="width:80px;">
                            <input class="form-control form-control-sm Qty" id="txtQty_{{i}}"
                              (change)="validateStockQty()" autocomplete="off" (blur)="QtyKeyPress()"
                              [(ngModel)]="dynamicArray[i].Qty" (keyup)="fnBindItemGrossToatl()"
                              appCopyPastNumFloatValue type="text" style="text-align:center;"
                              [disabled]="IsItemListDisabled" />
                            <label
                              *ngIf="dynamicArray[i].HideShowConValue">S-Qty={{dynamicArray[i].ConversionUnit}}</label>
                            <input style="width:70px;" *ngIf="dynamicArray[i].HideShowConValue"
                              class="form-control form-control-sm ConversionValue"
                              [(ngModel)]="dynamicArray[i].ConversionValue" (blur)="OnblurConversionValue()"
                              appCopyPastNumFloatValue type="text" style="text-align:center;"
                              [disabled]="IsItemListDisabled" />
                            <input style="width:120px;" class="form-control form-control-sm hideIsConversion"
                              [(ngModel)]="dynamicArray[i].IsConversion" type="hidden" style="text-align:center;" />
                          </td>
                          <td style="width:100px;text-align: center;">
                            <a (click)="showModal(dynamicArray[i].Qty, i)">
                              <i _ngcontent-dpu-c137="" class="fa fa-plus"></i>
                            </a>
                          </td>
                          <td style="width:50px;" *ngIf="IsReceivedHideShow">
                            <input class="form-control form-control-sm ReceivedQty" id="txtReceivedQty_{{i}}"
                              autocomplete="off" [(ngModel)]="dynamicArray[i].ReceivedQty" (blur)="ReceivedKeyPress()"
                              appCopyPastNumFloatValue type="text" style="text-align:center;" />
                          </td>
                          <td style="width:280px;" *ngIf="IsReceivedHideShow">
                            <select class="form-control form-control-sm ReasonId" id="txtReasonId_{{i}}"
                              (change)="ChangeReason()" [(ngModel)]="dynamicArray[i].ReasonId">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of ItemReasonData" [value]="item.id">{{item.ReasonName}}</option>
                            </select>
                          </td>
                          <td style="width:280px;" *ngIf="IsReceivedHideShow">
                            <textarea id="txtRemarks_{{i}}" [(ngModel)]="dynamicArray[i].Remarks"
                              (blur)="RemarksKeyPress()" class="form-control form-control-sm Remarks" type="text"
                              style="text-align:center;"> </textarea>
                          </td>
                          <td style="width:50px;">
                            <input class="form-control form-control-sm Rate" id="txtRate_{{i}}" autocomplete="off"
                              (blur)="RateKeyPress()" [(ngModel)]="dynamicArray[i].Rate"
                              (keyup)="fnBindItemGrossToatl()" appCopyPastNumFloatValue type="text"
                              style="text-align:center;" />
                          </td>
                          <td style="width:120px;">
                            <input class="form-control form-control-sm itmsTotalAmount" readonly
                              [(ngModel)]="dynamicArray[i].TotalAmount" type="text" style="text-align:center;" />
                          </td>
                          <td style="width:60px;">
                            <input class="form-control form-control-sm Discount" id="txtDiscount_{{i}}"
                              autocomplete="off" (blur)="DiscountKeyPress()" [(ngModel)]="dynamicArray[i].Discount"
                              (keyup)="fnBindItemGrossToatl()" appCopyPastNumFloatValue type="text"
                              style="text-align:center;" />
                          </td>

                          <td style="width:60px;">
                            <input class="form-control form-control-sm" readonly id="txtGetTotalAmount"
                              [(ngModel)]="dynamicArray[i].GetTotalAmount" type="text" style="text-align:center;" />
                          </td>

                          <td style="width:60px;">
                            <div class="input-group">
                              <input class="form-control form-control-sm" placeholder="dd/mm/yyyy" autocomplete="off"
                                name="dp" [(ngModel)]="dynamicArray[i].ManufDate" ngbDatepicker #m="ngbDatepicker">
                              <div class="input-group-addon" (click)="m.open()">
                                <span class="input-group-text">
                                  <i class="far fa-calendar-alt"></i>
                                </span>
                              </div>
                            </div>
                          </td>
                          <!-- <td style="width:140px;">    
                              <input class="form-control form-control-sm SerialNo"  id="txtSerialNo_{{i}}" autocomplete="off" [(ngModel)]="dynamicArray[i].SerialNo" (blur)="SerialNoKeyPress()"   type="text" style="text-align:center;"/>   
                            </td>  -->
                          <td style="width:60px;">
                            <div class="input-group">
                              <input class="form-control form-control-sm" placeholder="dd/mm/yyyy" autocomplete="off"
                                name="dp" [(ngModel)]="dynamicArray[i].InvoiceTaxDate" ngbDatepicker #d="ngbDatepicker">
                              <div class="input-group-addon" (click)="d.open()">
                                <span class="input-group-text">
                                  <i class="far fa-calendar-alt"></i>
                                </span>
                              </div>
                            </div>
                          </td>

                          <td style="width:140px;">
                            <input class="form-control form-control-sm InvoiceTaxNo" id="txtInvoiceTaxNo_{{i}}"
                              autocomplete="off" [(ngModel)]="dynamicArray[i].InvoiceTaxNo" type="text"
                              style="text-align:center;" />
                          </td>
                          <td>{{dynamic.CustomerSiteId}}</td>

                          <!-- <td *ngIf="Correctioncolumnhideandshow">
                            <select style="width:120px;" (change)="ChangeCorrectionEntryReason(i)"
                              class="form-control form-control-sm TaxWith" id="ddlCentryReason_{{i}}"
                              [(ngModel)]="dynamicArray[i].IsCorrectionEntryReason"
                              *ngIf="dynamicArray[i].IsCorrection">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let itemC of CorretionEntryReasonDetail" [value]="itemC.Id">
                                {{itemC.ReasonName}}</option>
                            </select>
                          </td>
                          <td *ngIf="Correctioncolumnhideandshow">
                            <textarea class="form-control form-control-sm " id="txtCorrectionEntryRemarks_{{i}}"
                              [(ngModel)]="dynamicArray[i].CorrectionEntryRemarks" type="text"
                              (keypress)="ClickCorrectionEntryRemarks(i)" style="text-align:center;width: 120px;"
                              *ngIf="dynamicArray[i].IsCorrection"></textarea>
                          </td>
                          <td *ngIf="Correctioncolumnhideandshow">
                            <button type="submit" [disabled]="dynamicArray[i].IsCorrectionDisabled"
                              class="btn btn-sm btn-success" *ngIf="Save && dynamicArray[i].IsCorrection"
                              (click)="ConfirmCorrectionPopup(i)">Update </button>
                          </td> -->
                        </tr>
                        <tr>
                          <!-- <td *ngIf="Correctioncolumnhideandshow"></td> -->
                          <td colspan="13">Gross Total</td>
                          <td style="text-align:center;">{{totalSumPOQuantity}}</td>
                          <td></td>
                          <td></td>
                          <td *ngIf="IsUnitConversion"></td>
                          <td *ngIf="IsUnitConversion"></td>
                          <td></td>
                          <td></td>
                          <td *ngIf="IsReceivedHideShow"></td>
                          <td *ngIf="IsReceivedHideShow"></td>
                          <td *ngIf="IsReceivedHideShow"></td>
                          <td style="text-align:center;">{{totalSumAmount}}</td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <!-- <td *ngIf="Correctioncolumnhideandshow"></td>
                          <td *ngIf="Correctioncolumnhideandshow"></td>
                          <td *ngIf="Correctioncolumnhideandshow"></td> -->
                          <!-- <td></td> -->
                        </tr>
                        <tr *ngIf="ItemAddrowhideshow">
                          <td (click)="addRow()">
                            <i class="fa fa-plus"></i>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                    <!--This table Used For Other State-->
                    <table id="tblOne" class="table table-striped table-bordered" *ngIf="IsTransferTypeOtherState">
                      <thead>
                        <tr>
                          <th></th>
                          <!-- <th *ngIf="Correctioncolumnhideandshow">Correction Code<span style="color:red;"
                              class="Mandatoryfield"><b>*</b></span></th> -->
                            <th>Edit</th>  
                          <th>History<span style="color:red;" class="Mandatoryfield"><b></b></span></th>
                          <th>Item Name<span style="color:red;" class="Mandatoryfield"><b>*</b></span></th>

                          <th>Item Make<span style="color:red;" class="Mandatoryfield"><b>*</b></span></th>
                          <th>Part No<span style="color:red;" class="Mandatoryfield"><b>*</b></span></th>
                          <th>&nbsp;&nbsp;&nbsp;Equipment Type<span style="color:red"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;Stock&nbsp;Type<span style="color:red"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;</th>
                          <th *ngIf="DispatchTypeHideShow">&nbsp;&nbsp;&nbsp;Dispatch&nbsp;Type<span style="color:red"
                              class="Mandatoryfield"><b>*</b></span></th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Item&nbsp;Description<span
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sub&nbsp;Description<span
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>HSN/SAC<span style="color:red" class="Mandatoryfield"><b>*</b></span></th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;UOM<span style="color:red;"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Qty<span style="color:red"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>Serial&nbsp;No.<span style="color:red" class="Mandatoryfield"><b>*</b></span></th>
                          <th *ngIf="IsReceivedHideShow">Received&nbsp;Qty<span style="color:red"
                              class="Mandatoryfield"><b></b></span></th>
                          <th *ngIf="IsReceivedHideShow">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reason<span
                              style="color:red"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th *ngIf="IsReceivedHideShow">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remarks<span
                              style="color:red"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;Unit&nbsp;Rate&nbsp;(in&nbsp;Rs.)<span style="color:red;"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Total&nbsp;&nbsp;Amount&nbsp;(in&nbsp;Rs.)<span
                              style="color:red;" class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>IGST(%)<span style="color:red;" class="Mandatoryfield"><b>*</b></span></th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IGST&nbsp;Value&nbsp;(in&nbsp;Rs.)<span style="color:red;"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Grand&nbsp;&nbsp;Total&nbsp;(in&nbsp;Rs.)<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Manufacturing&nbsp;&nbsp;Date<span style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <!-- <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Serial&nbsp;&nbsp;No<span style="color:red;" class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>      -->
                          <th>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoice&nbsp;&nbsp;Date<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoice&nbsp;&nbsp;No<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <!-- change by Hemant Tyagi 22/09/2022 -->
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Site&nbsp;&nbsp;Id<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <!-- end -->

                          <!-- <th *ngIf="Correctioncolumnhideandshow">Reason<span style="color:red;"
                              class="Mandatoryfield"><b>*</b></span></th>
                          <th *ngIf="Correctioncolumnhideandshow">Remarks<span class="Mandatoryfield"><b></b></span>
                          </th>
                          <th *ngIf="Correctioncolumnhideandshow"></th> -->
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let dynamic of dynamicArray; let i = index">
                          <td (click)="deleteRow(i)" style="width:20px;">
                            <i class="fa fa-trash text-danger" title="Delete"></i>
                          </td>
                          <!-- <td *ngIf="Correctioncolumnhideandshow">
                            <select style="width:80px;" class="form-control form-control-sm ItemCode"
                              (change)="ChangeCorrectionCode(i,dynamicArray[i].IsCorrectionCodeId)"
                              id="ddlCorrectionCodeId_{{i}}" [(ngModel)]="dynamicArray[i].IsCorrectionCodeId"
                              *ngIf="dynamicArray[i].IsCorrection">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let itemC of CorrectionItemCodeList" [value]="itemC.DispatchListId">Line
                                Item
                                {{itemC.RowId+'-'+itemC.itemName}}</option>
                            </select>
                          </td> -->
                          <td (click)="UpdateDispatchItemEntry(i)" style="width:40px; text-align: center;">
                            <i class="fa fa-edit text-success" title="edit"></i>
                          </td>
                          <td style="width:100px;text-align: center;">
                            <a (click)="ClickHistory(dynamicArray[i].ItemNameId, i)">
                              <i _ngcontent-dpu-c137="" class="fa fa-eye text-primary" title="View History" style="color:green"></i>
                            </a>
                          </td>
                          <td style="width:80px;">
                            <select style="width:80px;" class="form-control form-control-sm ItemName"
                              id="ddlItemNameId_{{i}}" [(ngModel)]="dynamicArray[i].ItemNameId"
                              [disabled]="IsItemListDisabled"
                              (change)="ChangeEditItemName(dynamicArray[i].ItemNameId,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of SearchItemNameList" [value]="item.id">{{item.itemName}}
                              </option>
                            </select>
                          </td>

                          <td style="width:100px;">
                            <select style="width:100px;" class="form-control form-control-sm ItemMake"
                              id="ddlItemMake_{{i}}" [(ngModel)]="dynamicArray[i].ItemMakeId"
                              [disabled]="IsItemListDisabled"
                              (change)="ChangeEditItemMake(dynamicArray[i].ItemMakeId,dynamicArray[i].ItemNameId,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of dynamicArray[i].EditItemMake" [value]="item.id">
                                {{item.itemName}}</option>
                              <!-- <option *ngFor="let item4 of ItemListDataDetail" [value]="item4.id" >{{item4.itemName}}</option> -->
                            </select>
                          </td>
                          <td style="width:100px;">
                            <select style="width:100px;" class="form-control form-control-sm ItemCode"
                              id="ddlItemId_{{i}}" [(ngModel)]="dynamicArray[i].ItemId"
                              (change)="ChangeEditItemCode(dynamicArray[i].ItemId,i)" [disabled]="IsItemListDisabled">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of dynamicArray[i].EditItemCode" [value]="item.id">
                                {{item.itemName}}</option>

                            </select>
                          </td>
                          <td style="width:100px;">
                            <select class="form-control form-control-sm EqType" id="ddlEqTypeId_{{i}}"
                              [(ngModel)]="dynamicArray[i].EqTypeId"
                              (change)="ChangeEqupmnet(dynamicArray[i].EqTypeId,i)" [disabled]="IsItemListDisabled">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of EquipmentTypeList" [value]="item.id">{{item.itemName}}
                              </option>
                            </select>
                          </td>
                          <td style="width:120px;">
                            <select class="form-control form-control-sm Client" id="ddlClient_{{i}}"
                              [(ngModel)]="dynamicArray[i].ClientId" (change)="ChangeClient(dynamicArray[i].ClientId,i)"
                              [disabled]="IsItemListDisabled">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of ClientList" [value]="item.Id">{{item.Name}}</option>
                            </select>
                          </td>
                          <td *ngIf="DispatchTypeHideShow" style="width:120px;">
                            <select class="form-control form-control-sm DispatchType" id="ddlDispatchType_{{i}}"
                              [(ngModel)]="dynamicArray[i].DispatchTypeId"
                              (change)="ChangeDipatch(dynamicArray[i].DispatchTypeId,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of DispatchTypeList" [value]="item.Id">{{item.DispatchType}}
                              </option>
                            </select>
                          </td>
                          <td style="width:280px;">
                            <textarea [(ngModel)]="dynamicArray[i].ItemDescription" readonly
                              class="form-control form-control-sm" type="text" style="text-align:center;"> </textarea>
                          </td>

                          <td style="width:280px;">
                            <!-- <textarea [(ngModel)]="dynamicArray[i].SubDescription"
                              class="form-control form-control-sm" type="text" style="text-align:center;"> </textarea> -->
                            <textarea class="form-control form-control-sm SubDescription" id="txtSubDesc_{{i}}"
                              autocomplete="off" [(ngModel)]="dynamicArray[i].SubDescription" (blur)="subDescKeyPress()"
                              type="text" style="text-align:center;"></textarea>
                          </td>
                          <td style="width:80px;">
                            <input class="form-control form-control-sm HSN" id="txtHSN_{{i}}" maxlength="4"
                              autocomplete="off" [(ngModel)]="dynamicArray[i].HSN" (blur)="HSNKeyPress()"
                              appCopyPastNumFloatValue type="text"
                              style="text-align:center;" />
                          </td>
                          <td style="width:50px;">
                            <!-- <input style="width:50px;" class="form-control form-control-sm"  [(ngModel)]="dynamicArray[i].UnitName" readonly type="text"/>     -->
                            <select class="form-control form-control-sm UnitName" id="ddlUnitName_{{i}}"
                              [(ngModel)]="dynamicArray[i].UnitName" [disabled]="IsItemListDisabled"
                              (change)="ChangeUnit(dynamicArray[i].UnitName,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of dynamicArray[i].UnitList" [value]="item.Id">{{item.UnitName}}
                              </option>
                            </select>
                            <!-- <label *ngIf="dynamicArray[i].HideShowConValue">S-UOM</label>
                                <input style="width:50px;" class="form-control form-control-sm"  *ngIf="dynamicArray[i].HideShowConValue" readonly [(ngModel)]="dynamicArray[i].ConversionUnit"  type="text" [disabled]="IsItemListDisabled"/> 
                              -->
                          </td>
                          <td style="width:80px;">
                            <input class="form-control form-control-sm Qty" id="txtQty_{{i}}" autocomplete="off"
                              (blur)="QtyKeyPress()" [(ngModel)]="dynamicArray[i].Qty" appCopyPastNumFloatValue
                              (keyup)="fnBindIGSTValueItemGrossToatal()" type="text" style="text-align:center;"
                              [disabled]="IsItemListDisabled" />
                            <label
                              *ngIf="dynamicArray[i].HideShowConValue">S-Qty={{dynamicArray[i].ConversionUnit}}</label>
                            <input style="width:70px;" *ngIf="dynamicArray[i].HideShowConValue"
                              class="form-control form-control-sm ConversionValue"
                              [(ngModel)]="dynamicArray[i].ConversionValue" (blur)="OnblurConversionValue()"
                              appCopyPastNumFloatValue type="text" style="text-align:center;"
                              [disabled]="IsItemListDisabled" />
                            <input style="width:120px;" class="form-control form-control-sm hideIsConversion"
                              [(ngModel)]="dynamicArray[i].IsConversion" type="hidden" style="text-align:center;" />
                          </td>
                          <td style="width:80px; text-align: center;">
                            <a (click)="showModal(dynamicArray[i].Qty, i)">
                              <i _ngcontent-dpu-c137="" class="fa fa-plus"></i>
                            </a>
                          </td>
                          <td style="width:50px;" *ngIf="IsReceivedHideShow">
                            <input class="form-control form-control-sm ReceivedQty" (blur)="ReceivedKeyPress()"
                              id="txtReceivedQty_{{i}}" autocomplete="off" [(ngModel)]="dynamicArray[i].ReceivedQty"
                              appCopyPastNumFloatValue type="text" style="text-align:center;" />
                          </td>
                          <td style="width:280px;" *ngIf="IsReceivedHideShow">
                            <select class="form-control form-control-sm ReasonId" id="txtReasonId_{{i}}"
                              (change)="ChangeReason()" [(ngModel)]="dynamicArray[i].ReasonId">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of ItemReasonData" [value]="item.id">{{item.ReasonName}}</option>
                            </select>
                          </td>
                          <td style="width:280px;" *ngIf="IsReceivedHideShow">
                            <textarea id="txtRemarks_{{i}}" [(ngModel)]="dynamicArray[i].Remarks"
                              (blur)="RemarksKeyPress()" class="form-control form-control-sm Remarks" type="text"
                              style="text-align:center;"> </textarea>
                          </td>


                          <td style="width:50px;">
                            <input class="form-control form-control-sm Rate" id="txtRate_{{i}}" autocomplete="off"
                              (blur)="RateKeyPress()" [(ngModel)]="dynamicArray[i].Rate"
                              (keyup)="fnBindIGSTValueItemGrossToatal()" appCopyPastNumFloatValue type="text"
                              style="text-align:center;" />
                          </td>
                          <td style="width:120px;">
                            <input class="form-control form-control-sm itmsTotalAmount" readonly
                              [(ngModel)]="dynamicArray[i].TotalAmount" type="text" style="text-align:center;" />
                          </td>
                          <td style="width:60px;">
                            <input class="form-control form-control-sm IGSTValue" id="txtIGSTValue_{{i}}"
                              autocomplete="off" (blur)="IGSTKeyPress()" [(ngModel)]="dynamicArray[i].IGSTValue"
                              appCopyPastNumFloatValue (keyup)="fnBindIGSTValueItemGrossToatal()"
                              type="text" style="text-align:center;" />
                          </td>
                          <td style="width:60px;">
                            <input class="form-control form-control-sm IGST" readonly id="txtIGST_{{i}}"
                              autocomplete="off" (blur)="IGSTKeyPress()" 
                              [(ngModel)]="dynamicArray[i].IGST" type="text"
                              style="text-align:center;" />
                          </td>

                          <td style="width:60px;">
                            <input class="form-control form-control-sm" readonly id="txtGetTotalAmount"
                              [(ngModel)]="dynamicArray[i].GetTotalAmount" type="text" style="text-align:center;" />
                          </td>

                          <td style="width:60px;">
                            <div class="input-group">
                              <input class="form-control form-control-sm" placeholder="dd/mm/yyyy"
                                 autocomplete="off" name="dp"
                                [(ngModel)]="dynamicArray[i].ManufDate" ngbDatepicker #m="ngbDatepicker">
                              <div class="input-group-addon" (click)="m.open()">
                                <span class="input-group-text">
                                  <i class="far fa-calendar-alt"></i>
                                </span>
                              </div>
                            </div>
                          </td>

                          <!-- <td style="width:140px;">    
                              <input class="form-control form-control-sm SerialNo"  id="txtSerialNo_{{i}}" autocomplete="off" [(ngModel)]="dynamicArray[i].SerialNo" (blur)="SerialNoKeyPress()"   type="text" style="text-align:center;"/>   
                            </td>  -->
                          <td style="width:60px;">
                            <div class="input-group">
                              <input class="form-control form-control-sm" placeholder="dd/mm/yyyy"
                                 autocomplete="off" name="dp"
                                [(ngModel)]="dynamicArray[i].InvoiceTaxDate" ngbDatepicker #d="ngbDatepicker">
                              <div class="input-group-addon" (click)="d.open()">
                                <span class="input-group-text">
                                  <i class="far fa-calendar-alt"></i>
                                </span>
                              </div>
                            </div>
                          </td>

                          <td style="width:140px;">
                            <input class="form-control form-control-sm InvoiceTaxNo" id="txtInvoiceTaxNo_{{i}}"
                              autocomplete="off" [(ngModel)]="dynamicArray[i].InvoiceTaxNo" type="text"
                              style="text-align:center;" />
                          </td>
                          <td>{{dynamic.CustomerSiteId}}</td>
                          <!-- <td *ngIf="Correctioncolumnhideandshow">
                            <select style="width:120px;" (change)="ChangeCorrectionEntryReason(i)"
                              class="form-control form-control-sm TaxWith" id="ddlCentryReason_{{i}}"
                              [(ngModel)]="dynamicArray[i].IsCorrectionEntryReason"
                              *ngIf="dynamicArray[i].IsCorrection">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let itemC of CorretionEntryReasonDetail" [value]="itemC.Id">
                                {{itemC.ReasonName}}</option>
                            </select>
                          </td>
                          <td *ngIf="Correctioncolumnhideandshow">
                            <textarea class="form-control form-control-sm " id="txtCorrectionEntryRemarks_{{i}}"
                              [(ngModel)]="dynamicArray[i].CorrectionEntryRemarks" type="text"
                              (keypress)="ClickCorrectionEntryRemarks(i)" style="text-align:center;width: 120px;"
                              *ngIf="dynamicArray[i].IsCorrection"></textarea>
                          </td>
                          <td *ngIf="Correctioncolumnhideandshow">
                            <button type="submit" [disabled]="dynamicArray[i].IsCorrectionDisabled"
                              class="btn btn-sm btn-success" *ngIf="Save && dynamicArray[i].IsCorrection"
                              (click)="ConfirmCorrectionPopup(i)">Update </button>
                          </td> -->
                        </tr>
                        <tr>
                          <!-- <td *ngIf="Correctioncolumnhideandshow"></td> -->
                          <td colspan="13">Gross Total</td>
                          <td style="text-align:center;">{{totalSumPOQuantity}}</td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td *ngIf="IsReceivedHideShow"></td>
                          <td *ngIf="IsReceivedHideShow"></td>
                          <td *ngIf="IsReceivedHideShow"></td>
                          <td></td>
                          <td style="text-align:center;">{{totalSumAmount}}</td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <!-- <td *ngIf="Correctioncolumnhideandshow"></td>
                          <td *ngIf="Correctioncolumnhideandshow"></td>
                          <td *ngIf="Correctioncolumnhideandshow"></td>
                          <td *ngIf="Correctioncolumnhideandshow"></td> -->
                        </tr>
                        <tr *ngIf="ItemAddrowhideshow">
                          <td (click)="addRow()">
                            <i class="fa fa-plus"></i>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                    <!--This table Used For Vendor Sale etc-->
                    <table id="tblVendorTax" class="table table-striped table-bordered" *ngIf="IsVendorTax">
                      <thead>
                        <tr>
                          <th></th>
                          <th *ngIf="Correctioncolumnhideandshow">Correction Code<span style="color:red;"
                              class="Mandatoryfield"><b>*</b></span></th>
                          <th>History<span style="color:red;" class="Mandatoryfield"><b></b></span></th>
                          <th>Item Name<span style="color:red;" class="Mandatoryfield"><b>*</b></span></th>
                          <th>Item Make<span style="color:red;" class="Mandatoryfield"><b>*</b></span></th>
                          <th>Part No<span style="color:red;" class="Mandatoryfield"><b>*</b></span></th>
                          <th>&nbsp;&nbsp;&nbsp;Equipment Type<span style="color:red"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;Stock&nbsp;Type<span style="color:red"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;</th>
                          <th *ngIf="DispatchTypeHideShow">&nbsp;&nbsp;&nbsp;Dispatch&nbsp;Type<span style="color:red"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Item&nbsp;Description<span
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>

                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sub&nbsp;Description<span style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>

                          <th>HSN/SAC<span style="color:red" class="Mandatoryfield"><b>*</b></span></th>

                          <th>&nbsp;&nbsp;&nbsp;&nbsp;UOM<span style="color:red;"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Qty<span style="color:red"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>

                          <th *ngIf="IsVendprScrapSale">&nbsp;&nbsp;Sale&nbsp;UOM<span style="color:red;"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th *ngIf="IsVendprScrapSale">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sale&nbsp;Qty<span
                              style="color:red"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>

                          <th>Serial&nbsp;No.<span style="color:red" class="Mandatoryfield"><b
                                *ngIf="IsSerialValidationShowHide">*</b></span></th>
                          <th *ngIf="IsReceivedHideShow">Received&nbsp;Qty<span style="color:red"
                              class="Mandatoryfield"><b></b></span></th>
                          <th *ngIf="IsReceivedHideShow">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reason<span
                              style="color:red"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th *ngIf="IsReceivedHideShow">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remarks<span
                              style="color:red"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;Unit&nbsp;Rate&nbsp;(in&nbsp;Rs.)<span style="color:red;"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;</th>
                          <!-- <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Total&nbsp;&nbsp;Amount&nbsp;(in&nbsp;Rs.)<span
                              style="color:red;" class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>IGST(%)<span style="color:red;" class="Mandatoryfield"><b>*</b></span></th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IGST&nbsp;Value&nbsp;(in&nbsp;Rs.)<span style="color:red;"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Grand&nbsp;&nbsp;Total&nbsp;(in&nbsp;Rs.)<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th> -->

                          <th vlign="center"> Basic Value<span style="color:red;" class="Mandatoryfield"><b>*</b></span>
                          </th>
                          <th vlign="center">Freight Charge</th>
                          <th vlign="center">Total Amount</th>
                          <th vlign="center">Taxable Amount</th>
                          <th vlign="center">SGST Rate(%)<span style="color:red;" class="Mandatoryfield"><b></b></span>
                          </th>
                          <th vlign="center">SGST<span style="color:red;" class="Mandatoryfield"><b></b></span></th>

                          <th vlign="center">CGST Rate(%)</th>
                          <th vlign="center">CGST<span style="color:red;" class="Mandatoryfield"><b></b></span></th>
                          <th vlign="center">IGST Rate(%)<span style="color:red;" class="Mandatoryfield"><b></b></span>
                          </th>
                          <th vlign="center">IGST<span style="color:red;" class="Mandatoryfield"><b></b></span></th>
                          <th vlign="center">TCS Rate(%)<span style="color:red;" class="Mandatoryfield"><b></b></span>
                          </th>
                          <th vlign="center">TCS<span style="color:red;" class="Mandatoryfield"><b></b></span></th>
                          <th vlign="center">Total Invoice Value <span style="color:red;"
                              class="Mandatoryfield"><b>*</b></span></th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Manufacturing&nbsp;&nbsp;Date<span style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <!-- <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Serial&nbsp;&nbsp;No<span style="color:red;" class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>      -->
                          <th>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoice&nbsp;&nbsp;Date<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoice&nbsp;&nbsp;No<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th *ngIf="Correctioncolumnhideandshow">Reason<span style="color:red;"
                              class="Mandatoryfield"><b>*</b></span></th>
                          <th *ngIf="Correctioncolumnhideandshow">Remarks<span class="Mandatoryfield"><b></b></span>
                          </th>
                          <th *ngIf="Correctioncolumnhideandshow"></th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let dynamic of dynamicArray; let i = index">
                          <td (click)="deleteRow(i)" style="width:20px;">
                            <i class="fa fa-trash" title="Delete"></i>
                          </td>
                          <td *ngIf="Correctioncolumnhideandshow">
                            <select style="width:80px;" class="form-control form-control-sm ItemCode"
                              (change)="ChangeCorrectionCode(i,dynamicArray[i].IsCorrectionCodeId)"
                              id="ddlCorrectionCodeId_{{i}}" [(ngModel)]="dynamicArray[i].IsCorrectionCodeId"
                              *ngIf="dynamicArray[i].IsCorrection">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let itemC of CorrectionItemCodeList" [value]="itemC.DispatchListId">Line
                                Item
                                {{itemC.RowId+'-'+itemC.itemName}}</option>
                            </select>
                          <td style="width:100px;text-align: center;">
                            <a (click)="ClickHistory(dynamicArray[i].ItemNameId, i)">
                              <i _ngcontent-dpu-c137="" class="fa fa-eye" title="View History" style="color:green"></i>
                            </a>
                          </td>
                          <td style="width:80px;">
                            <select style="width:80px;" class="form-control form-control-sm ItemName"
                              id="ddlItemNameId_{{i}}" [(ngModel)]="dynamicArray[i].ItemNameId"
                              [disabled]="IsItemListDisabled"
                              (change)="ChangeEditItemName(dynamicArray[i].ItemNameId,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of SearchItemNameList" [value]="item.id">{{item.itemName}}
                              </option>
                            </select>
                          </td>

                          <td style="width:100px;">
                            <select style="width:100px;" class="form-control form-control-sm ItemMake"
                              id="ddlItemMake_{{i}}" [(ngModel)]="dynamicArray[i].ItemMakeId"
                              [disabled]="IsItemListDisabled"
                              (change)="ChangeEditItemMake(dynamicArray[i].ItemMakeId,dynamicArray[i].ItemNameId,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of dynamicArray[i].EditItemMake" [value]="item.id">
                                {{item.itemName}}</option>
                              <!-- <option *ngFor="let item4 of ItemListDataDetail" [value]="item4.id" >{{item4.itemName}}</option> -->
                            </select>
                          </td>
                          <td style="width:100px;">
                            <select style="width:100px;" class="form-control form-control-sm ItemCode"
                              id="ddlItemId_{{i}}" [(ngModel)]="dynamicArray[i].ItemId"
                              (change)="ChangeEditItemCode(dynamicArray[i].ItemId,i)" [disabled]="IsItemListDisabled">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of dynamicArray[i].EditItemCode" [value]="item.id">
                                {{item.itemName}}</option>

                            </select>
                          </td>
                          <td style="width:100px;">
                            <select class="form-control form-control-sm EqType" id="ddlEqTypeId_{{i}}"
                              [(ngModel)]="dynamicArray[i].EqTypeId"
                              (change)="ChangeEqupmnet(dynamicArray[i].EqTypeId,i)" [disabled]="IsItemListDisabled">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of EquipmentTypeList" [value]="item.id">{{item.itemName}}
                              </option>
                            </select>
                          </td>
                          <td style="width:120px;">
                            <select class="form-control form-control-sm Client" id="ddlClient_{{i}}"
                              [disabled]="IsItemListDisabled" [(ngModel)]="dynamicArray[i].ClientId"
                              (change)="ChangeClient(dynamicArray[i].ClientId,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of ClientList" [value]="item.Id">{{item.Name}}</option>
                            </select>
                          </td>
                          <td *ngIf="DispatchTypeHideShow" style="width:120px;">
                            <select class="form-control form-control-sm DispatchType" [disabled]="IsItemListDisabled"
                              id="ddlDispatchType_{{i}}" [(ngModel)]="dynamicArray[i].DispatchTypeId"
                              (change)="ChangeDipatch(dynamicArray[i].DispatchTypeId,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of DispatchTypeList" [value]="item.Id">{{item.DispatchType}}
                              </option>
                            </select>
                          </td>
                          <td style="width:280px;">
                            <textarea [(ngModel)]="dynamicArray[i].ItemDescription" readonly
                              class="form-control form-control-sm" type="text" style="text-align:center;"> </textarea>
                          </td>
                          <td style="width:280px;">
                            <textarea class="form-control form-control-sm SubDescription" id="txtSubDesc_{{i}}"
                              autocomplete="off" [(ngModel)]="dynamicArray[i].SubDescription" (blur)="subDescKeyPress()"
                              [disabled]="IsItemListDisabled" type="text" style="text-align:center;"></textarea>
                          </td>
                          <td style="width:80px;">
                            <input class="form-control form-control-sm HSN" id="txtHSN_{{i}}" maxlength="4"
                              autocomplete="off" [(ngModel)]="dynamicArray[i].HSN" (blur)="HSNKeyPress()"
                              [disabled]="IsItemListDisabled" appCopyPastNumFloatValue type="text"
                              style="text-align:center;" />
                          </td>
                          <td style="width:50px;">
                            <!-- <input style="width:50px;" class="form-control form-control-sm"  [(ngModel)]="dynamicArray[i].UnitName" readonly type="text"/>     -->
                            <select class="form-control form-control-sm UnitName" id="ddlUnitName_{{i}}"
                              [(ngModel)]="dynamicArray[i].UnitName" [disabled]="IsItemListDisabled"
                              (change)="ChangeUnit(dynamicArray[i].UnitName,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of dynamicArray[i].UnitList" [value]="item.Id">{{item.UnitName}}
                              </option>
                            </select>
                            <!-- <label *ngIf="dynamicArray[i].HideShowConValue">S-UOM</label>
                                <input style="width:50px;" class="form-control form-control-sm"  *ngIf="dynamicArray[i].HideShowConValue" readonly [(ngModel)]="dynamicArray[i].ConversionUnit"  type="text" [disabled]="IsItemListDisabled"/> 
                              -->
                          </td>
                          <td style="width:80px;">
                            <input class="form-control form-control-sm Qty" id="txtQty_{{i}}" autocomplete="off"
                              (blur)="QtyKeyPress()" [(ngModel)]="dynamicArray[i].Qty" appCopyPastNumFloatValue
                              (keyup)="fnBindIGSTValueItemGrossToatal()" type="text" style="text-align:center;"
                              [disabled]="IsItemListDisabled" />
                            <label
                              *ngIf="dynamicArray[i].HideShowConValue">S-Qty={{dynamicArray[i].ConversionUnit}}</label>
                            <input style="width:70px;" *ngIf="dynamicArray[i].HideShowConValue"
                              class="form-control form-control-sm ConversionValue"
                              [(ngModel)]="dynamicArray[i].ConversionValue" (blur)="OnblurConversionValue()"
                              appCopyPastNumFloatValue type="text" style="text-align:center;"
                              [disabled]="IsItemListDisabled" />
                            <input style="width:120px;" class="form-control form-control-sm hideIsConversion"
                              [(ngModel)]="dynamicArray[i].IsConversion" type="hidden" style="text-align:center;" />
                          </td>
                          <td style="width:80px;" *ngIf="IsVendprScrapSale">
                            <select class="form-control form-control-sm SaleUnitName" id="ddlSaleUnitName_{{i}}"
                              [(ngModel)]="dynamicArray[i].SaleUnitName"
                              (change)="ChangeSaleUnit(dynamicArray[i].SaleUnitName,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of SaleUnitData" [value]="item.id">{{item.ReasonName}}
                              </option>
                            </select>
                          </td>

                          <td style="width:80px;" *ngIf="IsVendprScrapSale">
                            <input class="form-control form-control-sm SaleQty" id="txtSaleQty_{{i}}" autocomplete="off"
                              (blur)="SaleQtyKeyPress()" [(ngModel)]="dynamicArray[i].SaleQty" appCopyPastNumFloatValue
                              (keyup)="ItemRateOnblur()" type="text" style="text-align:center;" />
                          </td>


                          <td style="width:80px; text-align: center;">
                            <a (click)="showModal(dynamicArray[i].Qty, i)">
                              <i _ngcontent-dpu-c137="" class="fa fa-plus"></i>
                            </a>
                          </td>
                          <td style="width:50px;" *ngIf="IsReceivedHideShow">
                            <input class="form-control form-control-sm ReceivedQty" (blur)="ReceivedKeyPress()"
                              id="txtReceivedQty_{{i}}" autocomplete="off" [(ngModel)]="dynamicArray[i].ReceivedQty"
                              appCopyPastNumFloatValue type="text" style="text-align:center;" />
                          </td>
                          <td style="width:280px;" *ngIf="IsReceivedHideShow">
                            <select class="form-control form-control-sm ReasonId" id="txtReasonId_{{i}}"
                              (change)="ChangeReason()" [(ngModel)]="dynamicArray[i].ReasonId">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of ItemReasonData" [value]="item.id">{{item.ReasonName}}</option>
                            </select>
                          </td>
                          <td style="width:280px;" *ngIf="IsReceivedHideShow">
                            <textarea id="txtRemarks_{{i}}" [(ngModel)]="dynamicArray[i].Remarks"
                              (blur)="RemarksKeyPress()" class="form-control form-control-sm Remarks" type="text"
                              style="text-align:center;"> </textarea>
                          </td>


                          <td style="width:50px;">
                            <input class="form-control form-control-sm Rate" id="txtRate_{{i}}" autocomplete="off"
                              (blur)="RateKeyPress()" [(ngModel)]="dynamicArray[i].Rate" (blur)="ItemRateOnblur()"
                              appCopyPastNumFloatValue type="text" style="text-align:center;"
                              [disabled]="IsItemListDisabled" />
                          </td>
                          <!-- <td style="width:120px;">
                            <input class="form-control form-control-sm itmsTotalAmount" readonly
                              [(ngModel)]="dynamicArray[i].TotalAmount" type="text" style="text-align:center;" />
                          </td>
                          <td style="width:60px;">
                            <input class="form-control form-control-sm IGSTValue" id="txtIGSTValue_{{i}}"
                              autocomplete="off" (blur)="IGSTKeyPress()" [(ngModel)]="dynamicArray[i].IGSTValue"
                              appCopyPastNumFloatValue (keyup)="fnBindIGSTValueItemGrossToatal()"
                              [disabled]="IsItemListDisabled" type="text" style="text-align:center;" />
                          </td>
                          <td style="width:60px;">
                            <input class="form-control form-control-sm IGST" readonly id="txtIGST_{{i}}"
                              autocomplete="off" (blur)="IGSTKeyPress()" [(ngModel)]="dynamicArray[i].IGST" type="text"
                              style="text-align:center;" />
                          </td>

                          <td style="width:60px;">
                            <input class="form-control form-control-sm" readonly id="txtGetTotalAmount"
                              [(ngModel)]="dynamicArray[i].GetTotalAmount" type="text" style="text-align:center;" />
                          </td> -->
                          <td style="width:120px;">
                            <input class="form-control form-control-sm itmsTotalAmount" readonly
                              [(ngModel)]="dynamicArray[i].TotalAmount" type="text"
                              style="text-align:center;width: 120px;" />
                          </td>
                          <td style="width:100px;">
                            <input class="form-control form-control-sm" [(ngModel)]="dynamicArray[i].FreightCharge"
                              (blur)="ItemRateOnblur()" appCopyPastNumFloatValue type="text"
                              style="text-align:center;width:120px;" />
                          </td>

                          <td style="width:100px;">
                            <input class="form-control form-control-sm"
                              [(ngModel)]="dynamicArray[i].TotalAmountWithFreightCharge" appCopyPastNumFloatValue
                              type="text" style="text-align:center;width:100px;" readonly />
                          </td>
                          <td style="width:120px;">
                            <select style="width:120px;" (change)="ItemRateOnblur()"
                              class="form-control form-control-sm TaxWith" id="TaxWith_{{i}}"
                              [(ngModel)]="dynamicArray[i].TaxWith">
                              <option class="dropdown-item" [value]="1">Total Amount</option>
                              <option class="dropdown-item" [value]="2">Basic Value</option>
                            </select>
                            <!-- <input  class="form-control form-control-sm itmsRate" [(ngModel)]="dynamicArray[i].SGSTRate"  (blur)="ItemRateOnblur()" (keypress)="RateKeyPress()" appCopyPastNumFloatValue  type="text" style="text-align:center;width: 85px;"/>     -->
                          </td>
                          <td style="width:120px;">
                            <input class="form-control form-control-sm itmsRate" [(ngModel)]="dynamicArray[i].SGSTRate"
                              (blur)="ItemRateOnblur()" (keypress)="RateKeyPress()" appCopyPastNumFloatValue type="text"
                              style="text-align:center;width: 85px;" />
                          </td>
                          <td style="width:120px;">
                            <input class="form-control form-control-sm itmsRate" [(ngModel)]="dynamicArray[i].SGST"
                              disabled="disabled" (blur)="ItemRateOnblur()" (keypress)="RateKeyPress()"
                              appCopyPastNumFloatValue type="text" style="text-align:center;width: 85px;" />
                          </td>
                          <td style="width:120px;">
                            <input class="form-control form-control-sm itmsRate" [(ngModel)]="dynamicArray[i].CGSTRate"
                              (blur)="ItemRateOnblur()" (keypress)="RateKeyPress()" appCopyPastNumFloatValue type="text"
                              style="text-align:center;width: 85px;" />
                          </td>
                          <td style="width:120px;">
                            <input class="form-control form-control-sm itmsRate" [(ngModel)]="dynamicArray[i].CGST"
                              disabled="disabled" (blur)="ItemRateOnblur()" (keypress)="RateKeyPress()"
                              appCopyPastNumFloatValue type="text" style="text-align:center;width: 85px;" />
                          </td>
                          <td style="width:120px;">
                            <input class="form-control form-control-sm itmsRate" [(ngModel)]="dynamicArray[i].IGSTValue"
                              (blur)="ItemRateOnblur()" (keypress)="RateKeyPress()" appCopyPastNumFloatValue type="text"
                              style="text-align:center;width: 85px;" />
                          </td>
                          <td style="width:120px;">
                            <input class="form-control form-control-sm itmsRate" [(ngModel)]="dynamicArray[i].IGST"
                              disabled="disabled" (blur)="ItemRateOnblur()" (keypress)="RateKeyPress()"
                              appCopyPastNumFloatValue type="text" style="text-align:center;width: 85px;" />
                          </td>
                          <td style="width:120px;">
                            <input class="form-control form-control-sm itmsRate" [(ngModel)]="dynamicArray[i].TCSRate"
                              (blur)="ItemRateOnblur()" (keypress)="RateKeyPress()" appCopyPastNumFloatValue type="text"
                              style="text-align:center;width: 85px;" />
                          </td>
                          <td style="width:120px;">
                            <input class="form-control form-control-sm itmsRate" [(ngModel)]="dynamicArray[i].TCS"
                              disabled="disabled" (blur)="ItemRateOnblur()" (keypress)="RateKeyPress()"
                              appCopyPastNumFloatValue type="text" style="text-align:center;width: 85px;" />
                          </td>
                          <td style="width:120px;">
                            <input class="form-control form-control-sm itmsTotalAmount" readonly
                              [(ngModel)]="dynamicArray[i].TotalInvoiceValue" type="text"
                              style="text-align:center;width: 120px;" />
                          </td>
                          <!-- <td style="width:60px;">    
                            <input class="form-control form-control-sm" readonly id="txtGetTotalAmount" [(ngModel)]="dynamicArray[i].GetTotalAmount"   type="text" style="text-align:center;"/>   
                          </td> -->
                          <td style="width:60px;">
                            <div class="input-group">
                              <input class="form-control form-control-sm" placeholder="dd/mm/yyyy"
                                [disabled]="IsItemListDisabled" autocomplete="off" name="dp"
                                [(ngModel)]="dynamicArray[i].ManufDate" ngbDatepicker #m="ngbDatepicker">
                              <div class="input-group-addon" (click)="m.open()">
                                <span class="input-group-text">
                                  <i class="far fa-calendar-alt"></i>
                                </span>
                              </div>
                            </div>
                          </td>

                          <!-- <td style="width:140px;">    
                              <input class="form-control form-control-sm SerialNo"  id="txtSerialNo_{{i}}" autocomplete="off" [(ngModel)]="dynamicArray[i].SerialNo" (blur)="SerialNoKeyPress()"   type="text" style="text-align:center;"/>   
                            </td>  -->
                          <td style="width:60px;">
                            <div class="input-group">
                              <input class="form-control form-control-sm" placeholder="dd/mm/yyyy"
                                [disabled]="IsItemListDisabled" autocomplete="off" name="dp"
                                [(ngModel)]="dynamicArray[i].InvoiceTaxDate" ngbDatepicker #d="ngbDatepicker">
                              <div class="input-group-addon" (click)="d.open()">
                                <span class="input-group-text">
                                  <i class="far fa-calendar-alt"></i>
                                </span>
                              </div>
                            </div>
                          </td>

                          <td style="width:140px;">
                            <input class="form-control form-control-sm InvoiceTaxNo" id="txtInvoiceTaxNo_{{i}}"
                              autocomplete="off" [(ngModel)]="dynamicArray[i].InvoiceTaxNo" type="text"
                              style="text-align:center;" [disabled]="IsItemListDisabled" />
                          </td>
                          <td *ngIf="Correctioncolumnhideandshow">
                            <select style="width:120px;" (change)="ChangeCorrectionEntryReason(i)"
                              class="form-control form-control-sm TaxWith" id="ddlCentryReason_{{i}}"
                              [(ngModel)]="dynamicArray[i].IsCorrectionEntryReason"
                              *ngIf="dynamicArray[i].IsCorrection">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let itemC of CorretionEntryReasonDetail" [value]="itemC.Id">
                                {{itemC.ReasonName}}</option>
                            </select>
                          </td>
                          <td *ngIf="Correctioncolumnhideandshow">
                            <textarea class="form-control form-control-sm " id="txtCorrectionEntryRemarks_{{i}}"
                              [(ngModel)]="dynamicArray[i].CorrectionEntryRemarks" type="text"
                              (keypress)="ClickCorrectionEntryRemarks(i)" style="text-align:center;width: 120px;"
                              *ngIf="dynamicArray[i].IsCorrection"></textarea>
                          </td>
                          <td *ngIf="Correctioncolumnhideandshow">
                            <button type="submit" [disabled]="dynamicArray[i].IsCorrectionDisabled"
                              class="btn btn-sm btn-success" *ngIf="Save && dynamicArray[i].IsCorrection"
                              (click)="ConfirmCorrectionPopup(i)">Update </button>
                          </td>
                        </tr>
                        <tr>
                          <td *ngIf="Correctioncolumnhideandshow"></td>
                          <td colspan="12">Gross Total</td>
                          <td *ngIf="IsVendprScrapSale"></td>
                          <td *ngIf="IsVendprScrapSale"></td>
                          <td style="text-align:center;">{{totalSumPOQuantity}}</td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td *ngIf="IsReceivedHideShow"></td>
                          <td *ngIf="IsReceivedHideShow"></td>
                          <td *ngIf="IsReceivedHideShow"></td>
                          <td></td>
                          <td style="text-align:center;"></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td style="text-align:center;">{{totalSumAmount}}</td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td *ngIf="Correctioncolumnhideandshow"></td>
                          <td *ngIf="Correctioncolumnhideandshow"></td>
                          <td *ngIf="Correctioncolumnhideandshow"></td>
                        </tr>
                        <tr *ngIf="ItemAddrowhideshow">
                          <td (click)="addRow()">
                            <i class="fa fa-plus"></i>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </fieldset>

                <br>
                <fieldset class="scheduler-border">
                  <legend class="scheduler-border">Upload Document</legend>
                  <div class="row mb-1">
                    <label class="col-form-label-xs col-sm-1" *ngIf="IsTransporter">Bilty Document<span
                        style="color: red;" *ngIf="IsBiltyValidationShowandhide" class="Mandatoryfield"><b></b></span><a
                        *ngIf="IsGRFile" (click)="GRViewfileClick()" title="File View" style="color:green"><i
                          class="fa fa-eye"></i></a></label>
                    <div class="col-sm-2" *ngIf="IsTransporter">
                      <input type="file" id="GRfile" [(ngModel)]="model.GRfileimage" #inputFile
                        (change)="onGRfileDocumentChange($event)" accept="application/pdf, image/jpeg"
                        placeholder="Choose file">
                    </div>

                    <label class="col-form-label-xs col-sm-1">Eway Bill Document<span style="color: red;"
                        class="Mandatoryfield"><b></b></span><a *ngIf="IsEwayBillfile" (click)="EwayBillViewfileClick()"
                        title="File View" style="color:green"><i class="fa fa-eye"></i></a></label>
                    <div class="col-sm-2">
                      <input type="file" id="EwayBillfile" #BillFile [(ngModel)]="model.EwayBillfileimage"
                        (change)="onEwayBillDocumentChange($event)" accept="application/pdf, image/jpeg"
                        placeholder="Choose file">
                    </div>

                    <!-- <label class="col-form-label-xs col-sm-1" *ngIf="IsTaxInvoiceNoSameState">Tax Invoice File<span
                        style="color: red;" class="Mandatoryfield"><b></b></span><a *ngIf="IsTaxInvoiceFile"
                        (click)="TaxInvViewfileClick()" title="File View" style="color:green"><i
                          class="fa fa-eye"></i></a></label>
                    <div class="col-sm-2" *ngIf="IsTaxInvoiceNoSameState">
                      <input type="file" id="fileimage" #TaxFile (change)="onTaxInvoiceFileChange($event)"
                        accept="application/pdf, image/jpeg" placeholder="Choose file">
                    </div> -->

                    <!-- <label class="col-form-label-xs col-sm-1" *ngIf="IsTaxInvoiceNo">Tax Invoice File<span
                      style="color: red;" class="Mandatoryfield"><b>*</b></span><a *ngIf="IsTaxInvoiceFile"
                      (click)="TaxInvViewfileClick()" title="File View" style="color:green"><i
                        class="fa fa-eye"></i></a></label>
                  <div class="col-sm-2" *ngIf="IsTaxInvoiceNo">
                    <input type="file" id="fileimage" #TaxFile (change)="onTaxInvoiceFileChange($event)"
                      accept="application/pdf, image/jpeg" placeholder="Choose file">
                  </div> -->

                    <label class="col-form-label-xs col-sm-1">Tax Invoice File<span style="color: red;"
                        class="Mandatoryfield" *ngIf="IsTaxInvoiceNo"><b>*</b></span>
                      <a *ngIf="IsTaxInvoiceFile" (click)="TaxInvViewfileClick()" title="File View" style="color:green">
                        <i class="fa fa-eye"></i></a></label>
                    <div class="col-sm-2">
                      <input type="file" id="fileimage" #TaxFile [(ngModel)]="model.taxInvoicefileimage"
                        (change)="onTaxInvoiceFileChange($event)" accept="application/pdf, image/jpeg"
                        placeholder="Choose file">
                    </div>
                  </div>
                </fieldset>

                <div class="row mb-1">
                  <label class="col-form-label-xs col-sm-1">Note<span style="color: red;"
                      class="Mandatoryfield"><b>*</b></span></label>
                  <div class="col-sm-3">
                    <textarea rows="2" placeholder="" [(ngModel)]="model.Note" id="txtNote" (keypress)="NoteKeyPress()"
                      class="form-control form-control-sm"></textarea>
                  </div>
                </div>

                <fieldset class="scheduler-border" *ngIf="IsReceivedHideShow">
                  <legend class="scheduler-border">Receiving Details</legend>
                  <div class="row mb-1">
                    <label class="col-form-label-xs col-sm-1">Received By<span style="color: red;"
                        class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2">
                      <input type="text" id="txtReceivedBy" [(ngModel)]="model.ReceivedBy" autocomplete="off"
                        placeholder="" (keypress)="onKeypresstxtReceivedBy()" class="form-control form-control-sm" />
                    </div>
                    <label class="col-form-label-xs col-sm-1">Receiver Mobile No<span style="color: red;"
                        class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2">
                      <input type="text" id="txtReceivedNo" [(ngModel)]="model.ReceivedNo" maxlength="12"
                        (keypress)="keypressreceiver()" autocomplete="off" placeholder="" appCopyPastNumFloatValue
                        class="form-control form-control-sm" />
                    </div>
                    <label class="col-form-label-xs col-sm-1">Delivered Date<span style="color: red;"
                        class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2">
                      <div class="input-group" (mouseenter)="onKeypressDocumentDatee($event)">
                        <input class="form-control form-control-sm" placeholder="" id="txtDeliveredDate"
                          autocomplete="off" [(ngModel)]="model.DeliveredDate" ngbDatepicker #Delivered="ngbDatepicker"
                          [minDate]="minDeleveredDt" [maxDate]="maxDeleveredDt">
                        <div class="input-group-append">
                          <span class="input-group-text" (click)="Delivered.toggle()"><i
                              class="far fa-calendar-alt"></i></span>
                        </div>
                      </div>
                    </div>
                    <label class="col-form-label-xs col-sm-1">Receiveing Document<span style="color: red;"
                        class="Mandatoryfield"><b>*</b></span><a *ngIf="IsReceivingFile"
                        (click)="ReceivingViewfileClick()" title="File View" style="color:green"><i
                          class="fa fa-eye"></i></a></label>
                    <div class="col-sm-2">
                      <div class="input-group">
                        <input type="file" id="fileimage" #DocumentFile (change)="onRecDocumentFileChange($event)"
                          [(ngModel)]="model.RecDocumentFile" accept="application/pdf, image/jpeg"
                          placeholder="Choose file">
                      </div>
                    </div>
                  </div>
                  <div class="row mb-1">
                    <label class="col-form-label-xs col-sm-1">Received All Qty</label>
                    <div class="col-sm-2">
                      <input type="checkbox" id="txtReceivedAllQty" [(ngModel)]="ReceivedAllQty" placeholder=""
                        (change)="ClickReceivedAllQty()" />
                    </div>
                    <div class="col-sm-1">
                    </div>
                    <div class="col-sm-3">
                    </div>
                    <div class="col-sm-2">
                    </div>
                    <div class="col-sm-2">
                      <button type="button" style="float: left;" class="btn btn-sm btn-success"
                        [disabled]="Save && IsRecivedButtonDisable" (click)="conformRecivedPopup()"><i
                          class="fa fa-save"></i>
                        Update Receiving Qty</button>

                    </div>
                  </div>
                </fieldset>

                <fieldset class="scheduler-border">
                  <legend class="scheduler-border">Cost Details</legend>
                  <div class="row mb-1">

                    <label class="col-form-label-xs col-sm-1">Secondary Transportation Cost<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2">
                      <input type="text" id="txtSecTransCost" [(ngModel)]="model.SecTransCost" appCopyPastNumFloatValue
                        placeholder="" autocomplete="off" class="form-control form-control-sm" />
                    </div>

                    <label class="col-form-label-xs col-sm-1"> Loading Cost<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2">
                      <div class="input-group">
                        <input type="text" id="txtLoadingCost" [(ngModel)]="model.LoadingCost" appCopyPastNumFloatValue
                          placeholder="" autocomplete="off" class="form-control form-control-sm" />
                      </div>
                    </div>
                    <label class="col-form-label-xs col-sm-1"> Unloading Cost<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2">
                      <input type="text" id="txtUnloadingCost" [(ngModel)]="model.UnloadingCost"
                        appCopyPastNumFloatValue placeholder="" autocomplete="off"
                        class="form-control form-control-sm" />

                    </div>
                    <label class="col-form-label-xs col-sm-1">Other Charges<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2">
                      <input type="text" id="txtOtherCharges" [(ngModel)]="model.OtherCharges" appCopyPastNumFloatValue
                        placeholder="" autocomplete="off" class="form-control form-control-sm" />
                    </div>
                  </div>
                  <div class="row mb-1">
                    <label class="col-form-label-xs col-sm-1">Primary Unloading Cost<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2">
                      <input type="text" id="txtSecTransCost" [(ngModel)]="model.PrimaryUnloadingCost"
                        appCopyPastNumFloatValue placeholder="" autocomplete="off"
                        class="form-control form-control-sm" />
                    </div>
                    <div class="col-sm-2">
                      <button type="button" *ngIf="Save" style="float: left;" class="btn btn-sm btn-success"
                        (click)="UpdateCostDetail()"><i class="fa fa-save"></i> Update Cost Detail</button>

                    </div>
                  </div>
                </fieldset>
              </div>

              <div class="col-sm-12" *ngIf="IsMetrailInstallationGrid">
                <div class="row">
                  <ag-grid-angular style="width: 100%; height: 200px;" class="ag-theme-alpine" [enableSorting]="true"
                    [enableFilter]="true" [pagination]="true" paginationPageSize="20"
                    [columnDefs]="InstallationcolumnDefs" [multiSortKey]="multiSortKey" [rowData]="InstallationrowData"
                    rowSelection="multiple" (gridReady)="onInstallationGridReady($event)"
                    [overlayLoadingTemplate]="loadingTemplate1">
                  </ag-grid-angular>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- end -->

        <!--By:vishal--desc: for Customer dispatch page-->
        <div class="row" [hidden]="IsEditCustomerDispatch">
          <div class="col-sm-12 col-md-12">
            <div class="card card-success">
              <div class="card-body">
                <div class="alert alert-danger" *ngIf="IsError" role="alert">
                  <strong>Error!</strong> {{errorMessage}}
                </div>
                <div class="alert alert-success" *ngIf="IsSuccess" role="alert">
                  {{succesMessage}}
                </div>
                <div class="row mb-1">
                  <div class="col-sm-12 content-header bg-light">
                    <div class="col-sm-12">
                      <button type="button" class="btn btn-sm btn-success" (click)="BackPage()"><i
                          class="fa fa-arrow-circle-left"></i> Back</button>
                      &nbsp; <button type="submit" *ngIf="ObjUserPageRight.IsCreate" class="btn btn-sm btn-success"
                        (click)="createNewCusDispatch()"><i class="fa fa-plus"></i>
                        New </button>
                      &nbsp;<button type="button" class="btn btn-sm btn-success" [disabled]="IsSaveButtonDisable"
                        *ngIf="Save" (click)="confirmCusDispatchPopup()"><i class="fa fa-save"></i>
                        Save</button>
                      &nbsp;<button type="button" class="btn btn-sm btn-success"
                        *ngIf="ObjUserPageRight.IsDelete && IsHideShowCancelBtn"
                        (click)="conformCusDispatchCancelPopup()">Cancel
                        Dispatch</button>
                      &nbsp;<button type="button" class="btn btn-sm btn-success " (click)="BackDIPage()">Back For
                        DI</button>
                    </div>
                  </div>
                </div>
                <!--//menu-row-end-->
                <!--start-main  details-->
                <div class="row">
                  <div class="col-12 col-sm-12 col-md-12">
                    <fieldset class="scheduler-border">
                      <legend class="scheduler-border"> SHIPPED TO</legend>
                      <div class="row mb-1">
                        <div class="col-sm-3">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">State<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8" tabindex="0">

                              <select class="form-control form-control-sm" id="txtddlCUStateId"
                                [disabled]="IsEditDisabled" [(ngModel)]="model.cusStateId" autofocus>
                                <option class="dropdown-item" value="0">Select</option>
                                <option *ngFor="let itemState of StateList" [value]="itemState.id">
                                  {{itemState.itemName}}</option>
                              </select>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-3">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Unique Site Id<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <div class="ng-autocomplete">
                                <ng-autocomplete [data]="AutoCompleteUniqueSiteIdList" id="ddlUniqueId"
                                  [searchKeyword]="UniqueSitekeyword" (inputCleared)="clearedCustomerDispatchSiteId(1)"
                                  [(ngModel)]="model.CusUniqueSiteId" (selected)='selectCustomerDispatchSiteId($event)'
                                  (inputChanged)='onChangeSearchUniqueSiteIdForCusDispatch($event)'
                                  (inputFocused)='onCusFocused($event)' [itemTemplate]="UniqueiteIditemTemplate"
                                  [notFoundTemplate]="UniqueiteIditemTemplate" [debounceTime]="600" [minQueryLength]="2"
                                  placeHolder="Search Unique Site Id">
                                </ng-autocomplete>
                                <ng-template #UniqueiteIditemTemplate let-item>
                                  <a [innerHTML]="item.SiteId"></a>
                                </ng-template>
                                <ng-template #UniqueiteIditemTemplate let-notFound>
                                  <div [innerHTML]="notFound"></div>
                                </ng-template>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="col-sm-3">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Site Id<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <div class="ng-autocomplete">
                                <ng-autocomplete [data]="AutoCompleteCustomerSiteIdList"
                                  [searchKeyword]="CustomerSitekeyword"
                                  (inputCleared)="clearedCustomerDispatchSiteId(2)" [(ngModel)]="model.CusValueSiteId"
                                  (selected)='selectCustomerDispatchSiteId($event)'
                                  (inputChanged)='onChangeSearchCustomerSiteIdForCusDispatch($event)'
                                  (inputFocused)='onCusFocused($event)' [itemTemplate]="CuSiteIditemTemplate"
                                  [notFoundTemplate]="CuSiteIdnotFoundTemplate" [debounceTime]="600"
                                  [minQueryLength]="2" placeHolder="Search Site Id">
                                </ng-autocomplete>
                                <ng-template #CuSiteIditemTemplate let-item>
                                  <a [innerHTML]="item.CustomerSiteId"></a>
                                </ng-template>
                                <ng-template #CuSiteIdnotFoundTemplate let-notFound>
                                  <div [innerHTML]="notFound"></div>
                                </ng-template>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-3">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> Site Name </label>
                            <div class="col-sm-8">
                              <input type="text" id="txtCusSiteName" [(ngModel)]="model.CusSiteName" tabindex="4"
                                readonly placeholder="" class="form-control form-control-sm" />
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-3">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> Client Name </label>
                            <div class="col-sm-8">
                              <input type="text" id="txtCusClientName" [(ngModel)]="model.CusClientName" readonly
                                placeholder="" class="form-control form-control-sm" />
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-3">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> FE/Tech<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <select class="form-control form-control-sm" id="txtCusTECHFE"
                                [(ngModel)]="model.CusTECHFE">
                                <option class="dropdown-item" value="0">Select</option>
                                <option *ngFor="let itemTech of CusTechDataList" [value]="itemTech.Id">
                                  {{itemTech.UserName}}</option>
                              </select>

                            </div>
                          </div>
                        </div>
                        <div class="col-sm-3">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">COH/CI<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <select class="form-control form-control-sm" id="txtCusCOHCI"
                                [(ngModel)]="model.CusCOHCI">
                                <option class="dropdown-item" value=0>Select</option>
                                <option *ngFor="let item of CusCOHDataList" [value]="item.Id">{{item.UserName}}</option>
                              </select>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-1">Site Address<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-11">
                              <div class="input-group">
                                <textarea rows="1" placeholder="Site Address" id="txtCusSiteAddress" maxlength="100"
                                  (keypress)="cusSubDescKeyPress()" [(ngModel)]="model.CusSiteAddress" readonly
                                  class="form-control form-control-sm"></textarea>
                              </div>
                            </div>
                          </div>
                        </div>

                      </div>

                    </fieldset>
                  </div>
                  <div class="col-12 col-sm-12 col-md-12">
                    <fieldset class="scheduler-border">
                      <legend class="scheduler-border">Dispatch Details</legend>
                      <span></span>
                      <div class="row mb-1">
                        <label class="col-form-label-xs col-sm-1">Document No<span style="color: red;"
                            class="Mandatoryfield"><b></b></span></label>
                        <div class="col-sm-2">
                          <input type="text" id="txtCusDocumentNo" tabindex="4" [(ngModel)]="model.CusDisDocumentNo"
                            placeholder="" readonly class="form-control form-control-sm" />
                        </div>

                        <label class="col-form-label-xs col-sm-1">Document Date<span style="color: red;"
                            class="Mandatoryfield"><b>*</b></span></label>
                        <div class="col-sm-2">
                          <div class="input-group">
                            <input class="form-control form-control-sm" placeholder="" id="txtCusDocDate"
                              autocomplete="off" [(ngModel)]="model.CusDisDocumentDate" ngbDatepicker
                              #cusDate="ngbDatepicker" [minDate]="minCusDispatchDt" [maxDate]="maxCusDispatchDt"
                              readonly>
                            <div class="input-group-append">
                              <span class="input-group-text" (click)="cusDate.toggle()"><i
                                  class="far fa-calendar-alt"></i></span>
                            </div>
                          </div>
                        </div>
                        <label class="col-form-label-xs col-sm-1">Expected Delivery Date<span style="color: red;"
                            class="Mandatoryfield"><b>*</b></span></label>
                        <div class="col-sm-2">
                          <div class="input-group">
                            <input class="form-control form-control-sm" placeholder="" id="txtCusExpDocDate"
                              autocomplete="off" ngbDatepicker #ExpDelDate="ngbDatepicker"
                              [(ngModel)]="model.CusExpDelDate">
                            <div class="input-group-append">
                              <span class="input-group-text" (click)="ExpDelDate.toggle()"><i
                                  class="far fa-calendar-alt"></i></span>
                            </div>
                          </div>
                        </div>
                        <label class="col-form-label-xs col-sm-1">Dispatch For<span style="color: red;"
                            class="Mandatoryfield"><b>*</b></span></label>
                        <div class="col-sm-2">
                          <select class="form-control form-control-sm" id="txtCusDispatchFor"
                            [(ngModel)]="model.CusDispatchFor">
                            <option class="dropdown-item" value="0">Select</option>
                            <option *ngFor="let item of DispatchFromList" [value]="item.Id">{{item.Name}}</option>
                          </select>
                        </div>
                        <label class="col-form-label-xs col-sm-1">Dispatch
                          Instruction<span style="color: red;" class="Mandatoryfield"><b>*</b></span></label>

                        <div class="col-sm-2">
                          <!-- <angular2-multiselect id="txtCusDispatchInstraction" [data]="DispatchInstructionList"
                            [(ngModel)]="selectedCusDIArr" [settings]="SingledropdownSettings"
                            (onSelect)="ChangeCusDispatchInstruction('')"
                            (onDeSelect)="ChangeCusDispatchInstruction('')"
                            (onSelectAll)="ChangeCusDispatchInstruction('')"
                            (onDeSelectAll)="ChangeCusDispatchInstruction('DelAll')">
                          </angular2-multiselect> -->

                          <select class="form-control form-control-sm" id="txtCusDI" [(ngModel)]="model.cusDI" autofocus
                            (change)="changeCusDispatchInstruction(model.cusDI)">
                            <option class="dropdown-item" value="0" selected>Select</option>
                            <option *ngFor="let item of CusDispatchInstructionList" [value]="item.id">
                              {{item.itemName}}</option>
                          </select>
                        </div>
                      </div>
                    </fieldset>
                  </div>
                </div>
                <!--end-dispatch details-->
                <!---.start-Item-details-->
                <fieldset class="scheduler-border">
                  <legend class="scheduler-border">Item Details</legend>
                  <div class="col-sm-12" style="overflow-x:scroll; min-height:330px;">
                    <!--This table Used For Same State-->
                    <table id="tblOne" class="table table-striped table-bordered">
                      <thead>
                        <tr>
                          <!-- <th></th> -->
                          <th>Item Name<span style="color:red;" class="Mandatoryfield"><b>*</b></span></th>
                          <th>Capacity<span style="color:red;" class="Mandatoryfield"><b>*</b></span></th>
                          <th>Item Make<span style="color:red;" class="Mandatoryfield"><b></b></span></th>
                          <th>&nbsp;&nbsp;&nbsp;Sub Description<span style="color:red"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>&nbsp;&nbsp;&nbsp;UOM<span style="color:red;"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Qty<span style="color:red"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>&nbsp;&nbsp;&nbsp;Site Id<span style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;
                          </th>

                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let dynamic of cusdynamicArray; let i = index">
                          <!-- <td (click)="cusdeleteRow(i)" style="width:20px;">
                            <i class="fa fa-trash" title="Delete"></i>
                          </td> -->
                          <td style="width:80px;">
                            <select style="width:100px;" class="form-control form-control-sm ItemName"
                              id="ddlCusItemName" [(ngModel)]="cusdynamicArray[i].ItemNameId"
                              [disabled]="IsItemListDisabled"
                              (change)="cusChangeEditItemName(cusdynamicArray[i].ItemNameId,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of SearchItemNameList" [value]="item.id">{{item.itemName}}
                              </option>
                            </select>
                          </td>
                          <td style="width:80px;">
                            <select class="form-control form-control-sm ItemCap" style="width:100px;" id="ddlCusItemCap"
                              [(ngModel)]="cusdynamicArray[i].ItemCapId" [disabled]="IsItemListDisabled">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of cusdynamicArray[i].EditItemCap" [value]="item.id">
                                {{item.itemName}}</option>
                            </select>
                          </td>
                          <td style="width:80px;">
                            <select style="width:100px;" class="form-control form-control-sm ItemCode"
                              id="ddlCusItemMake" [(ngModel)]="cusdynamicArray[i].ItemMakeId"
                              [disabled]="IsItemListDisabled">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of cusdynamicArray[i].EditItemMake" [value]="item.id">
                                {{item.itemName}}</option>
                            </select>
                          </td>

                          <td style="width:280px;">
                            <textarea class="form-control form-control-sm SubDescription" style="width:350px;"
                              id="txtCusSubDesc" autocomplete="off" [(ngModel)]="cusdynamicArray[i].SubDescription"
                              [disabled]="IsItemListDisabled" type="text" style="text-align:center;"></textarea>
                          </td>
                          <td style="width:50px;">
                            <select class="form-control form-control-sm UnitName" style="width:80px;"
                              id="ddlCusUnitName" [(ngModel)]="cusdynamicArray[i].UnitId"
                              [disabled]="IsItemListDisabled">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of cusdynamicArray[i].EditItemUnit" [value]="item.Id">
                                {{item.UnitName}}
                              </option>
                            </select>
                          </td>
                          <td style="width:30px;">
                            <input class="form-control form-control-sm Qty" id="txtCusQty" autocomplete="off"
                              [(ngModel)]="cusdynamicArray[i].Qty" appCopyPastNumFloatValue type="text"
                              [disabled]="IsItemListDisabled" style="text-align:center;" />
                          </td>
                          <td style="width:100px;">{{dynamic.SiteId}}</td>
                        </tr>
                        <tr *ngIf="cusItemAddrowhideshow">
                          <td (click)="addRowCus()">
                            <i class="fa fa-plus"></i>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </fieldset>
                <!--///end-Item-details//--->
                <!--start upload doc-->

                <fieldset class="scheduler-border">
                  <legend class="scheduler-border">Upload Document</legend>
                  <div class="row mb-1">
                    <label class="col-form-label-xs col-sm-2">Challan:<a *ngIf="IsChallanFile"
                        (click)="ChalanViewfileClick()" title="File View" style="color:green"><i
                          class="fa fa-eye"></i></a></label>
                    <div class="col-sm-2">
                      <input type="file" id="" [(ngModel)]="model.cusChalan" #inputFile
                        (change)="onChalanDocumentChange($event)" accept="application/pdf, image/jpeg"
                        placeholder="Choose file">
                    </div>
                  </div>
                </fieldset>
                <!--end upload doc-->
                <!--start-receving details-->

                <fieldset class="scheduler-border">
                  <legend class="scheduler-border">Receiving Details</legend>
                  <div class="row mb-1">
                    <label class="col-form-label-xs col-sm-1">Received By<span style="color: red;"
                        class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2">
                      <input type="text" id="txtCusReceivedBy" [(ngModel)]="model.CusReceivedBy" autocomplete="off"
                        placeholder="" (keypress)="cusReceiveByKeyPress()" class="form-control form-control-sm" />
                    </div>
                    <label class="col-form-label-xs col-sm-1">Receiver Mobile No<span style="color: red;"
                        class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2">
                      <input type="text" id="txtCusReceivedNo" [(ngModel)]="model.CusReceivedNo" maxlength="12"
                        autocomplete="off" placeholder="" appCopyPastNumFloatValue (keypress)="cusReceiverNoKeyPress()"
                        class="form-control form-control-sm" />
                    </div>

                    <label class="col-form-label-xs col-sm-1">Delivered Date<span style="color: red;"
                        class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2">
                      <div class="input-group">
                        <input class="form-control form-control-sm" placeholder="" id="txtCusDeliveredDate"
                          autocomplete="off" [(ngModel)]="model.CusDeliveredDate" ngbDatepicker
                          (keypress)="cusDeliveredDateKeyPress()" #Delivered="ngbDatepicker">
                        <div class="input-group-append">
                          <span class="input-group-text" (click)="Delivered.toggle()"><i
                              class="far fa-calendar-alt"></i></span>
                        </div>
                      </div>
                    </div>
                    <label class="col-form-label-xs col-sm-1">Receiveing Document:<a *ngIf="IsRecvFile"
                        (click)="cusReceivingViewfileClick()" title="File View" style="color:green"><i
                          class="fa fa-eye"></i></a></label>
                    <div class="col-sm-2">
                      <div class="input-group">
                        <input type="file" id="fileimage" #DocumentFile (change)="onCusRecDocumentFileChange($event)"
                          [(ngModel)]="model.CusRecDocumentFile" accept="application/pdf, image/jpeg"
                          placeholder="Choose file">
                      </div>
                    </div>
                  </div>

                  <div class="row mb-1">
                    <div class="col-sm-12">
                      <div class="col-sm-2">
                        <button type="button" style="float: left;" class="btn btn-sm btn-success"
                          *ngIf="IsPartialUpdateCusDispatch" (click)="conformCusDisRecivedPopup()"><i
                            class="fa fa-save"></i>
                          Update Receiving Details</button>
                      </div>
                    </div>
                  </div>
                </fieldset>
                <!--end-receiving details-->
              </div>
            </div>
          </div>
        </div>
        <!--vishal-->
        <!--Start Dispatch Preview-->
        <div class="row" [hidden]="IsDispatchPreview">
          <div class="col-sm-12 col-md-12">
            <div class="card card-success">
              <div class="card-body">
                <div class="row mb-1">
                  <div class="col-sm-12 content-header bg-light">
                    <div class="col-sm-12">
                      <button type="button" class="btn btn-sm btn-success" (click)="BackPreviewDispatch()"><i
                          class="fa fa-save"></i> Back Preview</button>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-12 col-sm-6 col-md-6 ">
                    <fieldset class="scheduler-border">
                      <legend class="scheduler-border">Company WH Details</legend>
                      <span></span>
                      <div class="row mb-1">
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2"></label>
                            <div class="col-sm-8" tabindex="0">
                              <label class="col-form-label-xs">
                                <h4><b>{{model.PreviewCompanyName}}</b></h4>
                              </label>
                            </div>
                            <label class="col-form-label-xs col-sm-4">State:</label>
                            <div class="col-sm-8" tabindex="0">
                              <label class="col-form-label-xs">{{model.PreviewStateName}}</label>
                            </div>

                            <label class="col-form-label-xs col-sm-4">State Code:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.StateCode}}</label>
                            </div>
                            <label class="col-form-label-xs col-sm-4">Dispatch To:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.PreviewDispatchToName}}</label>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row mb-1">
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">Regd.Office:</label>
                            <div class="col-sm-10">
                              <label class="col-form-label-xs">{{model.RegdOffice}}</label>
                            </div>

                          </div>
                        </div>
                      </div>
                      <div class="row mb-1" *ngFor="let WhAd of StateCodeWhAd; let i=index">
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">WH Address {{i+1}}: </label>
                            <div class="col-sm-10">
                              <label class="col-form-label-xs">{{WhAd.WHAddress}}</label>
                            </div>

                          </div>
                        </div>
                      </div>

                      <div class="row mb-1">
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">GSTIN No:</label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <label class="col-form-label-xs">{{model.GSTINNo}}</label>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">CIN:</label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <label class="col-form-label-xs">{{model.CIN}}</label>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </fieldset>
                  </div>

                  <div class="col-12 col-sm-6 col-md-6 ">
                    <fieldset class="scheduler-border">
                      <legend class="scheduler-border">Dispatch Details</legend>
                      <div class="row">

                        <label class="col-form-label-xs col-sm-2">Document No:</label>
                        <div class="col-sm-4">
                          <label class="col-form-label-xs">{{model.DocumentNo}} </label>
                        </div>

                        <label class="col-form-label-xs col-sm-2">Dispatch Date:</label>
                        <div class="col-sm-4">
                          <label class="col-form-label-xs">{{model.PreviewDispatchDate}} </label>
                        </div>
                        <label class="col-form-label-xs col-sm-2">Trasporation Mode:</label>
                        <div class="col-sm-4">
                          <!-- ? <input type="text" id="txtTrasporationMode" [(ngModel)]="model.TrasporationMode" (keypress)="TrasporationKeyPress()" placeholder=""  class="form-control form-control-sm" /> -->
                          <label class="col-form-label-xs">{{model.PreviewTransModeName}} </label>
                        </div>
                        <label class="col-form-label-xs col-sm-2">Select Transporter:</label>
                        <div class="col-sm-4">
                          <label class="col-form-label-xs">{{model.TransporterName}} </label>
                        </div>


                        <label class="col-form-label-xs col-sm-2" *ngIf="IsTransporter">Transporter Name:</label>
                        <div class="col-sm-4" *ngIf="IsTransporter">
                          <label class="col-form-label-xs">{{model.TransporterName}} </label>
                        </div>
                        <label class="col-form-label-xs col-sm-2" *ngIf="IsTransporter">Transporter GST No:</label>
                        <div class="col-sm-4" *ngIf="IsTransporter">
                          <label class="col-form-label-xs">{{model.TransporterGSTNo}} </label>
                        </div>
                        <label class="col-form-label-xs col-sm-2" *ngIf="IsTransporterReadonly">Transporter
                          Name:</label>
                        <div class="col-sm-4" *ngIf="IsTransporterReadonly">
                          <label class="col-form-label-xs">{{model.TransporterName}} </label>
                        </div>
                        <label class="col-form-label-xs col-sm-2" *ngIf="IsTransporterReadonly">Transporter GST
                          No:</label>
                        <div class="col-sm-4" *ngIf="IsTransporterReadonly">
                          <label class="col-form-label-xs">{{model.TransporterGSTNo}} </label>
                        </div>


                        <label class="col-form-label-xs col-sm-2">Destination:</label>
                        <div class="col-sm-4">
                          <label class="col-form-label-xs">{{model.Destination}} </label>
                        </div>
                        <label class="col-form-label-xs col-sm-2">G.R No:</label>
                        <div class="col-sm-4">
                          <label class="col-form-label-xs">{{model.GRNo}} </label>
                        </div>

                        <label class="col-form-label-xs col-sm-2">G.R Date:</label>
                        <div class="col-sm-4">
                          <label class="col-form-label-xs">{{model.PreviewGRDate}} </label>
                        </div>
                        <label class="col-form-label-xs col-sm-2">G.R Document:<a *ngIf="IsGRFile"
                            (click)="GRViewfileClick()" title="File View" style="color:green"><i
                              class="fa fa-eye"></i></a></label>
                        <div class="col-sm-4">
                          <!-- <input type="file" id="GRfile" [(ngModel)]="model.GRfileimage" #inputFile
                          (change)="onGRfileDocumentChange($event)" accept="application/pdf, image/jpeg"
                          placeholder="Choose file"> -->
                        </div>

                        <label class="col-form-label-xs col-sm-2">Vehicle Type:</label>
                        <div class="col-sm-4">
                          <label class="col-form-label-xs">{{model.PreviewVehicleType}} </label>
                        </div>

                        <label class="col-form-label-xs col-sm-2">Vehicle No:</label>
                        <div class="col-sm-4">
                          <label class="col-form-label-xs">{{model.VehicleNumber}} </label>
                        </div>


                        <label class="col-form-label-xs col-sm-2">Eway Bill No:</label>
                        <div class="col-sm-4">
                          <label class="col-form-label-xs">{{model.EwayBillNo}} </label>
                        </div>
                        <label class="col-form-label-xs col-sm-2">Eway Bill Document:<a *ngIf="IsEwayBillfile"
                            (click)="EwayBillViewfileClick()" title="File View" style="color:green"><i
                              class="fa fa-eye"></i></a></label>
                        <div class="col-sm-4">
                        </div>

                        <label class="col-form-label-xs col-sm-2" *ngIf="IsTaxInvoiceNoSameState">Tax Invoice
                          No:</label>
                        <div class="col-sm-4" *ngIf="IsTaxInvoiceNoSameState">
                          <label class="col-form-label-xs">{{model.TaxInvoiceNo}} </label>
                        </div>

                        <!--vishal 02/12/2022-->
                        <label class="col-form-label-xs col-sm-2" *ngIf="IsTaxInvoiceNoSameState">Tax Invoice
                          Date:</label>
                        <div class="col-sm-4" *ngIf="IsTaxInvoiceDateSameState">
                          <label class="col-form-label-xs">{{model.TaxInvoiceDate}} </label>
                        </div>
                        <!--end-vishal-->
                        <label class="col-form-label-xs col-sm-2" *ngIf="IsTaxInvoiceNoSameState">Tax Invoice File:<a
                            *ngIf="IsTaxInvoiceFile" (click)="TaxInvViewfileClick()" title="File View"
                            style="color:green"><i class="fa fa-eye"></i></a></label>
                        <div class="col-sm-4" *ngIf="IsTaxInvoiceNoSameState">
                          <!-- <input type="file" id="fileimage" #TaxFile (change)="onTaxInvoiceFileChange($event)"
                          accept="application/pdf, image/jpeg" placeholder="Choose file"> -->
                        </div>

                        <label class="col-form-label-xs col-sm-2" *ngIf="IsTaxInvoiceNo">Tax Invoice No:</label>
                        <div class="col-sm-4" *ngIf="IsTaxInvoiceNo">
                          <label class="col-form-label-xs">{{model.TaxInvoiceNo}} </label>
                        </div>
                        <!--vishal 02/12/2022-->
                        <label class="col-form-label-xs col-sm-2" *ngIf="IsTaxInvoiceDate">Tax Invoice Date:</label>
                        <div class="col-sm-4" *ngIf="IsTaxInvoiceDate">
                          <label class="col-form-label-xs">{{model.PreviewTaxInvoiceDate}} </label>
                        </div>
                        <!--end-vishal-->
                        <label class="col-form-label-xs col-sm-2" *ngIf="IsTaxInvoiceNo">Tax Invoice File:<a
                            *ngIf="IsTaxInvoiceFile" (click)="TaxInvViewfileClick()" title="File View"
                            style="color:green"><i class="fa fa-eye"></i></a></label>
                        <div class="col-sm-4" *ngIf="IsTaxInvoiceNo">
                          <!-- <input type="file" id="fileimage" #TaxFile (change)="onTaxInvoiceFileChange($event)"
                          accept="application/pdf, image/jpeg" placeholder="Choose file"> -->
                        </div>


                        <label class="col-form-label-xs col-sm-2" *ngIf="IsDispatchFor">Dispatch For:</label>
                        <div class="col-sm-4" *ngIf="IsDispatchFor">
                          <label class="col-form-label-xs">{{model.PreviewDispatchFromName}} </label>
                        </div>

                        <label class="col-form-label-xs col-sm-2">Expected Delivery Date:</label>
                        <div class="col-sm-4">
                          <label class="col-form-label-xs">{{model.PreviewExpectedDate}} </label>
                        </div>
                        <label class="col-form-label-xs col-sm-2">Document Sent:</label>
                        <div class="col-sm-4">
                          <input type="checkbox" id="txtIsdispatch" disabled [(ngModel)]="model.IsDispatch"
                            placeholder="" />
                        </div>
                      </div>
                    </fieldset>
                  </div>
                </div>
                <span></span>
                <!-- <hr> -->
                <!--start vishal-->
                <div class="row">
                  <div class="col-12 col-sm-6 col-md-6 ">
                  </div>
                  <div class="col-12 col-sm-6 col-md-6 ">
                    <fieldset class="scheduler-border">
                      <legend class="scheduler-border" *ngIf="IsTransferTypeVender"> BILLED TO</legend>
                      <legend class="scheduler-border" *ngIf="!IsTransferTypeVender"> SHIPPED TO</legend>
                      <!-- <div class="" style="text-align: center;"><b> SHIPPED TO</b> </div>   -->
                      <div class="row mb-1" *ngIf="IsTransferTypeSite">
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Unique Site Id:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.CuUniqueSiteId}} </label>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Site Id:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.HideCustomerId}} </label>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> Site Name: </label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.SiteName}} </label>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> Client Name: </label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.ClientName}} </label>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">Company Name:</label>
                            <div class="col-sm-10">
                              <div class="input-group">
                                <label class="col-form-label-xs">{{model.CompanyName}} </label>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> FE/Tech:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.PreviewTECHFEName}} </label>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">COH/CI:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.PreviewCOHName}} </label>
                            </div>
                          </div>
                        </div>

                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Multi Site:</label>
                            <div class="col-sm-8">
                              <input type="checkbox" id="txtIsMultipleSite" name="checkbox" disabled
                                [(ngModel)]="model.IsMultipleSite" placeholder=""
                                (change)="ClickMultipleSite($event)" />
                              Tick for multisite dispatch
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> Loan To:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.PreviewLoanEmpName}} </label>
                            </div>
                          </div>
                        </div>


                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">Site Address:</label>
                            <div class="col-sm-10">
                              <div class="input-group">
                                <label class="col-form-label-xs">{{model.SiteAddress}} </label>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row mb-1" *ngIf="IsTransferTypeOtherSite">
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Site State:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.PreviewToStateName}} </label>
                            </div>

                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">State Code:</label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <label class="col-form-label-xs">{{model.ToSiteStateCode}} </label>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Unique Site Id:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.CuUniqueSiteId}} </label>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Site Id:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.HideCustomerId}} </label>
                            </div>
                          </div>
                        </div>


                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> Site Name: </label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.SiteName}} </label>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> Client Name: </label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.ClientName}} </label>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> GST Type:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.previewGStType}} </label>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">GSTIN Id:</label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <label class="col-form-label-xs">{{model.ToSiteWHGSTIN}} </label>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> FE/Tech:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.PreviewTECHFEName}} </label>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">COH/CI:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.PreviewCOHName}} </label>
                            </div>
                          </div>
                        </div>

                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Multi Site:</label>
                            <div class="col-sm-8">
                              <input type="checkbox" id="txtIsMultipleSite" name="checkbox" disabled
                                [(ngModel)]="model.IsMultipleSite" placeholder=""
                                (change)="ClickMultipleSite($event)" />
                              Tick for multisite dispatch
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> Loan To:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.PreviewLoanEmpName}} </label>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">Company Name:</label>
                            <div class="col-sm-10">
                              <div class="input-group">
                                <label class="col-form-label-xs">{{model.CompanyName}} </label>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">Site Address:</label>
                            <div class="col-sm-10">
                              <div class="input-group">
                                <label class="col-form-label-xs">{{model.SiteAddress}} </label>
                              </div>
                            </div>
                          </div>
                        </div>

                      </div>

                      <div class="row mb-1" *ngIf="IsTransferTypeWH">

                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">WH Name:</label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <label class="col-form-label-xs">{{model.PreviewSameWHName}} </label>
                              </div>

                            </div>
                          </div>
                        </div>

                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">WH Address:</label>
                            <div class="col-sm-10">
                              <div class="input-group">
                                <label class="col-form-label-xs">{{model.WHAddress}} </label>
                              </div>

                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="row mb-1" *ngIf="IsTransferTypeOtherWH">
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">WH State:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.PreviewToStateName}} </label>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">State Code:</label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <label class="col-form-label-xs">{{model.WHStateCode}} </label>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">WH Name:</label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <label class="col-form-label-xs">{{model.PreviewToWHName}} </label>
                              </div>

                            </div>
                          </div>
                        </div>

                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">GSTIN Id:</label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <label class="col-form-label-xs">{{model.WHGSTIN}} </label>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">WH Address:</label>
                            <div class="col-sm-10">
                              <div class="input-group">
                                <label class="col-form-label-xs">{{model.WHAddress}} </label>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>


                      <div class="row mb-1" *ngIf="IsTransferTypeVender">
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Vendor State :</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.PreviewVendorState}} </label>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">State Code:</label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <label class="col-form-label-xs">{{model.VenStateCode}} </label>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Vendor Name:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.PreviewVendorNmae}} </label>
                            </div>

                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Vendor Code:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.VendorCode}} </label>
                            </div>
                          </div>
                        </div>

                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">GSTIN Id:</label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <label class="col-form-label-xs">{{model.VenGSTIN}} </label>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">Vendor Add:</label>
                            <div class="col-sm-10">
                              <label class="col-form-label-xs">{{model.VendorAddress}} </label>
                            </div>
                          </div>
                        </div>
                      </div>
                    </fieldset>
                  </div>
                </div>
                <!--end-vishal-->
                <div class="row">
                  <div class="col-12 col-sm-6 col-md-6 ">
                    <fieldset class="scheduler-border">
                      <legend class="scheduler-border"> SHIPPED FROM</legend>
                      <span></span>
                      <div class="row mb-1">
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">WH State:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.WHState}}</label>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">WH Name:</label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <label class="col-form-label-xs">{{model.PreviewWHName}}</label>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">WH Address:</label>
                            <div class="col-sm-10">
                              <div class="input-group">
                                <label class="col-form-label-xs">{{model.ShippedWHAddress}} </label>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </fieldset>
                  </div>
                  <div class="col-12 col-sm-6 col-md-6 ">
                    <fieldset class="scheduler-border" *ngIf="IsTransferTypeVender">
                      <legend class="scheduler-border">SHIPPED TO</legend>
                      <div class="row mb-1">
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Vendor State :</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.BillToPreviewVendorState}} </label>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">State Code:</label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <label class="col-form-label-xs">{{model.BillToVenStateCode}} </label>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Vendor Name:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.BillToPreviewVendorNmae}} </label>
                            </div>

                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Vendor Code:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.BillToVendorCode}} </label>
                            </div>
                          </div>
                        </div>

                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">GSTIN Id:</label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <label class="col-form-label-xs">{{model.BillToVenGSTIN}} </label>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">Vendor Add:</label>
                            <div class="col-sm-10">
                              <label class="col-form-label-xs">{{model.BillToVendorAddress}} </label>
                            </div>
                          </div>
                        </div>
                      </div>
                    </fieldset>
                  </div>
                </div>

                <!-- <span></span>-->
                <span></span>

                <fieldset class="scheduler-border">
                  <legend class="scheduler-border">Item Details</legend>
                  <div class="col-sm-12" style="overflow-x:scroll; min-height:330px;">
                    <table id="tblOne" class="table table-striped table-bordered" *ngIf="IsTransferTypeSameState">
                      <thead>
                        <tr>
                          <th>Item Name</th>
                          <th>Item Make</th>
                          <th>Part No</th>
                          <th>&nbsp;&nbsp;&nbsp;Equipment Type&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;Customer&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;Dispatch&nbsp;Type&nbsp;&nbsp;&nbsp;</th>
                          <th>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Item&nbsp;Description&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sub&nbsp;Descriptions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>&nbsp;&nbsp;&nbsp;UOM&nbsp;&nbsp;&nbsp;</th>
                          <th>HSN/SAC</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Qty&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <!-- <th style="text-align: center;">Serial&nbsp;No.<span style="color:red"
                            class="Mandatoryfield"><b></b></span></th>
                        <th *ngIf="IsReceivedHideShow">Received&nbsp;Qty<span style="color:red"
                            class="Mandatoryfield"><b></b></span></th>
                        <th *ngIf="IsReceivedHideShow">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reason<span
                            style="color:red"
                            class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                        <th *ngIf="IsReceivedHideShow">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remarks<span
                            style="color:red"
                            class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th> -->


                          <th>&nbsp;&nbsp;&nbsp;Unit&nbsp;Rate&nbsp;(in&nbsp;Rs.)&nbsp;&nbsp;&nbsp;</th>
                          <th>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Total&nbsp;&nbsp;Amount&nbsp;(in&nbsp;Rs.)&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>Discount&nbsp;(in&nbsp;Rs.)
                          </th>
                          <th>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Grand&nbsp;&nbsp;Total&nbsp;(in&nbsp;Rs.)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Manufacturing&nbsp;&nbsp;Date&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <!-- <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Serial&nbsp;&nbsp;No<span style="color:red;" class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>      -->
                          <th>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoice&nbsp;&nbsp;Date&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoice&nbsp;&nbsp;No&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let dynamic of dynamicArray; let i = index">
                          <td style="width:80px;">
                            <label style="text-align:center">{{dynamicArray[i].ItemName}}</label>
                          </td>
                          <td style="width:80px;">
                            <label style="text-align:center">{{dynamicArray[i].MakeName}}</label>
                          </td>
                          <td style="width:80px;">
                            <label>{{dynamicArray[i].ItemCode}}</label>
                          </td>
                          <td style="width:100px;">
                            <label style="text-align:center">{{dynamicArray[i].EqpType}}</label>
                          </td>
                          <td style="width:120px;">
                            <label style="text-align:center">{{dynamicArray[i].ClientName}}</label>
                          </td>
                          <td style="width:120px;">
                            <label style="text-align:center">{{dynamicArray[i].PreviewDispatchType}}</label>
                          </td>
                          <td style="width:280px;">
                            <label style="text-align:center">{{dynamicArray[i].ItemDescription}}</label>
                          </td>
                          <td style="width:280px;">
                            <label style="text-align:center">{{dynamicArray[i].SubDescription}}</label>
                          </td>
                          <td style="width:50px;">
                            <label style="text-align:center">{{dynamicArray[i].Unit}}</label>
                          </td>
                          <td style="width:80px;">
                            <label style="text-align:center">{{dynamicArray[i].HSN}}</label>
                          </td>

                          <td style="width:80px;">
                            <label style="text-align:center">{{dynamicArray[i].Qty}}</label>
                            <label
                              *ngIf="dynamicArray[i].HideShowConValue">S-Qty={{dynamicArray[i].ConversionUnit}}</label>
                            <label style="text-align:center"
                              *ngIf="dynamicArray[i].HideShowConValue">{{dynamicArray[i].ConversionValue}}</label>
                          </td>
                          <!-- <td style="width:100px;text-align: center;">
                          <a (click)="showModal(dynamicArray[i].Qty, i)">
                            <i _ngcontent-dpu-c137="" class="fa fa-plus"></i>
                          </a>
                        </td> -->
                          <!-- <td style="width:50px;" *ngIf="IsReceivedHideShow">
                            <label style="text-align:center">{{dynamicArray[i].ReceivedQty}}</label>
                        </td>
                        <td style="width:280px;" *ngIf="IsReceivedHideShow">
                          <select class="form-control form-control-sm ReasonId" id="txtReasonId_{{i}}"
                            (change)="ChangeReason()" [(ngModel)]="dynamicArray[i].ReasonId">
                            <option class="dropdown-item" [value]="0">Select</option>
                            <option *ngFor="let item of ItemReasonData" [value]="item.id">{{item.ReasonName}}</option>
                          </select>
                        </td>
                        <td style="width:280px;" *ngIf="IsReceivedHideShow">
                          <textarea id="txtRemarks_{{i}}" [(ngModel)]="dynamicArray[i].Remarks"
                            (blur)="RemarksKeyPress()" class="form-control form-control-sm Remarks" type="text"
                            style="text-align:center;"> </textarea>
                        </td> -->


                          <td style="width:50px;">
                            <label style="text-align:center">{{dynamicArray[i].Rate}}</label>
                          </td>
                          <td style="width:120px;">
                            <label style="text-align:center">{{dynamicArray[i].TotalAmount}}</label>
                          </td>
                          <td style="width:60px;">
                            <label style="text-align:center">{{dynamicArray[i].Discount}}</label>
                          </td>

                          <td style="width:60px;">
                            <label style="text-align:center">{{dynamicArray[i].GetTotalAmount}}</label>
                          </td>

                          <td style="width:60px;">

                            <label style="text-align:center">{{dynamicArray[i].ManufDate}}</label>
                          </td>

                          <!-- <td style="width:140px;">    
                            <input class="form-control form-control-sm SerialNo"  id="txtSerialNo_{{i}}" autocomplete="off" [(ngModel)]="dynamicArray[i].SerialNo" (blur)="SerialNoKeyPress()"   type="text" style="text-align:center;"/>   
                          </td>  -->
                          <td style="width:60px;">
                            <label style="text-align:center">{{dynamicArray[i].InvoiceTaxDate}}</label>
                          </td>

                          <td style="width:140px;">
                            <label style="text-align:center">{{dynamicArray[i].InvoiceTaxNo}}</label>
                          </td>

                        </tr>
                        <tr>
                          <td colspan="10">Gross Total</td>
                          <td style="text-align:center;">{{totalSumPOQuantity}}</td>
                          <td></td>
                          <td></td>
                          <td *ngIf="IsUnitConversion"></td>
                          <td *ngIf="IsUnitConversion"></td>
                          <td></td>
                          <!-- <td></td>
                        <td *ngIf="IsReceivedHideShow"></td>
                        <td *ngIf="IsReceivedHideShow"></td>
                        <td *ngIf="IsReceivedHideShow"></td> -->
                          <td style="text-align:center;">{{totalSumAmount}}</td>
                          <td></td>
                          <td></td>
                          <td></td>
                        </tr>
                      </tbody>
                    </table>
                    <table id="tblOne" class="table table-striped table-bordered" *ngIf="IsTransferTypeOtherState">
                      <thead>
                        <tr>
                          <!-- <th></th> -->
                          <th>Item Name<span style="color:red;" class="Mandatoryfield"><b></b></span></th>
                          <!-- <th>History<span style="color:red;" class="Mandatoryfield"><b></b></span></th> -->
                          <th>Item Make<span style="color:red;" class="Mandatoryfield"><b></b></span></th>
                          <th>Part No<span style="color:red;" class="Mandatoryfield"><b></b></span></th>
                          <th>&nbsp;&nbsp;&nbsp;Equipment Type<span style="color:red"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;Customer<span style="color:red"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;Dispatch&nbsp;Type<span style="color:red"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Item&nbsp;Description<span
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sub&nbsp;Description<span
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>HSN/SAC<span style="color:red" class="Mandatoryfield"><b>*</b></span></th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;UOM<span style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Qty<span style="color:red"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <!-- <th>Serial&nbsp;No.<span style="color:red" class="Mandatoryfield"><b>*</b></span></th>
                        <th *ngIf="IsReceivedHideShow">Received&nbsp;Qty<span style="color:red"
                            class="Mandatoryfield"><b></b></span></th>
                        <th *ngIf="IsReceivedHideShow">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reason<span
                            style="color:red"
                            class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                        <th *ngIf="IsReceivedHideShow">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remarks<span
                            style="color:red"
                            class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th> -->
                          <th>&nbsp;&nbsp;&nbsp;Unit&nbsp;Rate&nbsp;(in&nbsp;Rs.)<span style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Total&nbsp;&nbsp;Amount&nbsp;(in&nbsp;Rs.)<span
                              style="color:red;" class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>IGST(%)<span style="color:red;" class="Mandatoryfield"><b></b></span></th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IGST&nbsp;Value&nbsp;(in&nbsp;Rs.)<span style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Grand&nbsp;&nbsp;Total&nbsp;(in&nbsp;Rs.)<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Manufacturing&nbsp;&nbsp;Date<span style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <!-- <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Serial&nbsp;&nbsp;No<span style="color:red;" class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>      -->
                          <th>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoice&nbsp;&nbsp;Date<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoice&nbsp;&nbsp;No<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let dynamic of dynamicArray; let i = index">
                          <!-- <td (click)="deleteRow(i)" style="width:20px;">
                          <i class="fa fa-trash" title="Delete"></i>
                        </td> -->
                          <td style="width:80px;">
                            <label>{{dynamicArray[i].ItemName}}</label>
                          </td>
                          <!-- <td style="width:100px;text-align: center;">
                          <a (click)="ClickHistory(dynamicArray[i].ItemNameId, i)">
                            <i _ngcontent-dpu-c137="" class="fa fa-eye" title="View History" style="color:green"></i>
                          </a>
                        </td> -->
                          <td style="width:80px;">
                            <label>{{dynamicArray[i].MakeName}}</label>
                          </td>
                          <td style="width:80px;">
                            <label>{{dynamicArray[i].ItemCode}}</label>
                          </td>
                          <td style="width:100px;">
                            <label style="text-align:center">{{dynamicArray[i].EqpType}}</label>
                          </td>
                          <td style="width:120px;">
                            <label style="text-align:center">{{dynamicArray[i].ClientName}}</label>
                          </td>
                          <td style="width:120px;">
                            <label style="text-align:center">{{dynamicArray[i].PreviewDispatchType}}</label>
                          </td>
                          <td style="width:280px;">
                            <label style="text-align:center">{{dynamicArray[i].ItemDescription}}</label>
                          </td>
                          <td style="width:280px;">
                            <label style="text-align:center">{{dynamicArray[i].SubDescription}}</label>
                          </td>
                          <td style="width:80px;">
                            <label style="text-align:center">{{dynamicArray[i].HSN}}</label>
                          </td>
                          <td style="width:50px;">
                            <label style="text-align:center">{{dynamicArray[i].Unit}}</label>
                          </td>
                          <td style="width:80px;">
                            <label style="text-align:center">{{dynamicArray[i].Qty}}</label>
                            <label
                              *ngIf="dynamicArray[i].HideShowConValue">S-Qty={{dynamicArray[i].ConversionUnit}}</label>
                            <label style="text-align:center"
                              *ngIf="dynamicArray[i].HideShowConValue">{{dynamicArray[i].ConversionValue}}</label>
                          </td>
                          <!-- <td style="width:80px; text-align: center;">
                          <a (click)="showModal(dynamicArray[i].Qty, i)">
                            <i _ngcontent-dpu-c137="" class="fa fa-plus"></i>
                          </a>
                        </td> -->
                          <!-- <td style="width:50px;" *ngIf="IsReceivedHideShow">
                          <input class="form-control form-control-sm ReceivedQty" (blur)="ReceivedKeyPress()"
                            id="txtReceivedQty_{{i}}" autocomplete="off" [(ngModel)]="dynamicArray[i].ReceivedQty"
                            appCopyPastNumFloatValue type="text" style="text-align:center;" />
                        </td>
                        <td style="width:280px;" *ngIf="IsReceivedHideShow">
                          <select class="form-control form-control-sm ReasonId" id="txtReasonId_{{i}}"
                            (change)="ChangeReason()" [(ngModel)]="dynamicArray[i].ReasonId">
                            <option class="dropdown-item" [value]="0">Select</option>
                            <option *ngFor="let item of ItemReasonData" [value]="item.id">{{item.ReasonName}}</option>
                          </select>
                        </td>
                        <td style="width:280px;" *ngIf="IsReceivedHideShow">
                          <textarea id="txtRemarks_{{i}}" [(ngModel)]="dynamicArray[i].Remarks"
                            (blur)="RemarksKeyPress()" class="form-control form-control-sm Remarks" type="text"
                            style="text-align:center;"> </textarea>
                        </td> -->


                          <td style="width:50px;">
                            <label style="text-align:center">{{dynamicArray[i].Rate}}</label>
                          </td>
                          <td style="width:120px;">
                            <label style="text-align:center">{{dynamicArray[i].TotalAmount}}</label>
                          </td>
                          <td style="width:60px;">
                            <label style="text-align:center">{{dynamicArray[i].IGSTValue}}</label>
                          </td>
                          <td style="width:60px;">
                            <label style="text-align:center">{{dynamicArray[i].IGST}}</label>
                          </td>

                          <td style="width:60px;">
                            <label style="text-align:center">{{dynamicArray[i].GetTotalAmount}}</label>
                          </td>

                          <td style="width:60px;">
                            <label style="text-align:center">{{dynamicArray[i].ManufDate}}</label>
                          </td>

                          <!-- <td style="width:140px;">    
                            <input class="form-control form-control-sm SerialNo"  id="txtSerialNo_{{i}}" autocomplete="off" [(ngModel)]="dynamicArray[i].SerialNo" (blur)="SerialNoKeyPress()"   type="text" style="text-align:center;"/>   
                          </td>  -->
                          <td style="width:60px;">
                            <label style="text-align:center">{{dynamicArray[i].InvoiceTaxDate}}</label>
                          </td>

                          <td style="width:140px;">
                            <label style="text-align:center">{{dynamicArray[i].InvoiceTaxNo}}</label>
                          </td>

                        </tr>
                        <tr>
                          <td colspan="10">Gross Total</td>
                          <td style="text-align:center;">{{totalSumPOQuantity}}</td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <!-- <td></td>
                        <td *ngIf="IsReceivedHideShow"></td>
                        <td *ngIf="IsReceivedHideShow"></td>
                        <td *ngIf="IsReceivedHideShow"></td> -->
                          <td></td>
                          <td style="text-align:center;">{{totalSumAmount}}</td>
                          <td></td>
                          <td></td>
                          <td></td>

                        </tr>
                        <!-- <tr *ngIf="ItemAddrowhideshow">
                        <td (click)="addRow()">
                          <i class="fa fa-plus"></i>
                        </td>
                      </tr> -->
                      </tbody>
                    </table>

                    <table id="tblVendorTax" class="table table-striped table-bordered" *ngIf="IsVendorTax">
                      <thead>
                        <tr>
                          <!-- <th></th> -->
                          <th>Item Name<span style="color:red;" class="Mandatoryfield"><b></b></span></th>
                          <!-- <th>History<span style="color:red;" class="Mandatoryfield"><b></b></span></th> -->
                          <th>Item Make<span style="color:red;" class="Mandatoryfield"><b></b></span></th>
                          <th>Part No<span style="color:red;" class="Mandatoryfield"><b></b></span></th>
                          <th>&nbsp;&nbsp;&nbsp;Equipment Type<span style="color:red"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;Customer<span style="color:red"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;Dispatch&nbsp;Type<span style="color:red"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Item&nbsp;Description<span
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sub&nbsp;Description<span style="color:red"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>HSN/SAC<span style="color:red" class="Mandatoryfield"><b></b></span></th>

                          <th>&nbsp;&nbsp;&nbsp;&nbsp;UOM<span style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Qty<span style="color:red"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <!-- <th>Serial&nbsp;No.<span style="color:red" class="Mandatoryfield"><b>*</b></span></th>
                        <th *ngIf="IsReceivedHideShow">Received&nbsp;Qty<span style="color:red"
                            class="Mandatoryfield"><b></b></span></th>
                        <th *ngIf="IsReceivedHideShow">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reason<span
                            style="color:red"
                            class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                        <th *ngIf="IsReceivedHideShow">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remarks<span
                            style="color:red"
                            class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            &nbsp;</th> -->
                          <th vlign="center">Unit Rate (in Rs.)<span style="color:red;"
                              class="Mandatoryfield"><b></b></span></th>
                          <th vlign="center"> Basic Value<span style="color:red;" class="Mandatoryfield"><b></b></span>
                          </th>
                          <th vlign="center">Freight Charge</th>
                          <th vlign="center">Total Amount</th>
                          <th vlign="center">Taxable Amount</th>
                          <th vlign="center">SGST Rate(%)<span style="color:red;" class="Mandatoryfield"><b></b></span>
                          </th>
                          <th vlign="center">SGST<span style="color:red;" class="Mandatoryfield"><b></b></span></th>
                          <th vlign="center">CGST Rate(%)</th>
                          <th vlign="center">CGST<span style="color:red;" class="Mandatoryfield"><b></b></span></th>
                          <th vlign="center">IGST Rate(%)<span style="color:red;" class="Mandatoryfield"><b></b></span>
                          </th>
                          <th vlign="center">IGST<span style="color:red;" class="Mandatoryfield"><b></b></span></th>
                          <th vlign="center">TCS Rate(%)<span style="color:red;" class="Mandatoryfield"><b></b></span>
                          </th>
                          <th vlign="center">TCS<span style="color:red;" class="Mandatoryfield"><b></b></span></th>
                          <th vlign="center">Total Invoice Value <span style="color:red;"
                              class="Mandatoryfield"><b>*</b></span></th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Manufacturing&nbsp;&nbsp;Date<span style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <!-- <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Serial&nbsp;&nbsp;No<span style="color:red;" class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>      -->
                          <th>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoice&nbsp;&nbsp;Date<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoice&nbsp;&nbsp;No<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let dynamic of dynamicArray; let i = index">
                          <!-- <td (click)="deleteRow(i)" style="width:20px;">
                          <i class="fa fa-trash" title="Delete"></i>
                        </td> -->
                          <td style="width:80px;">
                            <label style="text-align:center">{{dynamicArray[i].ItemName}}</label>
                          </td>
                          <!-- <td style="width:100px;text-align: center;">
                          <a (click)="ClickHistory(dynamicArray[i].ItemNameId, i)">
                            <i _ngcontent-dpu-c137="" class="fa fa-eye" title="View History" style="color:green"></i>
                          </a>
                        </td> -->
                          <td style="width:80px;">
                            <label style="text-align:center">{{dynamicArray[i].MakeName}}</label>
                          </td>
                          <td style="width:80px;">
                            <label style="text-align:center">{{dynamicArray[i].ItemCode}}</label>
                          </td>
                          <td style="width:100px;">
                            <label style="text-align:center">{{dynamicArray[i].EqpType}}</label>
                          </td>
                          <td style="width:120px;">
                            <label style="text-align:center">{{dynamicArray[i].ClientName}}</label>
                          </td>
                          <td style="width:120px;">
                            <label style="text-align:center">{{dynamicArray[i].PreviewDispatchType}}</label>
                          </td>
                          <td style="width:280px;">
                            <label style="text-align:center">{{dynamicArray[i].ItemDescription}}</label>
                          </td>
                          <td style="width:280px;">
                            <label style="text-align:center">{{dynamicArray[i].SubDescription}}</label>
                          </td>
                          <td style="width:80px;">
                            <label style="text-align:center">{{dynamicArray[i].HSN}}</label>
                          </td>
                          <td style="width:50px;">
                            <label style="text-align:center">{{dynamicArray[i].Unit}}</label>
                          </td>
                          <td style="width:80px;">
                            <label style="text-align:center">{{dynamicArray[i].Qty}}</label>
                            <label
                              *ngIf="dynamicArray[i].HideShowConValue">S-Qty={{dynamicArray[i].ConversionUnit}}</label>
                            <label style="text-align:center"
                              *ngIf="dynamicArray[i].HideShowConValue">{{dynamicArray[i].ConversionValue}}</label>
                          </td>
                          <!-- <td style="width:80px; text-align: center;">
                          <a (click)="showModal(dynamicArray[i].Qty, i)">
                            <i _ngcontent-dpu-c137="" class="fa fa-plus"></i>
                          </a>
                        </td> -->
                          <!-- <td style="width:50px;" *ngIf="IsReceivedHideShow">
                          <input class="form-control form-control-sm ReceivedQty" (blur)="ReceivedKeyPress()"
                            id="txtReceivedQty_{{i}}" autocomplete="off" [(ngModel)]="dynamicArray[i].ReceivedQty"
                            appCopyPastNumFloatValue type="text" style="text-align:center;" />
                        </td>
                        <td style="width:280px;" *ngIf="IsReceivedHideShow">
                          <select class="form-control form-control-sm ReasonId" id="txtReasonId_{{i}}"
                            (change)="ChangeReason()" [(ngModel)]="dynamicArray[i].ReasonId">
                            <option class="dropdown-item" [value]="0">Select</option>
                            <option *ngFor="let item of ItemReasonData" [value]="item.id">{{item.ReasonName}}</option>
                          </select>
                        </td>
                        <td style="width:280px;" *ngIf="IsReceivedHideShow">
                          <textarea id="txtRemarks_{{i}}" [(ngModel)]="dynamicArray[i].Remarks"
                            (blur)="RemarksKeyPress()" class="form-control form-control-sm Remarks" type="text"
                            style="text-align:center;"> </textarea>
                        </td> -->


                          <td style="width:50px;">
                            <label style="text-align:center">{{dynamicArray[i].Rate}}</label>
                          </td>

                          <td style="width:120px;">
                            <label style="text-align:center">{{dynamicArray[i].TotalAmount}}</label>
                          </td>
                          <td style="width:100px;">
                            <label style="text-align:center">{{dynamicArray[i].FreightCharge}}</label>
                          </td>

                          <td style="width:100px;">
                            <label style="text-align:center">{{dynamicArray[i].TotalAmountWithFreightCharge}}</label>
                          </td>
                          <td style="width:120px;">
                            <select style="width:120px;" (change)="ItemRateOnblur()"
                              class="form-control form-control-sm TaxWith" id="TaxWith_{{i}}"
                              [(ngModel)]="dynamicArray[i].TaxWith">
                              <option class="dropdown-item" [value]="1">Total Amount</option>
                              <option class="dropdown-item" [value]="2">Basic Value</option>
                            </select>
                            <label style="text-align:center">{{dynamicArray[i].TotalAmountWithFreightCharge}}</label>
                          </td>
                          <td style="width:120px;">
                            <label style="text-align:center">{{dynamicArray[i].SGSTRate}}</label>
                          </td>
                          <td style="width:120px;">
                            <label style="text-align:center">{{dynamicArray[i].SGST}}</label>
                          </td>
                          <td style="width:120px;">
                            <label style="text-align:center">{{dynamicArray[i].CGSTRate}}</label>
                          </td>
                          <td style="width:120px;">
                            <label style="text-align:center">{{dynamicArray[i].CGST}}</label>
                          </td>
                          <td style="width:120px;">
                            <label style="text-align:center">{{dynamicArray[i].IGSTValue}}</label>
                          </td>
                          <td style="width:120px;">
                            <label style="text-align:center">{{dynamicArray[i].IGST}}</label>
                          </td>
                          <td style="width:120px;">
                            <label style="text-align:center">{{dynamicArray[i].TCSRate}}</label>
                          </td>
                          <td style="width:120px;">
                            <label style="text-align:center">{{dynamicArray[i].TCS}}</label>
                          </td>
                          <td style="width:120px;">
                            <label style="text-align:center">{{dynamicArray[i].TotalInvoiceValue}}</label>
                          </td>




                          <!-- <td style="width:60px;">    
                          <input class="form-control form-control-sm" readonly id="txtGetTotalAmount" [(ngModel)]="dynamicArray[i].GetTotalAmount"   type="text" style="text-align:center;"/>   
                        </td> -->
                          <td style="width:60px;">
                            <label style="text-align:center">{{dynamicArray[i].ManufDate}}</label>
                          </td>

                          <!-- <td style="width:140px;">    
                            <input class="form-control form-control-sm SerialNo"  id="txtSerialNo_{{i}}" autocomplete="off" [(ngModel)]="dynamicArray[i].SerialNo" (blur)="SerialNoKeyPress()"   type="text" style="text-align:center;"/>   
                          </td>  -->
                          <td style="width:60px;">
                            <label style="text-align:center">{{dynamicArray[i].InvoiceTaxDate}}</label>
                          </td>

                          <td style="width:140px;">
                            <label style="text-align:center">{{dynamicArray[i].InvoiceTaxNo}}</label>
                          </td>

                        </tr>
                        <tr>
                          <td colspan="10">Gross Total</td>
                          <td style="text-align:center;">{{totalSumPOQuantity}}</td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <!-- <td></td>
                        <td *ngIf="IsReceivedHideShow"></td>
                        <td *ngIf="IsReceivedHideShow"></td>
                        <td *ngIf="IsReceivedHideShow"></td> -->
                          <td></td>
                          <td style="text-align:center;"></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td style="text-align:center;">{{totalSumAmount}}</td>
                          <td></td>
                          <td></td>
                          <td></td>
                        </tr>

                      </tbody>
                    </table>

                  </div>
                </fieldset>

                <br>

                <div class="row mb-1">

                  <label class="col-form-label-xs col-sm-1">Note:</label>
                  <div class="col-sm-3">
                    <label class="col-form-label-xs">{{model.Note}} </label>
                  </div>

                </div>


                <fieldset class="scheduler-border">
                  <legend class="scheduler-border">Cost Details</legend>
                  <div class="row mb-1">

                    <label class="col-form-label-xs col-sm-1">Secondary Transportation Cost:</label>
                    <div class="col-sm-2">
                      <label class="col-form-label-xs">{{model.SecTransCost}} </label>
                    </div>

                    <label class="col-form-label-xs col-sm-1"> Loading Cost:</label>
                    <div class="col-sm-2">
                      <div class="input-group">
                        <label class="col-form-label-xs">{{model.LoadingCost}} </label>
                      </div>
                    </div>
                    <label class="col-form-label-xs col-sm-1"> Unloading Cost:</label>
                    <div class="col-sm-2">
                      <label class="col-form-label-xs">{{model.UnloadingCost}} </label>
                    </div>
                    <label class="col-form-label-xs col-sm-1">Other Charges:</label>
                    <div class="col-sm-2">
                      <label class="col-form-label-xs">{{model.OtherCharges}} </label>
                    </div>
                  </div>
                  <div class="row mb-1">
                    <label class="col-form-label-xs col-sm-1">Primary Unloading Cost:</label>
                    <div class="col-sm-2">
                      <label class="col-form-label-xs">{{model.PrimaryUnloadingCost}} </label>
                    </div>
                  </div>
                </fieldset>
              </div>


            </div>
          </div>

        </div>
        <!--End-->
      </div>

    </section>

  </div>
</div>

<div class="modal fade" id="myModal" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h6 class="modal-title">Serial Number({{headerItemName}})
        </h6>
      </div>
      <!-- Modal body -->
      <div class="modal-body">
        <table style="width: 100%;" class="table table-striped table-bordered">
          <thead>
            <th>Qty</th>
            <th>Initial Range</th>
            <th>Last Range</th>
          </thead>
          <tbody>
            <tr>
              <td>
                {{strcount}}
              </td>
              <td>
                <input class="form-control form-control-sm itmsRate" [(ngModel)]="firstValue" (blur)="initialsrn()"
                  type="text" style="text-align:center;" />
              </td>
              <td>
                <input class="form-control form-control-sm itmsRate" [(ngModel)]="lastValue" (blur)="initialsrn()"
                  type="text" style="text-align:center;" />
              </td>
            </tr>
          </tbody>
        </table>
        <table class="table table-striped table-bordered" style="width: 100%;">
          <tr>
            <td><label style="height: 9px;font-size: 13px;">Excel Upload for SerialNo</label></td>
            <td>
              <input type="file" #inputExcelOther class="form-control" (change)="SerialNoExcelUpload($event)"
                placeholder="Upload file"
                accept=".csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"
                multiple="false" />
            </td>
            <td>
              <button type="button" class="btn btn-sm btn-success" (click)="DownloadSerialNoExcelSample()"><i
                  class="fa fa-download">
                </i> Sample Excel</button>
            </td>
          </tr>
        </table>
        <div id="table-wrapper">
          <div id="table-scroll">
            <table class="table table-striped table-bordered" style="width: 100%;">
              <tr *ngFor="let value of srnlst; let i = index">
                <td>
                  {{i+1}}
                </td>
                <td colspan="2">
                  <input class="form-control form-control-sm itmsRate" [(ngModel)]="srnlst[i].InitialSrno" type="text"
                    style="text-align:center;" />
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-sm btn-danger" (click)="ClearSerialNoList()">
          <i class="fa fa-trash"></i>
          Clear</button>
        <button type="submit" class="btn btn-sm btn-success" (click)="addBtn()">
          <i class="fa fa-plus"></i> Add </button>
        <button type="button" class="btn btn-sm btn-danger" (click)="hideModal()">
          <i class="far fa-window-close"></i>
          Cancel</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="bb" data-backdrop="static">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h6 class="modal-title">Serial Number(BB)</h6>
        <table style="width: 30%;">
          <tr>
            <td align="right">
              Qty
            </td>
            <td align="right">{{strcount}}</td>
          </tr>
        </table>

      </div>
      <!-- Modal body -->
      <div class="modal-body">
        <div id="table-wrapper1" style="height:400px; overflow: auto;">
          <div id="table-scroll1">
            <table class="table table-striped table-bordered" style="width: 100%;">
              <tr>
                <td><label style="height: 9px;font-size: 13px;">Excel Upload for SerialNo</label></td>
                <td>
                  <input type="file" #inputExcelBB class="form-control" (change)="SerialNoExcelUpload($event)"
                    placeholder="Upload file"
                    accept=".csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"
                    multiple="false" />
                </td>
                <td>
                  <button type="button" class="btn btn-sm btn-success" (click)="DownloadSerialNoExcelSample()"><i
                      class="fa fa-download">
                    </i> Sample Excel</button>
                </td>
              </tr>
            </table>
            <table class="table table-striped table-bordered" style="width: 100%;">
              <tr *ngFor="let value of srnlst; let i = index">
                <td>
                  <label id="login"> {{i+1}}</label>
                </td>
                <td style="width:150px;">
                  <span>
                    <label style="height: 9px;font-size: 13px;">Initial Value</label>
                    <input class="form-control form-control-sm itmsRate" [(ngModel)]="srnlst[i].BBInitial"
                      placeholder="Initial value" type="text" style="text-align:center;width:143px;" />
                  </span>
                  <span style="margin-top:10px;">
                    <label style="height: 9px;
              font-size: 13px;
              margin-top: 6px;">Last Value</label>
                    <input class="form-control form-control-sm itmsRate" [(ngModel)]="srnlst[i].BBLast"
                      (blur)="bbChange(i)" placeholder="last value" type="text"
                      style="text-align:center;width:143px; margin-top: 10px;" />
                  </span>
                </td>
                <td>
                  <div style="width:100%;">
                    <span *ngFor="let value of srnlst[i].CellNos; let j = index"
                      style="display:inline-block; margin-left:5px;margin-bottom:10px;">
                      <input type="text" [(ngModel)]="srnlst[i].CellNos[j].CellValue" class="form-control"
                        style="width:115px; height:22px;font-size: 10;" />
                    </span>
                  </div>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-sm btn-danger" (click)="ClearSerialNoList()">
          <i class="fa fa-trash"></i> Clear</button>
        <button type="submit" class="btn btn-sm btn-success" (click)="addBb()">
          <i class="fa fa-plus"></i> Add </button>
        <button type="button" class="btn btn-danger" (click)="hidebbModal()">
          <i class="fa fa-window-close"></i> Close</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="confirm" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Confirm !</h4>
      </div>
      <div class="modal-body">
        Please see preview before submit data by clicking on Preview Button.
        After submitting data will make it permanent change.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-sm btn-success" (click)="PreviewDispatch()"><i class="fa fa-save"
            *ngIf="IsPreviewhideandShow"></i> Preview Challan</button>
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-success" *ngIf="Save" [disabled]="loading"
          (click)="SaveUpDateDispatchRequest()">Save
          <i class="fa fa-spinner fa-spin" *ngIf="loading"></i>
        </button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<div class="modal fade" id="confirmreceived" data-backdrop="static" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Confirm !</h4>
      </div>
      <div class="modal-body">
        Please confirm that you want to Received.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-success" [disabled]="loading"
          (click)="SaveUpDateDispatchReceived()">Received
          <i class="fa fa-spinner fa-spin" *ngIf="loading"></i>
        </button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->


<div class="modal fade" id="Cancleconfirm" data-backdrop="static" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Confirm !</h4>
      </div>
      <div class="modal-body">
        Please confirm that you want to Cancel.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-success" [disabled]="loading" (click)="UpadateCancelDispatch()">Save
          <i class="fa fa-spinner fa-spin" *ngIf="loading"></i>
        </button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->


<div class="modal fade" id="Validationerror" data-backdrop="static" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Error !</h4>
      </div>
      <div class="modal-body">
        {{ValidationerrorMessage}}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<div class="modal fade" id="PreviousHistory" data-backdrop="static">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">

      <fieldset class="scheduler-border">
        <legend class="scheduler-border">Dispatch of Item History By Site</legend>
        <div class="col-sm-12">
          <div class="row">
            <ag-grid-angular style="width: 100%; height: 400px;" class="ag-theme-alpine" [enableSorting]="true"
              [enableFilter]="true" [pagination]="true" paginationPageSize="20" [columnDefs]="PreviousDatacolumnDefs"
              [multiSortKey]="multiSortKey" [rowData]="PreviousDatarowData" rowSelection="multiple"
              (gridReady)="PreviousGridReady($event)" [overlayLoadingTemplate]="loadingTemplate1"
              [enableCellTextSelection]="true">
            </ag-grid-angular>
          </div>
        </div>
      </fieldset>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="NoPreviousHistory" data-backdrop="static" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title"></h4>
      </div>
      <div class="modal-body">
        No Available Previous Data History.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<div class="modal fade" id="Correctionconfirm" data-backdrop="static" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Confirm !</h4>
      </div>
      <div class="modal-body">
        Please confirm do you want correction entry this line item.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">No</button>
        <button type="button" class="btn btn-success" (click)="UpadateCorrectionEntry()">Yes</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<!--vishal, popup for save customer dispatch-->
<div class="modal fade" id="confirmCusDispatch" data-backdrop="static" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Confirm !</h4>
      </div>
      <div class="modal-body">
        Do you want to save
      </div>
      <div class="modal-footer">

        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-success" [disabled]="loading" (click)="saveUpDateCusDispatchRequest()">Save
          <!-- <i class="fa fa-spinner fa-spin" *ngIf="loading"></i> -->
        </button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<!--vishal, popup for save customer dispatch-->
<div class="modal fade" id="receiveCusDispatch" data-backdrop="static" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Confirm !</h4>
      </div>
      <div class="modal-body">
        Do you want to update receiving details
      </div>
      <div class="modal-footer">

        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-success" [disabled]="loading"
          (click)="updateCustomerDispatchReceivingDetails()">Yes
          <!-- <i class="fa fa-spinner fa-spin" *ngIf="loading"></i> -->
        </button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<div class="modal fade" id="CancleCusDispatchConfirm" data-backdrop="static" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Confirm !</h4>
      </div>
      <div class="modal-body">
        Please confirm that you want to Cancel.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-success" [disabled]="loading" (click)="cancelCustomerDispatch()">Save
          <i class="fa fa-spinner fa-spin" *ngIf="loading"></i>
        </button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<!-- <div class="modal fade" id="MultisiteDispatchPopup" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-sm">
    <div class="modal-content"> 
       <div class="modal-header">
        <h6 class="modal-title">Multiple Site
        </h6>
      </div>
      <div class="modal-body">
        
        <table class="table table-striped table-bordered"  style="width: 100%;" >
          <tr>
            <td><label style="height: 9px;font-size: 13px;" >Excel Upload </label></td>
            <td>
              <input type="file" #inputExcelMultisite class="form-control" (change)="MultiSiteExcelUpload($event)" placeholder="Upload file" 
              accept=".csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel" 
              multiple="false" />           
            </td>  
            <td>
              <button type="button" class="btn btn-sm btn-success" (click)="DownloadMultiSiteExcelSample()"><i class="fa fa-download">
              </i> Sample Excel</button>
            </td>         
          </tr>   
        </table>
        <div id="table-wrapper">
          <div id="table-scroll">
        <table class="table table-striped table-bordered"  style="width: 100%;" >
          <tr *ngFor="let tt of MultiSite; let i = index" >
            <td >
              {{i+1}}
           </td>
           <td colspan="2">
             <input  class="form-control form-control-sm "  [(ngModel)]="MultiSite[i].CustomerSiteId"      type="text" style="text-align:center;"/>    
           </td>
          </tr>
        </table>
      </div>
    </div>
      </div> 

      <div class="modal-footer">
        <button type="button" class="btn btn-sm btn-danger" (click)="ClearMultiSelect()">
          <i class="fa fa-trash"></i>
          Clear</button>
        <button type="submit" class="btn btn-sm btn-success" (click)="AddMultisite()">
          <i class="fa fa-plus"></i> Add </button>
        <button type="button" class="btn btn-sm btn-danger" (click)="MultisitehideModal()">
          <i class="far fa-window-close"></i>
          Cancel</button>
      </div> 
     </div>
  </div>
</div> -->