<style>
  .table th,
  .table td {
    padding: 4px 4px 4px 4px;
    vertical-align: top;
    border-top: 1px solid #dee2e6;
  }

  .table thead th {
    border-bottom: 2px solid #dee2e6;
    text-align: center;
    font-size: smaller;
  }

  .Mandatoryfield {
    font-size: 15px
  }

  .ng-star-inserted {
    /* position: fixed !important; */
    z-index: auto !important;
    /* top: 0px;
    left: 0px;
    will-change: transform;
    transform: translate(863px, 84px); */
  }

  .ChildCSS {
    width: 100%;
    display: flex;
    justify-content: flex-start;
    margin-top: -1.5%;
  }

  .Topcss {
    margin-top: -2.5%;
    /* margin-right: 100px; */
  }
</style>
<ng-template #content let-modal let-d="dismiss">
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title" id="modal-basic-title">Please confirm..</h5>
      <div>
      </div>
    </div>
    <div class="modal-body">
      <span>PO total qty has been save,please check GRN detail</span>
    </div>
    <div class="modal-footer center ">
      <button type="button" class="btn btn-default" data-dismiss="modal" (click)="d('Cross click')">No</button>
      <button type="submit" class="btn btn-success" data-dismiss="modal" (click)="ConfirmmationClick()">Ok </button>
    </div>
  </div>
</ng-template>

<div class="wrapper">
  <app-main-header></app-main-header>
  <!-- Main Sidebar Container -->
  <app-main-sidebar></app-main-sidebar>
  <ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="default" type="ball-spin-clockwise">
    <p style="color: white">Please Wait. </p>
  </ngx-spinner>
  <div class="content-wrapper" style="min-height: 54.0312px; background-color: white;">
    <!-- Content Header (Page header) -->
    <div class="content-header bg-light">
      <div class="container-fluid">
        <div class="row">
          <div class="col-xs-12">
            <nav aria-label="breadcrumb">
              <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="/dashboard">Home</a></li>
                <li class="breadcrumb-item active">WH Management / SRN </li>
              </ol>
            </nav>
          </div>
        </div>
      </div>
    </div>
    <!-- /.content-header -->
    <section class="content" style="padding-top:2px;">
      <div class="container-fluid">
        <div class="row" [hidden]="isShownList">
          <div class="col-sm-12">
            <app-search-panel></app-search-panel>
            <div class="row mb-1" style="margin-left:3px">
              <div class="col-sm-1">
                <label class="col-form-label-xs">SRN/ Tax Invoice No</label>
              </div>
              <div class="col-sm-2">
                <input type="text" placeholder="" [(ngModel)]="model.SRNTaxinvoiceNo"
                  class="form-control form-control-sm" />
              </div>
              <div class="col-sm-1">
                <label class="col-form-label-xs">SRN From</label>
              </div>
              <div class="col-sm-2">
                <select class="form-control form-control-sm" id="txtTransferType" [(ngModel)]="model.SRNFrom">
                  <option [value]="0">Select </option>
                  <option *ngFor="let item of TransferSearchDataList" [value]="item.Id">{{item.PageName}}</option>
                </select>
              </div>
              <div class="col-sm-1">
                <label class="col-form-label-xs">SRN Type</label>
              </div>
              <div class="col-sm-2">
                <select class="form-control form-control-sm" id="txtVoucher" [(ngModel)]="model.SRNType">
                  <option class="dropdown-item" value=0>Select </option>
                  <option class="dropdown-item" value=0>Request</option>
                  <option class="dropdown-item" value=1>Received</option>
                </select>
              </div>
              <div class="col-sm-1">
                <label class="col-form-label-xs">Active/Cancel </label>
              </div>
              <div class="col-sm-2">
                <select class="form-control form-control-sm" id="" [(ngModel)]="model.IsActiveCancel">
                  <option value=2>Select </option>
                  <option value=1>Active </option>
                  <option value=0>Cancel </option>
                </select>
              </div>
            </div>
            <div class="row mb-1" style="margin-left:3px">
              <div class="col-sm-1">
                <label class="col-form-label-xs">Customer </label>
              </div>
              <div class="col-sm-2">
                <angular2-multiselect [data]="SearchCustomerData" [(ngModel)]="SelectedSearchCustomerList"
                  [settings]="MultidropdownSettings" (onDeSelectAll)="onClickCustomer('DelAll')"
                  (ngModelChange)="onClickCustomer('')">
                </angular2-multiselect>
              </div>
              <div class="col-sm-6">
                <app-site-panel class="ChildCSS"></app-site-panel>
              </div>

            </div>


            <div class="row">
              <div class="col-sm-12" style="background-color:#28a745;">
                <div class="btn-group btn-group-sm">
                  <button type="button" class="btn btn-success" *ngIf="ObjUserPageRight.IsSearch"
                    (click)="SearchSRNList('List')"> <i class="fa fa-search" aria-hidden="true"></i> Search</button>
                  <button type="button" class="btn btn-success" *ngIf="ObjUserPageRight.IsExport"
                    (click)="SearchSRNList('Export')"><i class="fa fa-download" aria-hidden="true"></i> Excel Export<i
                      class="fa fa-spinner fa-spin" *ngIf="Exportloading"></i></button>
                  <button type="button" class="btn btn-success" *ngIf="ObjUserPageRight.IsCreate"
                    (click)="CreateNew(1)"><i class="fa fa-plus"></i>New SRN
                    Request</button>
                  <button type="button" *ngIf="ObjUserPageRight.IsCreate" class="btn btn-success"
                    (click)="CreateNew(2)"><i class="fa fa-plus"></i> New
                    SRN
                    Received</button>
                  <button type="button" *ngIf="ObjUserPageRight.IsBulkPdfDwnload" class="btn btn-success"
                    (click)="DownloadAllSRNZip()"><i class="fa fa-download"></i> SRN File</button>
                  <button type="button" *ngIf="ObjUserPageRight.IsBulkPdfDwnload" class="btn btn-success"
                    (click)="DownloadAllBiltyZip()"><i class="fa fa-download"></i> Bilty File</button>

                </div>

              </div>
            </div>
          </div>
          <div class="col-sm-12">
            <div class="row">
              <ag-grid-angular style="width: 100%; height: 500px;" class="ag-theme-alpine" [enableSorting]="true"
                [enableFilter]="true" [pagination]="true" paginationPageSize="20" [columnDefs]="columnDefs"
                [multiSortKey]="multiSortKey" [tooltipShowDelay]="tooltipShowDelay" [rowData]="rowData"
                [frameworkComponents]="frameworkComponents" (gridReady)="onGridReady($event)"
                [overlayLoadingTemplate]="loadingTemplate">
              </ag-grid-angular>
            </div>
          </div>
        </div>

        <div class="row" [hidden]="isShownEdit">
          <div class="col-sm-12 col-md-12">
            <div class="card card-success">
              <div class="card-body">
                <div class="alert alert-danger" *ngIf="IsError" role="alert">
                  <strong>Error!</strong> {{errorMessage}}
                </div>
                <div class="alert alert-success" *ngIf="IsSuccess" role="alert">
                  {{succesMessage}}
                </div>
                <div class="row mb-1">
                  <div class="col-sm-12 content-header bg-light">
                    <div class="col-sm-12">
                      <button type="button" class="btn btn-sm btn-success" (click)="BackPage()"><i
                          class="fa fa-arrow-circle-left"></i> Back</button>
                      &nbsp; <button type="submit" *ngIf="ObjUserPageRight.IsCreate" class="btn btn-sm btn-success"
                        (click)="CreateNew(1)"><i class="fa fa-plus"></i>
                        New SRN Request </button>
                      &nbsp; <button type="submit" *ngIf="ObjUserPageRight.IsCreate" class="btn btn-sm btn-success"
                        (click)="CreateNew(2)"><i class="fa fa-plus"></i>
                        New SRN Received </button>
                      &nbsp;<button type="button" *ngIf="Save" class="btn btn-sm btn-success"
                        [disabled]="IsSaveButtonDisable" (click)="conformPopup()"><i class="fa fa-save"></i>
                        Save</button>
                      <!-- &nbsp;<button type="button" class="btn btn-sm btn-success"   
                        [disabled]="IsDisabledPreviewGenratebutton" (click)="GenerateDispatchPdfbyDispatchId(2,1)"><i
                          class="fa fa-save"></i> Preview</button> -->
                      &nbsp;<button type="button" class="btn btn-sm btn-success" *ngIf="IsPreviewhideandShow"
                        (click)="PreviewSRN()"><i class="fa fa-save"></i> Preview</button>


                      &nbsp;<button type="button" class="btn btn-sm btn-success" *ngIf="ObjUserPageRight.IsGenPdf"
                        [disabled]="IsDisabledPreviewGenratebutton" (click)="GenerateDispatchPdfbyDispatchId(1,1)"><i
                          class="fa fa-save"></i> Generate Pdf</button>
                      &nbsp;
                      <button type="button" *ngIf="ObjUserPageRight.IsDelete && IsHideShowCancelBtn"
                        class="btn btn-sm btn-success" [disabled]="IsCancelButtonDisable"
                        (click)="conformCancelPopup()">Cancel SRN</button>
                      &nbsp;

                      <app-view-approvalpage [ChildApprovalList]="ApprovalList" [ManueId]="ManueId" [TableId]="TableId"
                        [CreateName]="CreateName" [CreatedDate]="CreatedDate" [ModifiedName]="ModifiedName"
                        [CompanyId]="CompanyId" [ModifiedDate]="ModifiedDate"
                        [ApprovalstatusbtnhideShow]="IsApprovalstatusbtnhideShow">
                      </app-view-approvalpage>
                    </div>
                  </div>
                </div>


                <div class="row">
                  <div class="col-12 col-sm-6 col-md-6 ">
                    <fieldset class="scheduler-border">
                      <legend class="scheduler-border">Company WH Details</legend>
                      <span></span>
                      <div class="row mb-1" *ngIf="IsSRNNoShowAndHide">
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">SRN/Tax Invoice No</label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <div class="ng-autocomplete">
                                  <ng-autocomplete [data]="AutoCompleteSRNNoList" [searchKeyword]="SRNNokeyword"
                                    (inputCleared)="SearchSRNCleared()" (selected)='SearchAutoDocumentNo($event)'
                                    (inputChanged)='onChangeSearch($event)' (inputFocused)='onFocused($event)'
                                    [(ngModel)]="model.SRNNoData" [itemTemplate]="itemSRNNoTemplate"
                                    [notFoundTemplate]="notFoundSRNNoTemplate" [debounceTime]="1500"
                                    [minQueryLength]="2" placeHolder="Search SRN No..">
                                  </ng-autocomplete>
                                  <ng-template #itemSRNNoTemplate let-item>
                                    <a [innerHTML]="item.SRNNo"></a>
                                  </ng-template>
                                  <ng-template #notFoundSRNNoTemplate let-notFound>
                                    <div [innerHTML]="notFound"></div>
                                  </ng-template>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>

                      </div>
                      <div class="row mb-1">
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">State<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-6" tabindex="0">
                              <select class="form-control form-control-sm" id="txtddlStateId"
                                [(ngModel)]="model.ddlStateId" autofocus [disabled]="IsReadonlyField"
                                (change)="BindStateCodeWHAdd(model.ddlStateId)">
                                <option class="dropdown-item" value="0">Select</option>
                                <option *ngFor="let itemState of SearchStateList" [value]="itemState.id">
                                  {{itemState.itemName}}</option>
                              </select>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-3">
                          <div class="row" style="margin-left: -50px;">
                            <label class="col-form-label-xs ">State Code<span style="color: red;"
                                class="Mandatoryfield"><b></b></span></label>
                            <div class="col-sm-3">
                              <input type="text" id="txtInvoiceNo" tabindex="4" placeholder=""
                                [(ngModel)]="model.StateCode" readonly class="form-control form-control-sm" />
                            </div>
                          </div>
                        </div>

                        <div class="col-sm-3">
                          <input type="hidden" [(ngModel)]="model.DisatchTrackeringId">
                          <div class="row" style="margin-left: -90px;">
                            <label class="col-form-label-xs col-sm-5">SRN FROM<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-7">
                              <select class="form-control form-control-sm" id="txtTransferType"
                                [(ngModel)]="model.TransferTypeId" [disabled]="IsReadonlyField"
                                (change)="ChangeTransferType(model.TransferTypeId)">
                                <option [value]="0">Select</option>
                                <option *ngFor="let item of TransferDataList" [value]="item.Id">{{item.PageName}}
                                </option>
                              </select>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row mb-1" *ngIf="IsTransferTypeSite">
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">Regd.Office</label>
                            <div class="col-sm-10">
                              <textarea rows="2" placeholder="" tabindex="4" [(ngModel)]="model.RegdOffice" readonly
                                class="form-control form-control-sm"></textarea>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row mb-1"  *ngIf="IsTransferTypeOtherSite">
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">Regd.Office </label>
                            <div class="col-sm-10">
                              <textarea rows="2" placeholder="" tabindex="4" [(ngModel)]="model.SiteRegdOffice" readonly
                                class="form-control form-control-sm"></textarea>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row mb-1" *ngFor="let WhAd of StateCodeWhAd">
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">WH Address </label>
                            <div class="col-sm-10">
                              <textarea rows="2" placeholder="" tabindex="4" [(ngModel)]="WhAd.WHAddress" readonly
                                class="form-control form-control-sm"></textarea>
                            </div>

                          </div>
                        </div>
                      </div>

                      <div class="row mb-1">
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">GSTIN No</label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <input type="text" id="txtGSTINNo" tabindex="4" [(ngModel)]="model.GSTINNo" readonly
                                  placeholder="" class="form-control form-control-sm" />
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">CIN</label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <input type="text" id="txtCIN" tabindex="4" [(ngModel)]="model.CIN" readonly
                                  placeholder="" class="form-control form-control-sm" />
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </fieldset>
                  </div>

                  <div class="col-12 col-sm-6 col-md-6 ">
                    <fieldset class="scheduler-border">
                      <legend class="scheduler-border"> SHIPPED FROM</legend>
                      <!-- <div class="" style="text-align: center;"><b> SHIPPED TO</b> </div> -->
                      <div class="row mb-1" *ngIf="IsTransferTypeSite">
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Unique Site Id<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <div class="ng-autocomplete">
                                <ng-autocomplete [data]="AutoCompleteUniqueSiteIdList"
                                  [searchKeyword]="UniqueSitekeyword" (inputCleared)="ClearedCustomerSiteId(1)"
                                  [(ngModel)]="model.CuUniqueSiteId" (selected)='SelectCustomerSiteId($event)'
                                  (inputChanged)='onChangeSearchUniqueSiteId($event)' (inputFocused)='onFocused($event)'
                                  [itemTemplate]="UniqueiteIditemTemplate" [notFoundTemplate]="UniqueiteIditemTemplate"
                                  [debounceTime]="600" [minQueryLength]="2" [disabled]="IsReadonlyField"
                                  placeHolder="Search Unique Site Id">
                                </ng-autocomplete>
                                <ng-template #UniqueiteIditemTemplate let-item>
                                  <a [innerHTML]="item.SiteId"></a>
                                </ng-template>
                                <ng-template #UniqueiteIditemTemplate let-notFound>
                                  <div [innerHTML]="notFound"></div>
                                </ng-template>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Site Id<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <div class="ng-autocomplete">
                                <ng-autocomplete [data]="AutoCompleteCustomerSiteIdList"
                                  [searchKeyword]="CustomerSitekeyword" (inputCleared)="ClearedCustomerSiteId(2)"
                                  [(ngModel)]="model.CuValueSiteId" (selected)='SelectCustomerSiteId($event)'
                                  (inputChanged)='onChangeSearchCustomerSiteId($event)'
                                  (inputFocused)='onFocused($event)' [itemTemplate]="CuSiteIditemTemplate"
                                  [notFoundTemplate]="CuSiteIdnotFoundTemplate" [debounceTime]="600"
                                  [minQueryLength]="2" [disabled]="IsReadonlyField" placeHolder="Search Site Id">
                                </ng-autocomplete>
                                <ng-template #CuSiteIditemTemplate let-item>
                                  <a [innerHTML]="item.CustomerSiteId"></a>
                                </ng-template>
                                <ng-template #CuSiteIdnotFoundTemplate let-notFound>
                                  <div [innerHTML]="notFound"></div>
                                </ng-template>
                              </div>
                            </div>
                          </div>
                        </div>

                        <input type="hidden" [(ngModel)]="model.HideCustomerId" />
                        
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> Site Name </label>
                            <div class="col-sm-8">
                              <input type="text" id="txtSiteName" [(ngModel)]="model.SiteName" tabindex="4" readonly
                                placeholder="" class="form-control form-control-sm" />
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> Client Name </label>
                            <div class="col-sm-8">
                              <input type="text" id="txtClientName" [(ngModel)]="model.ClientName" readonly
                                placeholder="" class="form-control form-control-sm" />
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> FE/Tech<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <select class="form-control form-control-sm" id="txtTECHFE" [(ngModel)]="model.TECHFE"
                                [disabled]="IsReadonlyField" (change)="changeTech(model.TECHFE)">
                                <option class="dropdown-item" value="0">Select</option>
                                <option *ngFor="let itemTech of TechDataList" [value]="itemTech.Id">
                                  {{itemTech.UserName}}</option>
                              </select>

                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">COH/CI<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <select class="form-control form-control-sm" id="txtCOHCI" [disabled]="IsReadonlyField"
                                [(ngModel)]="model.COHCI" (change)="changeCOH(model.COHCI)">
                                <option class="dropdown-item" value="0">Select</option>
                                <option *ngFor="let item of COHDataList" [value]="item.Id">{{item.UserName}}</option>
                              </select>

                            </div>
                          </div>
                        </div>
                        <div class="col-sm-12">
                          <div class="col-sm-6">
                            <div class="row">
                              <label class="col-form-label-xs col-sm-4">Multi Site<span style="color: red;"
                                  class="Mandatoryfield"><b></b></span></label>
                              <div class="col-sm-8">
                                <input type="checkbox" id="txtIsMultipleSite" name="checkbox"
                                  [(ngModel)]="model.IsMultipleSite" placeholder=""
                                  (change)="ClickMultipleSite($event)" />
                                Tick for multisite SRN
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">Company Name</label>
                            <div class="col-sm-10">
                              <div class="input-group">
                                <input type="text" id="txtToCompanyName" autocomplete="off" [disabled]="IsReadonlyField"
                                  placeholder="" [(ngModel)]="model.CompanyName" class="form-control form-control-sm" />
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">Site Address<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-10">
                              <div class="input-group">
                                <textarea rows="2" placeholder="Site Address" id="txtSiteAddress"
                                  [disabled]="IsReadonlyField" (keypress)="FromSiteAddresKeyPress()"
                                  [(ngModel)]="model.SiteAddress" class="form-control form-control-sm"></textarea>
                              </div>
                            </div>
                          </div>
                        </div>
                        <!-- <div class="col-sm-6">                        
                                        <div class="row">
                                          <label class="col-form-label-xs col-sm-4">GSTIN/Unique ID</label>
                                           <div class="col-sm-8"> 
                                        <div class="input-group"   >
                                            <input type="text" id="txtToSiteWHGSTIN"  placeholder="" [(ngModel)]="model.ToSiteWHGSTIN" class="form-control form-control-sm" />
                                        </div>
                                      </div>
                                        </div>
                                      </div> -->


                      </div>
                      <div class="row mb-1" *ngIf="IsTransferTypeOtherSite">
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Site State<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <select class="form-control form-control-sm" id="txtToSiteStateId"
                                [disabled]="IsReadonlyField" [(ngModel)]="model.ToSiteStateId"
                                (change)="ChangeSiteOtherState(model.ToSiteStateId)">
                                <option class="dropdown-item" value="0">Select</option>
                                <option *ngFor="let item of OtherSiteStateList" [value]="item.id">{{item.itemName}}
                                </option>
                              </select>
                            </div>

                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">State Code<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <input type="text" id="txtToSiteStateCode" placeholder="" autocomplete="off"
                                  (keypress)="ToSiteStateCodeKeyPress()" [disabled]="IsReadonlyField"
                                  [(ngModel)]="model.ToSiteStateCode" class="form-control form-control-sm" />
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Unique Site Id<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <div class="ng-autocomplete">
                                <ng-autocomplete [data]="AutoCompleteUniqueSiteIdList"
                                  [searchKeyword]="UniqueSitekeyword" (inputCleared)="ClearedCustomerSiteId(1)"
                                  [(ngModel)]="model.CuUniqueSiteId" (selected)='SelectCustomerSiteId($event)'
                                  (inputChanged)='onChangeSearchUniqueSiteId($event)' (inputFocused)='onFocused($event)'
                                  [itemTemplate]="UniqueiteIditemTemplate" [notFoundTemplate]="UniqueiteIditemTemplate"
                                  [debounceTime]="600" [minQueryLength]="2" [disabled]="IsReadonlyField"
                                  placeHolder="Search Unique Site Id">
                                </ng-autocomplete>
                                <ng-template #UniqueiteIditemTemplate let-item>
                                  <a [innerHTML]="item.SiteId"></a>
                                </ng-template>
                                <ng-template #UniqueiteIditemTemplate let-notFound>
                                  <div [innerHTML]="notFound"></div>
                                </ng-template>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Site Id<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <div class="ng-autocomplete">
                                <ng-autocomplete [data]="AutoCompleteCustomerSiteIdList"
                                  [searchKeyword]="CustomerSitekeyword" (inputCleared)="ClearedCustomerSiteId(2)"
                                  [(ngModel)]="model.CuValueSiteId" (selected)='SelectCustomerSiteId($event)'
                                  (inputChanged)='onChangeSearchCustomerSiteId($event)'
                                  (inputFocused)='onFocused($event)' [itemTemplate]="CuSiteIditemTemplate"
                                  [notFoundTemplate]="CuSiteIdnotFoundTemplate" [debounceTime]="600"
                                  [minQueryLength]="2" [disabled]="IsReadonlyField" placeHolder="Search Site Id">
                                </ng-autocomplete>
                                <ng-template #CuSiteIditemTemplate let-item>
                                  <a [innerHTML]="item.CustomerSiteId"></a>
                                </ng-template>
                                <ng-template #CuSiteIdnotFoundTemplate let-notFound>
                                  <div [innerHTML]="notFound"></div>
                                </ng-template>
                              </div>
                            </div>
                          </div>
                        </div>
                        <input type="hidden" id="" [(ngModel)]="model.SiteId" readonly placeholder=""
                          class="form-control form-control-sm" />

                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> Site Name </label>
                            <div class="col-sm-8">
                              <input type="text" id="txtSiteName" tabindex="4" [(ngModel)]="model.SiteName" readonly
                                placeholder="" class="form-control form-control-sm" />
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> Client Name </label>
                            <div class="col-sm-8">
                              <input type="text" id="txtClientName" tabindex="4" [(ngModel)]="model.ClientName" readonly
                                placeholder="" class="form-control form-control-sm" />
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> GST Type<span style="color: red;"
                              class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <select class="form-control form-control-sm" id="txtGSTType" [(ngModel)]="model.GSTType"
                                [disabled]="IsReadonlyField" (change)="ChangeGSTType(model.GSTType)">
                                <option class="dropdown-item" value=0>Select</option>
                                <option class="dropdown-item" value=1>AST GST</option>
                                <option class="dropdown-item" value=2>Customer GST </option>
                              </select>

                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">GSTIN Id<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <input type="text" id="txtToSiteWHGSTIN" autocomplete="off"
                                  (keypress)="ToSiteGSTINKeyPress()" [disabled]="IsReadonlyField" placeholder=""
                                  [(ngModel)]="model.ToSiteWHGSTIN" class="form-control form-control-sm" />
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> FE/Tech<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <select class="form-control form-control-sm" id="txtTECHFE" [(ngModel)]="model.TECHFE"
                                [disabled]="IsReadonlyField" (change)="changeTech(model.TECHFE)">
                                <option class="dropdown-item" value="0">Select</option>
                                <option *ngFor="let itemTech of TechDataList" [value]="itemTech.Id">
                                  {{itemTech.UserName}}</option>
                              </select>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">COH/CI<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <select class="form-control form-control-sm" id="txtCOHCI" [(ngModel)]="model.COHCI"
                                [disabled]="IsReadonlyField" (change)="changeCOH(model.COHCI)">
                                <option class="dropdown-item" value="0">Select</option>
                                <option *ngFor="let item of COHDataList" [value]="item.Id">{{item.UserName}}</option>
                              </select>
                            </div>
                          </div>

                        </div>
                        <div class="col-sm-12">
                          <div class="col-sm-6">
                            <div class="row">
                              <label class="col-form-label-xs col-sm-4">Multi Site<span style="color: red;"
                                  class="Mandatoryfield"><b></b></span></label>
                              <div class="col-sm-8">
                                <input type="checkbox" id="txtIsMultipleSite" name="checkbox"
                                  [(ngModel)]="model.IsMultipleSite" placeholder=""
                                  (change)="ClickMultipleSite($event)" />
                                Tick for multisite dispatch
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">Company Name<span style="color: red;"
                              class="Mandatoryfield" *ngIf="!IsTaxInvoiceNo"><b>*</b></span></label>
                            <div class="col-sm-10">
                              <div class="input-group">
                                <input type="text" id="txtToCompanyName" (keypress)="ToCompanyNameKeyPress()" autocomplete="off" [disabled]="IsReadonlyField"
                                  placeholder="" [(ngModel)]="model.CompanyName" class="form-control form-control-sm" />
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">Site Address<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-10">
                              <div class="input-group">
                                <textarea rows="2" placeholder="Site Address" id="txtSiteAddress"
                                  [disabled]="IsReadonlyField" (keypress)="FromSiteAddresKeyPress()"
                                  [(ngModel)]="model.SiteAddress" class="form-control form-control-sm"></textarea>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                    </fieldset>
                    <fieldset class="scheduler-border">
                      <legend class="scheduler-border"> SHIPPED TO</legend>
                      <span></span>
                      <div class="row mb-1">
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">WH State</label>
                            <div class="col-sm-8">
                              <input type="text" id="txtFromWHState" tabindex="4" [(ngModel)]="model.WHState" readonly
                                placeholder="" class="form-control form-control-sm" />
                            </div>

                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">WH Name<span style="color: red;"
                                class="Mandatoryfield"><b>*</b></span></label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <select class="form-control form-control-sm" id="txtShippedfromWHId"
                                  [(ngModel)]="model.ShippedfromWHId" [disabled]="IsReadonlyField"
                                  (change)="BindShippedWhAddess(model.ShippedfromWHId)">
                                  <option class="dropdown-item" value="0">Select</option>
                                  <option *ngFor="let item of EditWHList" [value]="item.Id">{{item.WHName}}</option>
                                </select>
                              </div>

                            </div>
                          </div>
                        </div>

                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">WH Address</label>
                            <div class="col-sm-10">
                              <div class="input-group">
                                <textarea rows="2" placeholder="Destination /WH Address" tabindex="4" readonly
                                  [(ngModel)]="model.ShippedWHAddress" class="form-control form-control-sm"></textarea>
                              </div>

                            </div>
                          </div>
                        </div>

                      </div>
                    </fieldset>



                  </div>
                </div>
                <!-- <span></span>-->
                <span></span>


                <!-- <hr> -->
                <fieldset class="scheduler-border">
                  <legend class="scheduler-border">SRN Details</legend>
                  <div class="row mb-1">

                    <label class="col-form-label-xs col-sm-1">SRN No<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2">
                      <input type="text" id="txtDocumentNo" tabindex="4" readonly [(ngModel)]="model.DocumentNo"
                        placeholder="" class="form-control form-control-sm" />
                    </div>

                    <label class="col-form-label-xs col-sm-1">SRN Date<span style="color: red;"
                        class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2">
                      <div class="input-group">
                        <input class="form-control form-control-sm" placeholder="" id="txtDocDate" autocomplete="off"
                          [(ngModel)]="model.DocumentDate" ngbDatepicker [minDate]="min" #Date="ngbDatepicker">
                        <div class="input-group-append">
                          <span class="input-group-text" (click)="Date.toggle()"><i
                              class="far fa-calendar-alt"></i></span>
                        </div>
                      </div>
                    </div>
                    <label class="col-form-label-xs col-sm-1">Trasporation Mode<span style="color: red;"
                        class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2">
                      <!-- ? <input type="text" id="txtTrasporationMode" [(ngModel)]="model.TrasporationMode" (keypress)="TrasporationKeyPress()" placeholder=""  class="form-control form-control-sm" /> -->
                      <select class="form-control form-control-sm" id="txtTrasporationMode"
                        [(ngModel)]="model.TrasporationMode" (change)="ChangeTrasporationMode(model.TrasporationMode)">
                        <option class="dropdown-item" value="0">Select</option>
                        <option *ngFor="let item of TransModeDataList" [value]="item.Id">{{item.Name}}</option>
                      </select>

                    </div>
                    <label class="col-form-label-xs col-sm-1" *ngIf="IsTransporter">Select Transporter<span
                        style="color: red;" class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2" *ngIf="IsTransporter">
                      <select class="form-control form-control-sm" id="txtTransporter" [(ngModel)]="model.TransporterId"
                        (change)="ChangeTransporter(model.TransporterId)">
                        <option class="dropdown-item" value="">Select</option>
                        <option *ngFor="let item of TransporterTypeDetail" [value]="item.id">{{item.TransporterName}}
                        </option>
                      </select>

                    </div>
                    <label class="col-form-label-xs col-sm-1" *ngIf="IsCourier">Select Courier Company <span
                        style="color: red;" class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2" *ngIf="IsCourier">
                      <select class="form-control form-control-sm" id="txtTransporterId"
                        [(ngModel)]="model.TransporterId" (change)="ChangeTransporter(model.TransporterId)">
                        <option class="dropdown-item" value="">Select</option>
                        <option *ngFor="let item of CourierTypeDetail" [value]="item.id">{{item.TransporterName}}
                        </option>
                      </select>
                    </div>
                    <label class="col-form-label-xs col-sm-1" *ngIf="IsByHand">Employee Name<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2" *ngIf="IsByHand">
                      <input type="text" id="txtEmployeeName" autocomplete="off" [(ngModel)]="model.EmployeeName"
                        placeholder="" (keypress)="TransporterNameKeyPress()" class="form-control form-control-sm" />
                    </div>


                    <label class="col-form-label-xs col-sm-1" *ngIf="IsBus"> Name<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2" *ngIf="IsBus">
                      <input type="text" id="txtConductorName" autocomplete="off" [(ngModel)]="model.ConductorName"
                        placeholder="" (keypress)="TransporterNameKeyPress()" class="form-control form-control-sm" />
                    </div>
                    <label class="col-form-label-xs col-sm-1" *ngIf="IsOther"> Name<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2" *ngIf="IsOther">
                      <input type="text" id="txtName" autocomplete="off" [(ngModel)]="model.Name" placeholder=""
                        (keypress)="TransporterNameKeyPress()" class="form-control form-control-sm" />
                    </div>
                  </div>
                  <div class="row mb-1" *ngIf="IsTransporter">
                    <label class="col-form-label-xs col-sm-1">Transporter Name<span style="color: red;"
                        class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2">
                      <textarea type="text" id="txtTransporterName" rows="2" autocomplete="off"
                        [(ngModel)]="model.TransporterName" placeholder="" (keypress)="TransporterNameKeyPress()"
                        class="form-control form-control-sm"></textarea>
                    </div>
                    <label class="col-form-label-xs col-sm-1">Transporter GST No<span style="color: red;"
                        class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2">
                      <input type="text" id="txtTransporterGSTNo" autocomplete="off" maxlength="15"
                        [(ngModel)]="model.TransporterGSTNo" placeholder="" (keypress)="TransporteGSTNoKeyPress()"
                        class="form-control form-control-sm" />
                    </div>

                    <label class="col-form-label-xs col-sm-1">Driver Name<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2">
                      <input type="text" id="txtDriverName" autocomplete="off" [(ngModel)]="model.DriverName"
                        placeholder="" class="form-control form-control-sm" />

                    </div>
                    <label class="col-form-label-xs col-sm-1">Driver Phone No<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2">
                      <input type="text" id="txtDriverPhoneNo" autocomplete="off" maxlength="12"
                        appCopyPastNumFloatValue [(ngModel)]="model.DriverPhoneNo" placeholder=""
                        class="form-control form-control-sm" />

                    </div>

                  </div>

                  <div class="row mb-1">
                    <label class="col-form-label-xs col-sm-1" *ngIf="IsCourier">Courier Company Name<span
                        style="color: red;" class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2" *ngIf="IsCourier">
                      <input type="text" id="txtCourierCompanyName" autocomplete="off"
                        [(ngModel)]="model.CourierCompanyName" placeholder="" (keypress)="TransporterNameKeyPress()"
                        class="form-control form-control-sm" />
                    </div>
                    <label class="col-form-label-xs col-sm-1" *ngIf="IsByHand">Employee Code<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2" *ngIf="IsByHand">
                      <input type="text" id="txtEmployeeCode" autocomplete="off" [(ngModel)]="model.EmployeeCode"
                        placeholder="" class="form-control form-control-sm" />
                    </div>
                    <label class="col-form-label-xs col-sm-1" *ngIf="IsByHand">Employee Phone No<span
                        style="color: red;" class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2" *ngIf="IsByHand">
                      <input type="text" id="txtEmployeePhoneNo" autocomplete="off" maxlength="12"
                        appCopyPastNumFloatValue [(ngModel)]="model.EmployeePhoneNo" placeholder=""
                        class="form-control form-control-sm" />
                    </div>

                    <label class="col-form-label-xs col-sm-1" *ngIf="IsCourier">Docket No<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2" *ngIf="IsCourier">
                      <input type="text" id="txtDocketNo" autocomplete="off" [(ngModel)]="model.DocketNo" placeholder=""
                        class="form-control form-control-sm" />
                    </div>
                    <label class="col-form-label-xs col-sm-1" *ngIf="IsCourier">Courier Phone No<span
                        style="color: red;" class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2" *ngIf="IsCourier">
                      <input type="text" id="txtCourierPhoneNo" autocomplete="off" maxlength="12"
                        appCopyPastNumFloatValue [(ngModel)]="model.CourierPhoneNo" placeholder=""
                        class="form-control form-control-sm" />
                    </div>
                    <label class="col-form-label-xs col-sm-1" *ngIf="IsBus">Phone No<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2" *ngIf="IsBus">
                      <input type="text" id="txtConductorNo" autocomplete="off" maxlength="12" appCopyPastNumFloatValue
                        [(ngModel)]="model.ConductorNo" placeholder="" class="form-control form-control-sm" />
                    </div>
                    <label class="col-form-label-xs col-sm-1" *ngIf="IsBus">Bus Number<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2" *ngIf="IsBus">
                      <input type="text" id="txtVehicleNumber" autocomplete="off" [(ngModel)]="model.VehicleNumber"
                        placeholder="" class="form-control form-control-sm" />
                    </div>
                    <label class="col-form-label-xs col-sm-1" *ngIf="IsOther">Phone No<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2" *ngIf="IsOther">
                      <input type="text" id="txtConductorNo" autocomplete="off" maxlength="12" appCopyPastNumFloatValue
                        [(ngModel)]="model.PhoneNo" placeholder="" class="form-control form-control-sm" />
                    </div>

                    <label class="col-form-label-xs col-sm-1">Destination<span style="color: red;"
                        class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2">
                      <input type="text" id="txtDestination" [(ngModel)]="model.Destination" autocomplete="off"
                        placeholder="" (keypress)="DestinationKeyPress()" class="form-control form-control-sm" />
                    </div>
                    <label class="col-form-label-xs col-sm-1" *ngIf="IsTransporter">Bilty No<span style="color: red;"
                        *ngIf="IsValidationShowandhide" class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2" *ngIf="IsTransporter">
                      <input type="text" id="txtGRNo" [(ngModel)]="model.GRNo" autocomplete="off" placeholder=""
                        (keypress)="GrNoKeyPress()" class="form-control form-control-sm" />
                    </div>
                    <label class="col-form-label-xs col-sm-1" *ngIf="IsTransporter">Bilty Date<span style="color: red;"
                        *ngIf="IsValidationShowandhide" class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2" *ngIf="IsTransporter">
                      <div class="input-group" (mouseenter)="onKeypressGRDate($event)">
                        <input class="form-control form-control-sm" placeholder="" id="txtGRDate" autocomplete="off"
                          [(ngModel)]="model.GRDate" ngbDatepicker #GrDate="ngbDatepicker">
                        <div class="input-group-append">
                          <span class="input-group-text" (click)="GrDate.toggle()"><i
                              class="far fa-calendar-alt"></i></span>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="row mb-1">
                    <!-- <label class="col-form-label-xs col-sm-1">Bilty Date<span style="color: red;"
                        class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2">
                      <div class="input-group" (mouseenter)="onKeypressGRDate($event)">
                        <input class="form-control form-control-sm" placeholder="" id="txtGRDate" autocomplete="off"
                          [disabled]="IsReadonlyField" [(ngModel)]="model.GRDate" ngbDatepicker #GrDate="ngbDatepicker">
                        <div class="input-group-append">
                          <span class="input-group-text" (click)="GrDate.toggle()"><i
                              class="far fa-calendar-alt"></i></span>
                        </div>
                      </div>
                    </div> -->

                    <label class="col-form-label-xs col-sm-1" *ngIf="IsVehicleType">Vehicle Type<span
                        style="color: red;" class="Mandatoryfield"
                        *ngIf="IsVehicleValidationHideShow"><b>*</b></span></label>
                    <div class="col-sm-2" *ngIf="IsVehicleType">
                      <select class="form-control form-control-sm" id="txtVehicleType"
                        [(ngModel)]="model.ddlVehicleType" (change)="ChangeVehicleType(model.ddlVehicleType)">
                        <option class="dropdown-item" value="0">Select</option>
                        <option *ngFor="let item of VechileTypeDataList" [value]="item.Id">{{item.Name}}</option>
                      </select>
                    </div>
                    <!-- <label class="col-form-label-xs col-sm-1">Loading Capcity<span style="color: red;"class="Mandatoryfield"><b></b></span></label>
                      <div class="col-sm-2">
                        <input type="text"  id="txtLoadingCapcity" [(ngModel)]="model.LoadingCapcity" readonly  placeholder=""  class="form-control form-control-sm" />
                      </div> -->
                    <label class="col-form-label-xs col-sm-1" *ngIf="IsVehicleType">Vehicle No<span style="color: red;"
                        class="Mandatoryfield" *ngIf="IsVehicleValidationHideShow"><b>*</b></span></label>
                    <div class="col-sm-2" *ngIf="IsVehicleType">
                      <input type="text" id="txtVehicleNumber" autocomplete="off" [(ngModel)]="model.VehicleNumber"
                        (keypress)="VehicleKeyPress()" placeholder="" class="form-control form-control-sm" />
                    </div>

                  </div>
                  <div class="row mb-1">
                    <label class="col-form-label-xs col-sm-1">Eway Bill No<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2">
                      <input type="text" id="txtEwayBillNo" autocomplete="off" [(ngModel)]="model.EwayBillNo"
                        placeholder="" class="form-control form-control-sm" />
                    </div>


                    <label class="col-form-label-xs col-sm-1" *ngIf="IsTaxInvoiceNo">Tax Invoice No<span
                        style="color: red;" class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2" *ngIf="IsTaxInvoiceNo">
                      <input type="text" id="txtTaxInvoiceNo" autocomplete="off" [(ngModel)]="model.TaxInvoiceNo"
                        (keypress)="TaxInvoiceKeyPress()" placeholder="" class="form-control form-control-sm" />
                    </div>

                    <!--vishal--->
                    <label class="col-form-label-xs col-sm-1" *ngIf="IsTaxInvoiceNo">Tax Invoice Date
                      <span style="color: red;" class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2" *ngIf="IsTaxInvoiceNo">
                      <div class="input-group" (mouseenter)="onKeypressInvoicedDate($event)">
                        <input class="form-control form-control-sm" placeholder="" id="txtInvoiceDate"
                          autocomplete="off" [(ngModel)]="model.TaxInvoiceDate" ngbDatepicker
                          #InvoiceDate="ngbDatepicker">
                        <div class="input-group-append">
                          <span class="input-group-text" (click)="InvoiceDate.toggle()"><i
                              class="far fa-calendar-alt"></i></span>
                        </div>
                      </div>
                    </div>
                    <!--vishal--->

                    <!--by:vishal, desc: for autocomplete dispatch no-->
                    <label class="col-form-label-xs col-sm-1">Dispatch No</label>
                    <div class="col-sm-2">

                      <div class="input-group">
                        <div class="ng-autocomplete">
                          <ng-autocomplete [data]="AutoCompleteDispatchNoList" [searchKeyword]="DocumentNokeyword"
                            (inputCleared)="SearchDispatchCleared()" (selected)='SearchAutoDispatchNo($event)'
                            (inputChanged)='onChangeDispatchSearch($event)' (inputFocused)='onFocused($event)'
                            [(ngModel)]="model.AutoDispatchNo" [itemTemplate]="itemDocumentNoTemplate"
                            [notFoundTemplate]="notFoundDocumentNoTemplate" [debounceTime]="1500" [minQueryLength]="2"
                            placeHolder="Search Document No..">
                          </ng-autocomplete>
                          <ng-template #itemDocumentNoTemplate let-item>
                            <a [innerHTML]="item.DocumentNo"></a>
                          </ng-template>
                          <ng-template #notFoundDocumentNoTemplate let-notFound>
                            <div [innerHTML]="notFound"></div>
                          </ng-template>
                        </div>
                      </div>
                      <input type="hidden" [(ngModel)]="model.DispatchNo">
                      <input type="hidden" [(ngModel)]="model.DispatchNoId">
                      <!-- <input type="input" id="txtIsdispatch" class="form-control form-control-sm"
                        [(ngModel)]="model.DispatchNo" placeholder="" /> -->
                    </div>

                    <label class="col-form-label-xs col-sm-1"> Reason<span style="color: red;"
                        class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2">
                      <select class="form-control form-control-sm" id="txtReasonId" [(ngModel)]="model.ReasonId"
                        (change)="changeSRNReason(model.ReasonId)">
                        <option class="dropdown-item" value="0">Select</option>

                        <option *ngFor="let item of SRNReasonTypeList" [value]="item.Id">{{item.Name}}</option>
                      </select>
                    </div>

                    <label class="col-form-label-xs col-sm-1">Document Sent</label>
                    <div class="col-sm-2">
                      <input type="checkbox" id="txtIsdispatch" [disabled]="IsReadonlyField"
                        [(ngModel)]="model.IsDispatch" placeholder="" />
                    </div>
                  </div>

                  <div class="row mb-1">
                    <label class="col-form-label-xs col-sm-1"> Remarks<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2">
                      <textarea type="input" id="txtReasonRemarks" rows="2" class="form-control form-control-sm"
                        (keypress)="SRNReasonKeypress()" [(ngModel)]="model.ReasonRemarks" placeholder=""></textarea>
                    </div>

                    <label class="col-form-label-xs col-sm-1" *ngIf="IsHideShowCancelBtn">Cancellation Reason<span
                        style="color: red;" class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2" *ngIf="IsHideShowCancelBtn">
                      <select class="form-control form-control-sm" id="txtInCaseReason" [(ngModel)]="model.InCaseReason"
                        (change)="changeCaseReason()">
                        <option class="dropdown-item" value="0">Select</option>
                        <option *ngFor="let item of CancelReasonData" [value]="item.id">{{item.ReasonName}}</option>
                      </select>
                    </div>

                    <label class="col-form-label-xs col-sm-1" *ngIf="IsSRNInstraction">SRN Instruction<span
                        style="color: red;" class="Mandatoryfield"><b>*</b></span></label>
                    <div class="col-sm-2" *ngIf="IsSRNInstraction">
                      <angular2-multiselect id="txtSRNInstraction" [data]="DispatchInstructionList"
                        [(ngModel)]="selectedDIArr" [settings]="MultidropdownSettings"
                        (onSelect)="ChangeSRNInstruction('')" (onDeSelect)="ChangeSRNInstruction('')"
                        (onSelectAll)="ChangeSRNInstruction('')" (onDeSelectAll)="ChangeSRNInstruction('DelAll')">
                      </angular2-multiselect>
                    </div>

                    <label class="col-form-label-xs col-sm-1"></label>
                    <div class="col-sm-2" *ngIf="Save && IsPartialUpDateSRNRequest">
                      <button type="button" class="btn btn-sm btn-success" (click)="PartialUpadteSRNDetail()">Partial
                        Update</button>
                    </div>

                  </div>
                </fieldset>


                <!-- <span></span>-->
                <span></span>
                <fieldset class="scheduler-border" *ngIf="SRNRecivedtable">
                  <legend class="scheduler-border">SRN Received Item Details</legend>
                  <div class="col-sm-12" style="overflow-x:scroll; min-height:300px;">
                    <table id="tblOne" class="table table-striped table-bordered" *ngIf="IsTransferTypeSameState">
                      <thead>
                        <tr>
                          <th></th>
                          <th *ngIf="Correctioncolumnhideandshow">Correction Code<span style="color:red;"
                              class="Mandatoryfield"><b>*</b></span></th>
                          <th>Item Name<span style="color:red;" class="Mandatoryfield"><b>*</b></span></th>
                          <th>Item Make<span style="color:red;" class="Mandatoryfield"><b>*</b></span></th>
                          <th>Part No<span style="color:red;" class="Mandatoryfield"><b>*</b></span></th>
                          <th>&nbsp;&nbsp;&nbsp;Equipment Type<span style="color:red"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;Customer<span style="color:red"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Item&nbsp;Description<span
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sub&nbsp;Description<span
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>HSN/SAC<span style="color:red" class="Mandatoryfield"><b>*</b></span></th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UOM<span style="color:red"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Qty<span style="color:red"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>

                          <!-- <th>Received&nbsp;In&nbsp;WH<span style="color:red" class="Mandatoryfield"><b></b></span></th>
                          <th>Received&nbsp;Qty<span style="color:red" class="Mandatoryfield"><b></b></span></th> -->
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reason<span style="color:red"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remarks<span style="color:red"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;Serial&nbsp;&nbsp;No<span style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;Unit&nbsp;Rate&nbsp;(in&nbsp;Rs.)<span style="color:red;"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Total&nbsp;&nbsp;Amount&nbsp;(in&nbsp;Rs.)<span
                              style="color:red;" class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>Discount&nbsp;(in&nbsp;Rs.)<span style="color:red;" class="Mandatoryfield"><b>*</b></span>
                          </th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Grand&nbsp;&nbsp;Total&nbsp;(in&nbsp;Rs.)<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Manufacturing&nbsp;&nbsp;Date<span style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoice&nbsp;&nbsp;Date<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoice&nbsp;&nbsp;No<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Site&nbsp;&nbsp;Id<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th *ngIf="Correctioncolumnhideandshow">Reason<span style="color:red;"
                              class="Mandatoryfield"><b>*</b></span></th>
                          <th *ngIf="Correctioncolumnhideandshow">Remarks<span class="Mandatoryfield"><b></b></span>
                          </th>
                          <th *ngIf="Correctioncolumnhideandshow"></th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let dynamic of ReceiveddynamicArray; let i = index">
                          <td (click)="deleteReceivedRow(i)" style="width:20px;">
                            <i class="fa fa-trash" title="Delete"></i>
                          </td>
                          <td *ngIf="Correctioncolumnhideandshow">
                            <select style="width:80px;" class="form-control form-control-sm ItemCode"
                              (change)="ChangeCorrectionCode(i,ReceiveddynamicArray[i].IsCorrectionCodeId)"
                              id="ddlCorrectionCodeId_{{i}}" [(ngModel)]="ReceiveddynamicArray[i].IsCorrectionCodeId"
                              *ngIf="ReceiveddynamicArray[i].IsCorrection">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let itemC of CorrectionItemCodeList" [value]="itemC.SRNListId">Line Item
                                {{itemC.RowId+'-'+itemC.itemName}}</option>
                            </select>
                          </td>
                          <td style="width:80px;">
                            <select style="width:80px;" class="form-control form-control-sm ItemName"
                              id="ddlItemNameId_{{i}}" [(ngModel)]="ReceiveddynamicArray[i].ItemNameId"
                              (change)="ChangeReceivedEditItemName(ReceiveddynamicArray[i].ItemNameId,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of SearchItemNameList" [value]="item.id">{{item.itemName}}
                              </option>
                            </select>
                          </td>
                          <td style="width:100px;">
                            <select style="width:100px;" class="form-control form-control-sm ItemMake"
                              id="ddlItemMake_{{i}}" [(ngModel)]="ReceiveddynamicArray[i].ItemMakeId"
                              (change)="ChangeReceivedEditItemMake(ReceiveddynamicArray[i].ItemMakeId,ReceiveddynamicArray[i].ItemNameId,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of ReceiveddynamicArray[i].EditItemMake" [value]="item.id">
                                {{item.itemName}}</option>
                              <!-- <option *ngFor="let item4 of ItemListDataDetail" [value]="item4.id" >{{item4.itemName}}</option> -->
                            </select>
                          </td>
                          <td style="width:100px;">
                            <select style="width:100px;" class="form-control form-control-sm ItemCode"
                              id="ddlItemId_{{i}}" [(ngModel)]="ReceiveddynamicArray[i].ItemId"
                              (change)="ChangeReceivedEditItemCode(ReceiveddynamicArray[i].ItemId,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of ReceiveddynamicArray[i].EditItemCode" [value]="item.id">
                                {{item.itemName}}</option>
                            </select>
                          </td>
                          <td style="width:100px;">
                            <select class="form-control form-control-sm EqType" id="ddlEqTypeId_{{i}}"
                              [(ngModel)]="ReceiveddynamicArray[i].EqTypeId"
                              (change)="ChangeEqupmnet(ReceiveddynamicArray[i].EqTypeId,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of EquipmentTypeList" [value]="item.id">{{item.itemName}}
                              </option>
                            </select>
                          </td>
                          <td style="width:120px;">
                            <select class="form-control form-control-sm Client" id="ddlClient_{{i}}"
                              [(ngModel)]="ReceiveddynamicArray[i].ClientId"
                              (change)="ChangeClient(ReceiveddynamicArray[i].ClientId,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of ClientList" [value]="item.Id">{{item.Name}}</option>
                            </select>
                          </td>
                          <td style="width:280px;">
                            <textarea [(ngModel)]="ReceiveddynamicArray[i].ItemDescription" readonly
                              class="form-control form-control-sm" type="text" style="text-align:center;"> </textarea>
                          </td>
                          <td style="width:280px;">
                            <textarea [(ngModel)]="ReceiveddynamicArray[i].SubDescription"
                              class="form-control form-control-sm" type="text" style="text-align:center;"> </textarea>
                          </td>
                          <td style="width:80px;">
                            <input class="form-control form-control-sm HSN" maxlength="4" id="txtHSN_{{i}}"
                              autocomplete="off" [(ngModel)]="ReceiveddynamicArray[i].HSN" (blur)="HSNKeyPress()"
                              appCopyPastNumFloatValue type="text" style="text-align:center;" />
                          </td>
                          <td style="width:50px;">
                            <select class="form-control form-control-sm UnitName" id="ddlUnitName_{{i}}"
                              [(ngModel)]="ReceiveddynamicArray[i].UnitName"
                              (change)="ChangeReceivedUnit(ReceiveddynamicArray[i].UnitName,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of ReceiveddynamicArray[i].UnitList" [value]="item.Id">
                                {{item.UnitName}}</option>
                            </select>
                            <!-- <input style="width:50px;" class="form-control form-control-sm"
                              [(ngModel)]="ReceiveddynamicArray[i].UnitName" readonly type="text" />
                            <label *ngIf="ReceiveddynamicArray[i].HideShowConValue">S-UOM</label>
                            <input style="width:50px;" class="form-control form-control-sm"
                              *ngIf="ReceiveddynamicArray[i].HideShowConValue" readonly
                              [(ngModel)]="ReceiveddynamicArray[i].ConversionUnit" type="text" />
                          -->
                          </td>
                          <td style="width:80px;">
                            <input class="form-control form-control-sm ReceivedQty" id="txttxtReceivedQty_{{i}}"
                              autocomplete="off" (blur)="QtyKeyPress()"
                              [(ngModel)]="ReceiveddynamicArray[i].ReceivedQty"
                              (keyup)="fnBindReceivedItemGrossToatal()" appCopyPastNumFloatValue type="text"
                              style="text-align:center;" />
                            <label
                              *ngIf="ReceiveddynamicArray[i].HideShowConValue">S-Qty={{ReceiveddynamicArray[i].ConversionUnit}}</label>
                            <input style="width:70px;" *ngIf="ReceiveddynamicArray[i].HideShowConValue"
                              class="form-control form-control-sm ConversionValue"
                              [(ngModel)]="ReceiveddynamicArray[i].ConversionValue" (blur)="OnblurConversionValue()"
                              appCopyPastNumFloatValue type="text" style="text-align:center;" />
                            <input style="width:120px;" class="form-control form-control-sm hideIsConversion"
                              [(ngModel)]="ReceiveddynamicArray[i].IsConversion" type="hidden"
                              style="text-align:center;" />
                          </td>


                          <!-- <td style="width:50px;">
                            <input class="form-control form-control-sm ReceivedInWH" id="txtReceivedInWH_{{i}}"
                              autocomplete="off" [(ngModel)]="dynamicArray[i].ReceivedInWH"
                              (click)="ClickReceivedInWH(dynamicArray[i].ReceivedInWH,i)" type="checkbox"
                              style="text-align:center; height: 20px;" />
                          </td>
                          <td style="width:50px;">
                            <input class="form-control form-control-sm ReceivedQty" id="txtReceivedQty_{{i}}"
                              autocomplete="off" (blur)="ReceivedQtyKeyPress()"
                              [(ngModel)]="dynamicArray[i].ReceivedQty" appCopyPastNumFloatValue type="text"
                              style="text-align:center;" />
                          </td> -->
                          <td style="width:280px;">
                            <select class="form-control form-control-sm ReasonId" id="txtReasonId_{{i}}"
                              [(ngModel)]="ReceiveddynamicArray[i].ReasonId" (change)="ChangeReason()">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of ItemReasonData" [value]="item.id">{{item.ReasonName}}</option>
                            </select>
                          </td>
                          <td style="width:280px;">
                            <textarea id="txtRemarks_{{i}}" [(ngModel)]="ReceiveddynamicArray[i].Remarks"
                              (blur)="RemarksKeyPress()" class="form-control form-control-sm Remarks" type="text"
                              style="text-align:center;"> </textarea>
                          </td>
                          <td style="width:100px;text-align:center;">
                            <a (click)="showModal(ReceiveddynamicArray[i].ReceivedQty, i)">
                              <i _ngcontent-dpu-c137="" class="fa fa-plus"></i>
                            </a>
                          </td>


                          <td style="width:50px;">
                            <input class="form-control form-control-sm Rate" id="txtRate_{{i}}" autocomplete="off"
                              (blur)="RateKeyPress()" [(ngModel)]="ReceiveddynamicArray[i].Rate"
                              (keyup)="fnBindReceivedItemGrossToatal()" appCopyPastNumFloatValue type="text"
                              style="text-align:center;" />
                          </td>
                          <td style="width:120px;">
                            <input class="form-control form-control-sm itmsTotalAmount" readonly
                              [(ngModel)]="ReceiveddynamicArray[i].TotalAmount" type="text"
                              style="text-align:center;" />
                          </td>
                          <td style="width:60px;">
                            <input class="form-control form-control-sm Discount" id="txtDiscount_{{i}}"
                              autocomplete="off" (blur)="DiscountKeyPress()"
                              [(ngModel)]="ReceiveddynamicArray[i].Discount" (keyup)="fnBindReceivedItemGrossToatal()"
                              appCopyPastNumFloatValue type="text" style="text-align:center;" />
                          </td>

                          <td style="width:60px;">
                            <input class="form-control form-control-sm" readonly id="txtGetTotalAmount"
                              [(ngModel)]="ReceiveddynamicArray[i].GetTotalAmount" type="text"
                              style="text-align:center;" />
                          </td>

                          <td style="width:60px;">
                            <!-- <input class="form-control form-control-sm" type="date"  id="txtGetTotalAmount" [(ngModel)]="dynamicArray[i].ManufDate" placeholder="dd/mm/yyyy"  (change)="ChangManuFdate(dynamicArray[i].ManufDate,i)"data-date-format="dd/MM/YYYY"    style="text-align:center;"/>  -->
                            <div class="input-group">
                              <input class="form-control form-control-sm ManufDate" placeholder="dd/mm/yyyy"
                                style="text-align:center;" autocomplete="off"
                                [(ngModel)]="ReceiveddynamicArray[i].ManufDate" ngbDatepicker #MfDate="ngbDatepicker">
                              <div class="input-group-addon" (click)="MfDate.open()">
                                <span class="input-group-text">
                                  <i class="far fa-calendar-alt"></i>
                                </span>
                              </div>

                            </div>
                          </td>
                          <td style="width:60px;">
                            <!-- <input class="form-control form-control-sm" type="date"  id="txtGetTotalAmount" [(ngModel)]="dynamicArray[i].ManufDate" placeholder="dd/mm/yyyy"  (change)="ChangManuFdate(dynamicArray[i].ManufDate,i)"data-date-format="dd/MM/YYYY"    style="text-align:center;"/>  -->
                            <div class="input-group">
                              <input class="form-control form-control-sm InvoiceTaxDate" placeholder="dd/mm/yyyy"
                                style="text-align:center;" autocomplete="off"
                                [(ngModel)]="ReceiveddynamicArray[i].InvoiceTaxDate" ngbDatepicker
                                #InvoiceTaxDate="ngbDatepicker">
                              <div class="input-group-addon" (click)="InvoiceTaxDate.open()">
                                <span class="input-group-text">
                                  <i class="far fa-calendar-alt"></i>
                                </span>
                              </div>
                            </div>
                          </td>

                          <td style="width:140px;">
                            <input class="form-control form-control-sm InvoiceTaxNo" id="txtInvoiceTaxNo_{{i}}"
                              autocomplete="off" [(ngModel)]="ReceiveddynamicArray[i].InvoiceTaxNo" type="text"
                              style="text-align:center;" />
                          </td>
                          <!-- <td class="text-center"><input class="form-control form-control-sm CustomerSiteId"
                              [(ngModel)]="ReceiveddynamicArray[i].CustomerSiteId" readonly /></td> -->
                          <td>{{ReceiveddynamicArray[i].CustomerSiteId}}</td>

                          <td *ngIf="Correctioncolumnhideandshow">
                            <select style="width:120px;" (change)="ChangeCorrectionEntryReason(i)"
                              class="form-control form-control-sm TaxWith" id="ddlCentryReason_{{i}}"
                              [(ngModel)]="ReceiveddynamicArray[i].IsCorrectionEntryReason"
                              *ngIf="ReceiveddynamicArray[i].IsCorrection">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let itemC of CorretionEntryReasonDetail" [value]="itemC.Id">
                                {{itemC.ReasonName}}</option>
                            </select>
                          </td>
                          <td *ngIf="Correctioncolumnhideandshow">
                            <textarea class="form-control form-control-sm " id="txtCorrectionEntryRemarks_{{i}}"
                              [(ngModel)]="ReceiveddynamicArray[i].CorrectionEntryRemarks" type="text"
                              (keypress)="ClickCorrectionEntryRemarks(i)" style="text-align:center;width: 120px;"
                              *ngIf="ReceiveddynamicArray[i].IsCorrection"></textarea>
                          </td>
                          <td *ngIf="Correctioncolumnhideandshow">
                            <button type="submit" [disabled]="ReceiveddynamicArray[i].IsCorrectionDisabled"
                              class="btn btn-sm btn-success" *ngIf="Save && ReceiveddynamicArray[i].IsCorrection"
                              (click)="ConfirmCorrectionPopup(i)">Update </button>
                          </td>
                        </tr>
                        <tr>
                          <td *ngIf="Correctioncolumnhideandshow"></td>
                          <td colspan="10">Gross Total</td>
                          <td style="text-align:center;">{{totalSumReceivedPOQuantity}}</td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <!-- <td></td>
                          <td></td> -->
                          <td style="text-align:center;">{{totalSumReceivedAmount}}</td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td *ngIf="Correctioncolumnhideandshow"></td>
                          <td *ngIf="Correctioncolumnhideandshow"></td>
                          <td *ngIf="Correctioncolumnhideandshow"></td>
                        </tr>
                        <tr>
                          <td (click)="addReceivedRow()">
                            <i class="fa fa-plus"></i>
                          </td>
                        </tr>
                      </tbody>
                    </table>

                    <table id="tblOne" class="table table-striped table-bordered" *ngIf="IsTransferTypeOtherState">
                      <thead>
                        <tr>
                          <th></th>
                          <th *ngIf="Correctioncolumnhideandshow">Correction Code<span style="color:red;"
                              class="Mandatoryfield"><b>*</b></span></th>
                          <th>Item Name<span style="color:red;" class="Mandatoryfield"><b>*</b></span></th>
                          <th>Item Make<span style="color:red;" class="Mandatoryfield"><b>*</b></span></th>
                          <th>Part No<span style="color:red;" class="Mandatoryfield"><b>*</b></span></th>
                          <th>&nbsp;&nbsp;&nbsp;Equipment Type<span style="color:red"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;Customer<span style="color:red"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Item&nbsp;Description<span
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sub&nbsp;Description<span
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>HSN/SAC<span style="color:red" class="Mandatoryfield"><b>*</b></span></th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UOM<span style="color:red"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Qty<span style="color:red"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>

                          <!-- <th>Received&nbsp;In&nbsp;WH<span style="color:red" class="Mandatoryfield"><b></b></span></th>
                          <th>Received&nbsp;Qty<span style="color:red" class="Mandatoryfield"><b></b></span></th> -->
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reason<span style="color:red"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remarks<span style="color:red"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;Serial&nbsp;&nbsp;No<span style="color:red;"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;Unit&nbsp;Rate&nbsp;(in&nbsp;Rs.)<span style="color:red;"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Total&nbsp;&nbsp;Amount&nbsp;(in&nbsp;Rs.)<span
                              style="color:red;" class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>IGST(%)<span style="color:red;" class="Mandatoryfield"><b>*</b></span></th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IGST&nbsp;Value&nbsp;(in&nbsp;Rs.)<span style="color:red;"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Grand&nbsp;&nbsp;Total&nbsp;(in&nbsp;Rs.)<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Manufacturing&nbsp;&nbsp;Date<span style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoice&nbsp;&nbsp;Date<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoice&nbsp;&nbsp;No<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Site&nbsp;&nbsp;Id<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th *ngIf="Correctioncolumnhideandshow">Reason<span style="color:red;"
                              class="Mandatoryfield"><b>*</b></span></th>
                          <th *ngIf="Correctioncolumnhideandshow">Remarks<span class="Mandatoryfield"><b></b></span>
                          </th>
                          <th *ngIf="Correctioncolumnhideandshow"></th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let dynamic of ReceiveddynamicArray; let i = index">
                          <td (click)="deleteReceivedRow(i)" style="width:20px;">
                            <i class="fa fa-trash" title="Delete"></i>
                          </td>
                          <td *ngIf="Correctioncolumnhideandshow">
                            <select style="width:80px;" class="form-control form-control-sm ItemCode"
                              (change)="ChangeCorrectionCode(i,ReceiveddynamicArray[i].IsCorrectionCodeId)"
                              id="ddlCorrectionCodeId_{{i}}" [(ngModel)]="ReceiveddynamicArray[i].IsCorrectionCodeId"
                              *ngIf="ReceiveddynamicArray[i].IsCorrection">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let itemC of CorrectionItemCodeList" [value]="itemC.SRNListId">Line Item
                                {{itemC.RowId+'-'+itemC.itemName}}</option>
                            </select>
                          </td>
                          <td style="width:80px;">
                            <select style="width:80px;" class="form-control form-control-sm ItemName"
                              id="ddlItemNameId_{{i}}" [(ngModel)]="ReceiveddynamicArray[i].ItemNameId"
                              (change)="ChangeReceivedEditItemName(ReceiveddynamicArray[i].ItemNameId,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of SearchItemNameList" [value]="item.id">{{item.itemName}}
                              </option>
                            </select>
                          </td>
                          <td style="width:100px;">
                            <select style="width:100px;" class="form-control form-control-sm ItemMake"
                              id="ddlItemMake_{{i}}" [(ngModel)]="ReceiveddynamicArray[i].ItemMakeId"
                              (change)="ChangeReceivedEditItemMake(ReceiveddynamicArray[i].ItemMakeId,ReceiveddynamicArray[i].ItemNameId,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of ReceiveddynamicArray[i].EditItemMake" [value]="item.id">
                                {{item.itemName}}</option>
                              <!-- <option *ngFor="let item4 of ItemListDataDetail" [value]="item4.id" >{{item4.itemName}}</option> -->
                            </select>
                          </td>
                          <td style="width:100px;">
                            <select style="width:100px;" class="form-control form-control-sm ItemCode"
                              id="ddlItemId_{{i}}" [(ngModel)]="ReceiveddynamicArray[i].ItemId"
                              (change)="ChangeReceivedEditItemCode(ReceiveddynamicArray[i].ItemId,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of ReceiveddynamicArray[i].EditItemCode" [value]="item.id">
                                {{item.itemName}}</option>

                            </select>
                          </td>
                          <td style="width:100px;">
                            <select class="form-control form-control-sm EqType" id="ddlEqTypeId_{{i}}"
                              [(ngModel)]="ReceiveddynamicArray[i].EqTypeId"
                              (change)="ChangeEqupmnet(ReceiveddynamicArray[i].EqTypeId,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of EquipmentTypeList" [value]="item.id">{{item.itemName}}
                              </option>
                            </select>
                          </td>
                          <td style="width:120px;">
                            <select class="form-control form-control-sm Client" id="ddlClient_{{i}}"
                              [(ngModel)]="ReceiveddynamicArray[i].ClientId"
                              (change)="ChangeClient(ReceiveddynamicArray[i].ClientId,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of ClientList" [value]="item.Id">{{item.Name}}</option>
                            </select>
                          </td>
                          <td style="width:280px;">
                            <textarea [(ngModel)]="ReceiveddynamicArray[i].ItemDescription" readonly
                              class="form-control form-control-sm" type="text" style="text-align:center;"> </textarea>
                          </td>
                          <td style="width:280px;">
                            <textarea [(ngModel)]="ReceiveddynamicArray[i].SubDescription"
                              class="form-control form-control-sm" type="text" style="text-align:center;"> </textarea>
                          </td>
                          <td style="width:80px;">
                            <input class="form-control form-control-sm HSN" maxlength="4" id="txtHSN_{{i}}"
                              autocomplete="off" [(ngModel)]="ReceiveddynamicArray[i].HSN" (blur)="HSNKeyPress()"
                              appCopyPastNumFloatValue type="text" style="text-align:center;" />
                          </td>
                          <td style="width:50px;">
                            <select class="form-control form-control-sm UnitName" id="ddlUnitName_{{i}}"
                              [(ngModel)]="ReceiveddynamicArray[i].UnitName"
                              (change)="ChangeReceivedUnit(ReceiveddynamicArray[i].UnitName,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of ReceiveddynamicArray[i].UnitList" [value]="item.Id">
                                {{item.UnitName}}</option>
                            </select>
                            <!-- <input style="width:50px;" class="form-control form-control-sm"
                              [(ngModel)]="ReceiveddynamicArray[i].UnitName" readonly type="text" />
                            <label *ngIf="ReceiveddynamicArray[i].HideShowConValue">S-UOM</label>
                            <input style="width:50px;" class="form-control form-control-sm"
                              *ngIf="ReceiveddynamicArray[i].HideShowConValue" readonly
                              [(ngModel)]="ReceiveddynamicArray[i].ConversionUnit" type="text" />
                          -->
                          </td>
                          <td style="width:80px;">
                            <input class="form-control form-control-sm ReceivedQty" id="txtQty_{{i}}" autocomplete="off"
                              (blur)="QtyKeyPress()" [(ngModel)]="ReceiveddynamicArray[i].ReceivedQty"
                              (keyup)="fnBindIReceivedGSTValueItemGrossToatal()" appCopyPastNumFloatValue type="text"
                              style="text-align:center;" />
                            <label
                              *ngIf="ReceiveddynamicArray[i].HideShowConValue">S-Qty={{ReceiveddynamicArray[i].ConversionUnit}}</label>
                            <input style="width:70px;" *ngIf="ReceiveddynamicArray[i].HideShowConValue"
                              class="form-control form-control-sm ConversionValue"
                              [(ngModel)]="ReceiveddynamicArray[i].ConversionValue" (blur)="OnblurConversionValue()"
                              appCopyPastNumFloatValue type="text" style="text-align:center;" />
                            <input style="width:120px;" class="form-control form-control-sm hideIsConversion"
                              [(ngModel)]="ReceiveddynamicArray[i].IsConversion" type="hidden"
                              style="text-align:center;" />
                          </td>


                          <!-- <td style="width:50px;">
                            <input class="form-control form-control-sm ReceivedInWH" id="txtReceivedInWH_{{i}}"
                              autocomplete="off" [(ngModel)]="dynamicArray[i].ReceivedInWH"
                              (click)="ClickReceivedInWH(dynamicArray[i].ReceivedInWH,i)" type="checkbox"
                              style="text-align:center; height: 20px;" />
                          </td>
                          <td style="width:50px;">
                            <input class="form-control form-control-sm ReceivedQty" id="txtReceivedQty_{{i}}"
                              autocomplete="off" (blur)="ReceivedQtyKeyPress()"
                              [(ngModel)]="dynamicArray[i].ReceivedQty" appCopyPastNumFloatValue type="text"
                              style="text-align:center;" />
                          </td> -->
                          <td style="width:280px;">
                            <select class="form-control form-control-sm ReasonId" id="txtReasonId_{{i}}"
                              [(ngModel)]="ReceiveddynamicArray[i].ReasonId" (change)="ChangeReason()">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of ItemReasonData" [value]="item.id">{{item.ReasonName}}</option>
                            </select>
                          </td>
                          <td style="width:280px;">
                            <textarea id="txtRemarks_{{i}}" [(ngModel)]="ReceiveddynamicArray[i].Remarks"
                              (blur)="RemarksKeyPress()" class="form-control form-control-sm Remarks" type="text"
                              style="text-align:center;"> </textarea>
                          </td>
                          <td style="width:100px;text-align:center;">
                            <a (click)="showModal(ReceiveddynamicArray[i].ReceivedQty, i)">
                              <i _ngcontent-dpu-c137="" class="fa fa-plus"></i>
                            </a>
                          </td>
                          <td style="width:50px;">
                            <input class="form-control form-control-sm Rate" id="txtRate_{{i}}" autocomplete="off"
                              (blur)="RateKeyPress()" [(ngModel)]="ReceiveddynamicArray[i].Rate"
                              (keyup)="fnBindIReceivedGSTValueItemGrossToatal()" appCopyPastNumFloatValue type="text"
                              style="text-align:center;" />
                          </td>
                          <td style="width:120px;">
                            <input class="form-control form-control-sm itmsTotalAmount" readonly
                              [(ngModel)]="ReceiveddynamicArray[i].TotalAmount" type="text"
                              style="text-align:center;" />
                          </td>
                          <td style="width:60px;">
                            <input class="form-control form-control-sm IGSTValue" id="txtIGSTValue_{{i}}"
                              autocomplete="off" (blur)="IGSTKeyPress()" [(ngModel)]="ReceiveddynamicArray[i].IGSTValue"
                              appCopyPastNumFloatValue (keyup)="fnBindIReceivedGSTValueItemGrossToatal()" type="text"
                              style="text-align:center;" />
                          </td>
                          <td style="width:60px;">
                            <input class="form-control form-control-sm IGST" readonly id="txtIGST_{{i}}"
                              autocomplete="off" (blur)="IGSTKeyPress()" [(ngModel)]="ReceiveddynamicArray[i].IGST"
                              type="text" style="text-align:center;" />
                          </td>

                          <td style="width:60px;">
                            <input class="form-control form-control-sm" readonly id="txtGetTotalAmount"
                              [(ngModel)]="ReceiveddynamicArray[i].GetTotalAmount" type="text"
                              style="text-align:center;" />
                          </td>

                          <td style="width:60px;">
                            <!-- <input class="form-control form-control-sm" type="date"  id="txtGetTotalAmount" [(ngModel)]="dynamicArray[i].ManufDate" placeholder="dd/mm/yyyy"  (change)="ChangManuFdate(dynamicArray[i].ManufDate,i)"data-date-format="dd/MM/YYYY"    style="text-align:center;"/>  -->
                            <div class="input-group">
                              <input class="form-control form-control-sm ManufDate" placeholder="dd/mm/yyyy"
                                style="text-align:center;" autocomplete="off"
                                [(ngModel)]="ReceiveddynamicArray[i].ManufDate" ngbDatepicker #MfDate="ngbDatepicker">
                              <div class="input-group-addon" (click)="MfDate.open()">
                                <span class="input-group-text"><i class="far fa-calendar-alt"></i></span>
                              </div>
                            </div>
                          </td>

                          <!-- <td style="width:140px;">    
                              <input class="form-control form-control-sm SerialNo"  id="txtSerialNo_{{i}}" autocomplete="off" [(ngModel)]="dynamicArray[i].SerialNo" (blur)="SerialNoKeyPress()"   type="text" style="text-align:center;"/>   
                            </td>  -->
                          <td style="width:60px;">
                            <!-- <input class="form-control form-control-sm" type="date"  id="txtGetTotalAmount" [(ngModel)]="dynamicArray[i].ManufDate" placeholder="dd/mm/yyyy"  (change)="ChangManuFdate(dynamicArray[i].ManufDate,i)"data-date-format="dd/MM/YYYY"    style="text-align:center;"/>  -->
                            <div class="input-group">
                              <input class="form-control form-control-sm InvoiceTaxDate" placeholder="dd/mm/yyyy"
                                style="text-align:center;" autocomplete="off"
                                [(ngModel)]="ReceiveddynamicArray[i].InvoiceTaxDate " ngbDatepicker
                                #InvoiceTaxDate="ngbDatepicker">
                              <div class="input-group-addon" (click)="InvoiceTaxDate.open()">
                                <span class="input-group-text">
                                  <i class="far fa-calendar-alt"></i>
                                </span>
                              </div>
                            </div>
                          </td>

                          <td style="width:140px;">
                            <input class="form-control form-control-sm InvoiceTaxNo" id="txtInvoiceTaxNo_{{i}}"
                              autocomplete="off" [(ngModel)]="ReceiveddynamicArray[i].InvoiceTaxNo" type="text"
                              style="text-align:center;" />
                          </td>
                          <!-- Hemant Tyagi -->
                          <!-- <td class="text-center"><input class="form-control form-control-sm CustomerSiteId"
                            [(ngModel)]="ReceiveddynamicArray[i].CustomerSiteId" readonly /></td> -->
                          <td>{{ReceiveddynamicArray[i].CustomerSiteId}}</td>

                          <td *ngIf="Correctioncolumnhideandshow">
                            <select style="width:120px;" (change)="ChangeCorrectionEntryReason(i)"
                              class="form-control form-control-sm TaxWith" id="ddlCentryReason_{{i}}"
                              [(ngModel)]="ReceiveddynamicArray[i].IsCorrectionEntryReason"
                              *ngIf="ReceiveddynamicArray[i].IsCorrection">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let itemC of CorretionEntryReasonDetail" [value]="itemC.Id">
                                {{itemC.ReasonName}}</option>
                            </select>
                          </td>
                          <td *ngIf="Correctioncolumnhideandshow">
                            <textarea class="form-control form-control-sm " id="txtCorrectionEntryRemarks_{{i}}"
                              [(ngModel)]="ReceiveddynamicArray[i].CorrectionEntryRemarks" type="text"
                              (keypress)="ClickCorrectionEntryRemarks(i)" style="text-align:center;width: 120px;"
                              *ngIf="ReceiveddynamicArray[i].IsCorrection"></textarea>
                          </td>
                          <td *ngIf="Correctioncolumnhideandshow">
                            <button type="submit" [disabled]="ReceiveddynamicArray[i].IsCorrectionDisabled"
                              class="btn btn-sm btn-success" *ngIf="Save && ReceiveddynamicArray[i].IsCorrection"
                              (click)="ConfirmCorrectionPopup(i)">Update </button>
                          </td>
                        </tr>
                        <tr>
                          <td colspan="10">Gross Total</td>
                          <td style="text-align:center;">{{totalSumReceivedPOQuantity}}</td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <!-- <td></td> -->
                          <!-- <td></td>
                          <td></td> -->
                          <td style="text-align:center;">{{totalSumReceivedAmount }}</td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td *ngIf="Correctioncolumnhideandshow"></td>
                          <td *ngIf="Correctioncolumnhideandshow"></td>
                          <td *ngIf="Correctioncolumnhideandshow"></td>
                        </tr>
                        <tr>
                          <td (click)="addReceivedRow()">
                            <i class="fa fa-plus"></i>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </fieldset>
                <!-- SRN Request Item List -->
                <fieldset class="scheduler-border">
                  <legend class="scheduler-border">SRN Request Item Details</legend>
                  <div class="col-sm-12" style="overflow-x:scroll; min-height:300px;">
                    <table id="tblOne" class="table table-striped table-bordered" *ngIf="IsTransferTypeSameState">
                      <thead>
                        <tr>
                          <th></th>
                          <th>History<span style="color:red;" class="Mandatoryfield"><b></b></span></th>
                          <th>Item Name<span style="color:red;" class="Mandatoryfield"><b>*</b></span></th>
                          <th>Item Make<span style="color:red;" class="Mandatoryfield"><b>*</b></span></th>
                          <th>Part No<span style="color:red;" class="Mandatoryfield"><b>*</b></span></th>
                          <th>&nbsp;&nbsp;&nbsp;Equipment Type<span style="color:red"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;Customer<span style="color:red"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Item&nbsp;Description<span
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sub&nbsp;Description<span
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>HSN/SAC<span style="color:red" class="Mandatoryfield"><b>*</b></span></th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UOM<span style="color:red"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Qty<span style="color:red"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>

                          <!-- <th>Received&nbsp;In&nbsp;WH<span style="color:red" class="Mandatoryfield"><b></b></span></th>
                               <th>Received&nbsp;Qty<span style="color:red" class="Mandatoryfield"><b></b></span></th>
                               <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reason<span style="color:red" class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                               <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remarks<span style="color:red" class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                               <th>&nbsp;Serial&nbsp;&nbsp;No<span style="color:red;"class="Mandatoryfield"><b></b></span>&nbsp;</th>  -->
                          <th>&nbsp;&nbsp;&nbsp;Unit&nbsp;Rate&nbsp;(in&nbsp;Rs.)<span style="color:red;"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Total&nbsp;&nbsp;Amount&nbsp;(in&nbsp;Rs.)<span
                              style="color:red;" class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>Discount&nbsp;(in&nbsp;Rs.)<span style="color:red;" class="Mandatoryfield"><b>*</b></span>
                          </th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Grand&nbsp;&nbsp;Total&nbsp;(in&nbsp;Rs.)<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Manufacturing&nbsp;&nbsp;Date<span style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoice&nbsp;&nbsp;Date<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoice&nbsp;&nbsp;No<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Site&nbsp;&nbsp;Id<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let dynamic of dynamicArray; let i = index">
                          <td (click)="deleteRow(i)" style="width:20px;">
                            <i class="fa fa-trash" title="Delete"></i>
                          </td>
                          <td style="width:100px;text-align: center;">
                            <a (click)="ClickHistory(dynamicArray[i].ItemNameId, i)">
                              <i _ngcontent-dpu-c137="" class="fa fa-eye" title="View History" style="color:green"></i>
                            </a>
                          </td>
                          <td style="width:80px;">
                            <select style="width:80px;" class="form-control form-control-sm ItemName"
                              [disabled]="IsItemListDisabled" id="ddlItemNameId_{{i}}"
                              [(ngModel)]="dynamicArray[i].ItemNameId"
                              (change)="ChangeEditItemName(dynamicArray[i].ItemNameId,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of SearchItemNameList" [value]="item.id">{{item.itemName}}
                              </option>
                            </select>
                          </td>

                          <td style="width:100px;">
                            <select style="width:100px;" class="form-control form-control-sm ItemMake"
                              [disabled]="IsItemListDisabled" id="ddlItemMake_{{i}}"
                              [(ngModel)]="dynamicArray[i].ItemMakeId"
                              (change)="ChangeEditItemMake(dynamicArray[i].ItemMakeId,dynamicArray[i].ItemNameId,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of dynamicArray[i].EditItemMake" [value]="item.id">
                                {{item.itemName}}</option>
                              <!-- <option *ngFor="let item4 of ItemListDataDetail" [value]="item4.id" >{{item4.itemName}}</option> -->
                            </select>
                          </td>
                          <td style="width:100px;">
                            <select style="width:100px;" class="form-control form-control-sm ItemCode"
                              [disabled]="IsItemListDisabled" id="ddlItemId_{{i}}" [(ngModel)]="dynamicArray[i].ItemId"
                              (change)="ChangeEditItemCode(dynamicArray[i].ItemId,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of dynamicArray[i].EditItemCode" [value]="item.id">
                                {{item.itemName}}</option>
                            </select>
                          </td>
                          <td style="width:100px;">
                            <select class="form-control form-control-sm EqType" id="ddlEqTypeId_{{i}}"
                              [disabled]="IsItemListDisabled" [(ngModel)]="dynamicArray[i].EqTypeId"
                              (change)="ChangeEqupmnet(dynamicArray[i].EqTypeId,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of EquipmentTypeList" [value]="item.id">{{item.itemName}}
                              </option>
                            </select>
                          </td>
                          <td style="width:120px;">
                            <select class="form-control form-control-sm Client" id="ddlClient_{{i}}"
                              [disabled]="IsItemListDisabled" [(ngModel)]="dynamicArray[i].ClientId"
                              (change)="ChangeClient(dynamicArray[i].ClientId,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of ClientList" [value]="item.Id">{{item.Name}}</option>
                            </select>
                          </td>
                          <td style="width:280px;">
                            <textarea [(ngModel)]="dynamicArray[i].ItemDescription" readonly
                              class="form-control form-control-sm" type="text" style="text-align:center;"> </textarea>
                          </td>
                          <td style="width:280px;">
                            <textarea [(ngModel)]="dynamicArray[i].SubDescription" class="form-control form-control-sm"
                              type="text" style="text-align:center;"> </textarea>
                          </td>
                          <td style="width:80px;">
                            <input class="form-control form-control-sm HSN" maxlength="4" id="txtHSN_{{i}}"
                              [disabled]="IsItemListDisabled" autocomplete="off" [(ngModel)]="dynamicArray[i].HSN"
                              (blur)="HSNKeyPress()" appCopyPastNumFloatValue type="text" style="text-align:center;" />
                          </td>
                          <td style="width:50px;">
                            <select class="form-control form-control-sm UnitName" id="ddlUnitName_{{i}}"
                              [(ngModel)]="dynamicArray[i].UnitName" [disabled]="IsItemListDisabled"
                              (change)="ChangeUnit(dynamicArray[i].UnitName,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of dynamicArray[i].UnitList" [value]="item.Id">{{item.UnitName}}
                              </option>
                            </select>
                            <!-- <input style="width:50px;" class="form-control form-control-sm" [disabled]="IsItemListDisabled"
                              [(ngModel)]="dynamicArray[i].UnitName" readonly type="text" />
                            <label *ngIf="dynamicArray[i].HideShowConValue">S-UOM</label>
                            <input style="width:50px;" class="form-control form-control-sm"[disabled]="IsItemListDisabled"
                              *ngIf="dynamicArray[i].HideShowConValue" readonly
                              [(ngModel)]="dynamicArray[i].ConversionUnit" type="text" />
                          -->
                          </td>
                          <td style="width:80px;">
                            <input class="form-control form-control-sm Qty" id="txtQty_{{i}}" autocomplete="off"
                              [disabled]="IsItemListDisabled" (blur)="QtyKeyPress()" [(ngModel)]="dynamicArray[i].Qty"
                              (keyup)="fnBindItemGrossToatl()" appCopyPastNumFloatValue type="text"
                              style="text-align:center;" />
                            <label
                              *ngIf="dynamicArray[i].HideShowConValue">S-Qty={{dynamicArray[i].ConversionUnit}}</label>
                            <input style="width:70px;" *ngIf="dynamicArray[i].HideShowConValue"
                              [disabled]="IsItemListDisabled" class="form-control form-control-sm ConversionValue"
                              [(ngModel)]="dynamicArray[i].ConversionValue" (blur)="OnblurConversionValue()"
                              appCopyPastNumFloatValue type="text" style="text-align:center;" />
                            <input style="width:120px;" class="form-control form-control-sm hideIsConversion"
                              [disabled]="IsItemListDisabled" [(ngModel)]="dynamicArray[i].IsConversion" type="hidden"
                              style="text-align:center;" />
                          </td>


                          <!-- <td style="width:50px;">    
                              <input  class="form-control form-control-sm ReceivedInWH" id="txtReceivedInWH_{{i}}"autocomplete="off" [(ngModel)]="dynamicArray[i].ReceivedInWH" (click)="ClickReceivedInWH(dynamicArray[i].ReceivedInWH,i)" type="checkbox" style="text-align:center; height: 20px;"/>   
                            </td> 
                            <td style="width:50px;">    
                              <input  class="form-control form-control-sm ReceivedQty" id="txtReceivedQty_{{i}}"autocomplete="off" (blur)="ReceivedQtyKeyPress()"  [(ngModel)]="dynamicArray[i].ReceivedQty"  appCopyPastNumFloatValue  type="text" style="text-align:center;"/>   
                            </td> 
                            <td style="width:280px;">    
                              <select class="form-control form-control-sm ReasonId" id="txtReasonId_{{i}}" [(ngModel)]="dynamicArray[i].ReasonId" (change)="ChangeReason()" >  
                                <option class="dropdown-item" [value]="0">Select</option>
                                <option *ngFor="let item of ItemReasonData" [value]="item.id" >{{item.ReasonName}}</option>    
                              </select>
                            </td>
                              <td style="width:280px;">    
                                <textarea  id="txtRemarks_{{i}}" [(ngModel)]="dynamicArray[i].Remarks"  (blur)="RemarksKeyPress()" class="form-control form-control-sm Remarks" type="text" style="text-align:center;"> </textarea>   
                                </td>
                                <td style="width:100px;text-align:center;">    
                                  <a (click)="showModal(dynamicArray[i].Qty, i)">
                                    <i _ngcontent-dpu-c137="" class="fa fa-plus"></i> 
                                  </a> 
                                </td>  -->


                          <td style="width:50px;">
                            <input class="form-control form-control-sm Rate" id="txtRate_{{i}}" autocomplete="off"
                              [disabled]="IsItemListDisabled" (blur)="RateKeyPress()" [(ngModel)]="dynamicArray[i].Rate"
                              (keyup)="fnBindItemGrossToatl()" appCopyPastNumFloatValue type="text"
                              style="text-align:center;" />
                          </td>
                          <td style="width:120px;">
                            <input class="form-control form-control-sm itmsTotalAmount" readonly
                              [(ngModel)]="dynamicArray[i].TotalAmount" type="text" style="text-align:center;" />
                          </td>
                          <td style="width:60px;">
                            <input class="form-control form-control-sm Discount" id="txtDiscount_{{i}}"
                              [disabled]="IsItemListDisabled" autocomplete="off" (blur)="DiscountKeyPress()"
                              [(ngModel)]="dynamicArray[i].Discount" (keyup)="fnBindItemGrossToatl()"
                              appCopyPastNumFloatValue type="text" style="text-align:center;" />
                          </td>

                          <td style="width:60px;">
                            <input class="form-control form-control-sm" readonly id="txtGetTotalAmount"
                              [(ngModel)]="dynamicArray[i].GetTotalAmount" type="text" style="text-align:center;" />
                          </td>

                          <td style="width:60px;">
                            <!-- <input class="form-control form-control-sm" type="date"  id="txtGetTotalAmount" [(ngModel)]="dynamicArray[i].ManufDate" placeholder="dd/mm/yyyy"  (change)="ChangManuFdate(dynamicArray[i].ManufDate,i)"data-date-format="dd/MM/YYYY"    style="text-align:center;"/>  -->
                            <div class="input-group">
                              <input class="form-control form-control-sm ManufDate" placeholder="dd/mm/yyyy"
                                [disabled]="IsItemListDisabled" style="text-align:center;" autocomplete="off"
                                [(ngModel)]="dynamicArray[i].ManufDate" ngbDatepicker #MfDate="ngbDatepicker">
                              <div class="input-group-addon" (click)="MfDate.open()">
                                <span class="input-group-text">
                                  <i class="far fa-calendar-alt"></i>
                                </span>
                              </div>

                            </div>
                          </td>
                          <!-- <td style="width:140px;">    
                              <input class="form-control form-control-sm SerialNo"  id="txtSerialNo_{{i}}" autocomplete="off" [(ngModel)]="dynamicArray[i].SerialNo" (blur)="SerialNoKeyPress()"   type="text" style="text-align:center;"/>   
                            </td>  -->
                          <td style="width:60px;">
                            <!-- <input class="form-control form-control-sm" type="date"  id="txtGetTotalAmount" [(ngModel)]="dynamicArray[i].ManufDate" placeholder="dd/mm/yyyy"  (change)="ChangManuFdate(dynamicArray[i].ManufDate,i)"data-date-format="dd/MM/YYYY"    style="text-align:center;"/>  -->
                            <div class="input-group">
                              <input class="form-control form-control-sm InvoiceTaxDate" placeholder="dd/mm/yyyy"
                                [disabled]="IsItemListDisabled" style="text-align:center;" autocomplete="off"
                                [(ngModel)]="dynamicArray[i].InvoiceTaxDate" ngbDatepicker
                                #InvoiceTaxDate="ngbDatepicker">
                              <div class="input-group-addon" (click)="InvoiceTaxDate.open()">
                                <span class="input-group-text">
                                  <i class="far fa-calendar-alt"></i>
                                </span>
                              </div>
                            </div>
                          </td>

                          <td style="width:140px;">
                            <input class="form-control form-control-sm InvoiceTaxNo" id="txtInvoiceTaxNo_{{i}}"
                              [disabled]="IsItemListDisabled" autocomplete="off"
                              [(ngModel)]="dynamicArray[i].InvoiceTaxNo" type="text" style="text-align:center;" />
                          </td>
                          <!-- <td class="text-center"><input class="form-control form-control-sm CustomerSiteId"
                              [(ngModel)]="dynamicArray[i].CustomerSiteId" readonly /></td> -->
                          <td>{{dynamicArray[i].CustomerSiteId}}</td>
                        </tr>
                        <tr>
                          <td colspan="11">Gross Total</td>
                          <td style="text-align:center;">{{totalSumPOQuantity}}</td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <!-- <td></td>                                   
                            <td></td>
                            <td ></td>
                            <td></td>
                            <td></td> -->
                          <td style="text-align:center;">{{totalSumAmount }}</td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                        </tr>
                        <tr *ngIf="ItemAddrowhideshow">
                          <td (click)="addRow()">
                            <i class="fa fa-plus"></i>
                          </td>
                        </tr>
                      </tbody>
                    </table>

                    <table id="tblOne" class="table table-striped table-bordered" *ngIf="IsTransferTypeOtherState">
                      <thead>
                        <tr>
                          <th></th>
                          <th>History<span style="color:red;" class="Mandatoryfield"><b></b></span></th>
                          <th>Item Name<span style="color:red;" class="Mandatoryfield"><b>*</b></span></th>
                          <th>Item Make<span style="color:red;" class="Mandatoryfield"><b>*</b></span></th>
                          <th>Part No<span style="color:red;" class="Mandatoryfield"><b>*</b></span></th>
                          <th>&nbsp;&nbsp;&nbsp;Equipment Type<span style="color:red"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;Customer<span style="color:red"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Item&nbsp;Description<span
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sub&nbsp;Description<span
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>HSN/SAC<span style="color:red" class="Mandatoryfield"><b>*</b></span></th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UOM<span
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Qty<span style="color:red"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>

                          <!-- <th>Received&nbsp;In&nbsp;WH<span style="color:red" class="Mandatoryfield"><b></b></span></th>
                               <th>Received&nbsp;Qty<span style="color:red" class="Mandatoryfield"><b></b></span></th>
                               <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reason<span style="color:red" class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                               <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remarks<span style="color:red" class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                               <th>&nbsp;Serial&nbsp;&nbsp;No<span style="color:red;" class="Mandatoryfield"><b>*</b></span>&nbsp;</th>  -->
                          <th>&nbsp;&nbsp;&nbsp;Unit&nbsp;Rate&nbsp;(in&nbsp;Rs.)<span style="color:red;"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Total&nbsp;&nbsp;Amount&nbsp;(in&nbsp;Rs.)<span
                              style="color:red;" class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>IGST(%)<span style="color:red;" class="Mandatoryfield"><b>*</b></span></th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IGST&nbsp;Value&nbsp;(in&nbsp;Rs.)<span style="color:red;"
                              class="Mandatoryfield"><b>*</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Grand&nbsp;&nbsp;Total&nbsp;(in&nbsp;Rs.)<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Manufacturing&nbsp;&nbsp;Date<span style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoice&nbsp;&nbsp;Date<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoice&nbsp;&nbsp;No<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Site&nbsp;&nbsp;Id<span
                              style="color:red;"
                              class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let dynamic of dynamicArray; let i = index">
                          <td (click)="deleteRow(i)" style="width:20px;">
                            <i class="fa fa-trash" title="Delete"></i>
                          </td>
                          <td style="width:100px;text-align: center;">
                            <a (click)="ClickHistory(dynamicArray[i].ItemNameId, i)">
                              <i _ngcontent-dpu-c137="" class="fa fa-eye" title="View History" style="color:green"></i>
                            </a>
                          </td>
                          <td style="width:80px;">
                            <select style="width:80px;" class="form-control form-control-sm ItemName"
                              [disabled]="IsItemListDisabled" id="ddlItemNameId_{{i}}"
                              [(ngModel)]="dynamicArray[i].ItemNameId"
                              (change)="ChangeEditItemName(dynamicArray[i].ItemNameId,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of SearchItemNameList" [value]="item.id">{{item.itemName}}
                              </option>
                            </select>
                          </td>
                          <td style="width:100px;">
                            <select style="width:100px;" class="form-control form-control-sm ItemMake"
                              [disabled]="IsItemListDisabled" id="ddlItemMake_{{i}}"
                              [(ngModel)]="dynamicArray[i].ItemMakeId"
                              (change)="ChangeEditItemMake(dynamicArray[i].ItemMakeId,dynamicArray[i].ItemNameId,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of dynamicArray[i].EditItemMake" [value]="item.id">
                                {{item.itemName}}</option>
                              <!-- <option *ngFor="let item4 of ItemListDataDetail" [value]="item4.id" >{{item4.itemName}}</option> -->
                            </select>
                          </td>
                          <td style="width:100px;">
                            <select style="width:100px;" class="form-control form-control-sm ItemCode"
                              [disabled]="IsItemListDisabled" id="ddlItemId_{{i}}" [(ngModel)]="dynamicArray[i].ItemId"
                              (change)="ChangeEditItemCode(dynamicArray[i].ItemId,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of dynamicArray[i].EditItemCode" [value]="item.id">
                                {{item.itemName}}</option>

                            </select>
                          </td>
                          <td style="width:100px;">
                            <select class="form-control form-control-sm EqType" id="ddlEqTypeId_{{i}}"
                              [disabled]="IsItemListDisabled" [(ngModel)]="dynamicArray[i].EqTypeId"
                              (change)="ChangeEqupmnet(dynamicArray[i].EqTypeId,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of EquipmentTypeList" [value]="item.id">{{item.itemName}}
                              </option>
                            </select>
                          </td>
                          <td style="width:120px;">
                            <select class="form-control form-control-sm Client" id="ddlClient_{{i}}"
                              [disabled]="IsItemListDisabled" [(ngModel)]="dynamicArray[i].ClientId"
                              (change)="ChangeClient(dynamicArray[i].ClientId,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of ClientList" [value]="item.Id">{{item.Name}}</option>
                            </select>
                          </td>
                          <td style="width:280px;">
                            <textarea [(ngModel)]="dynamicArray[i].ItemDescription" readonly
                              class="form-control form-control-sm" type="text" style="text-align:center;"> </textarea>
                          </td>
                          <td style="width:280px;">
                            <textarea [(ngModel)]="dynamicArray[i].SubDescription" class="form-control form-control-sm"
                              [disabled]="IsItemListDisabled" type="text" style="text-align:center;"> </textarea>
                          </td>
                          <td style="width:80px;">
                            <input class="form-control form-control-sm HSN" maxlength="4" id="txtHSN_{{i}}"
                              [disabled]="IsItemListDisabled" autocomplete="off" [(ngModel)]="dynamicArray[i].HSN"
                              (blur)="HSNKeyPress()" appCopyPastNumFloatValue type="text" style="text-align:center;" />
                          </td>
                          <td style="width:50px;">
                            <select class="form-control form-control-sm UnitName" id="ddlUnitName_{{i}}"
                              [(ngModel)]="dynamicArray[i].UnitName" [disabled]="IsItemListDisabled"
                              (change)="ChangeUnit(dynamicArray[i].UnitName,i)">
                              <option class="dropdown-item" [value]="0">Select</option>
                              <option *ngFor="let item of dynamicArray[i].UnitList" [value]="item.Id">{{item.UnitName}}
                              </option>
                            </select>
                            <!-- <input style="width:50px;" class="form-control form-control-sm"
                              [(ngModel)]="dynamicArray[i].UnitName" readonly type="text" />
                            <label *ngIf="dynamicArray[i].HideShowConValue">S-UOM</label>
                            <input style="width:50px;" class="form-control form-control-sm"
                              *ngIf="dynamicArray[i].HideShowConValue" readonly
                              [(ngModel)]="dynamicArray[i].ConversionUnit" type="text" /> -->
                          </td>
                          <td style="width:80px;">
                            <input class="form-control form-control-sm Qty" id="txtQty_{{i}}" autocomplete="off"
                              [disabled]="IsItemListDisabled" (blur)="QtyKeyPress()" [(ngModel)]="dynamicArray[i].Qty"
                              (keyup)="fnBindItemGrossToatl()" appCopyPastNumFloatValue type="text"
                              style="text-align:center;" />
                            <label
                              *ngIf="dynamicArray[i].HideShowConValue">S-Qty={{dynamicArray[i].ConversionUnit}}</label>
                            <input style="width:70px;" *ngIf="dynamicArray[i].HideShowConValue"
                              [disabled]="IsItemListDisabled" class="form-control form-control-sm ConversionValue"
                              [(ngModel)]="dynamicArray[i].ConversionValue" (blur)="OnblurConversionValue()"
                              appCopyPastNumFloatValue type="text" style="text-align:center;" />
                            <input style="width:120px;" class="form-control form-control-sm hideIsConversion"
                              [disabled]="IsItemListDisabled" [(ngModel)]="dynamicArray[i].IsConversion" type="hidden"
                              style="text-align:center;" />
                          </td>


                          <!-- <td style="width:50px;">    
                              <input  class="form-control form-control-sm ReceivedInWH" id="txtReceivedInWH_{{i}}"autocomplete="off" [(ngModel)]="dynamicArray[i].ReceivedInWH" (click)="ClickReceivedInWH(dynamicArray[i].ReceivedInWH,i)" type="checkbox" style="text-align:center; height: 20px;"/>   
                            </td> 
                            <td style="width:50px;">    
                              <input  class="form-control form-control-sm ReceivedQty" id="txtReceivedQty_{{i}}"autocomplete="off" (blur)="ReceivedQtyKeyPress()"  [(ngModel)]="dynamicArray[i].ReceivedQty"  appCopyPastNumFloatValue  type="text" style="text-align:center;"/>   
                            </td> 
                            <td style="width:280px;">    
                              <select class="form-control form-control-sm ReasonId" id="txtReasonId_{{i}}" [(ngModel)]="dynamicArray[i].ReasonId" (change)="ChangeReason()" >  
                                <option class="dropdown-item" [value]="0">Select</option>
                                <option *ngFor="let item of ItemReasonData" [value]="item.id" >{{item.ReasonName}}</option>    
                              </select>
                            </td>
                              <td style="width:280px;">    
                                <textarea  id="txtRemarks_{{i}}" [(ngModel)]="dynamicArray[i].Remarks"  (blur)="RemarksKeyPress()" class="form-control form-control-sm Remarks" type="text" style="text-align:center;"> </textarea>   
                                </td>
                                <td style="width:100px;text-align:center;">    
                                  <a (click)="showModal(dynamicArray[i].Qty, i)">
                                    <i _ngcontent-dpu-c137="" class="fa fa-plus"></i> 
                                  </a> 
                                </td>  -->
                          <td style="width:50px;">
                            <input class="form-control form-control-sm Rate" id="txtRate_{{i}}" autocomplete="off"
                              [disabled]="IsItemListDisabled" (blur)="RateKeyPress()" [(ngModel)]="dynamicArray[i].Rate"
                              (keyup)="fnBindIGSTValueItemGrossToatal()" appCopyPastNumFloatValue type="text"
                              style="text-align:center;" />
                          </td>
                          <td style="width:120px;">
                            <input class="form-control form-control-sm itmsTotalAmount" readonly
                              [(ngModel)]="dynamicArray[i].TotalAmount" type="text" style="text-align:center;" />
                          </td>
                          <td style="width:60px;">
                            <input class="form-control form-control-sm IGSTValue" id="txtIGSTValue_{{i}}"
                              [disabled]="IsItemListDisabled" autocomplete="off" (blur)="IGSTKeyPress()"
                              [(ngModel)]="dynamicArray[i].IGSTValue" appCopyPastNumFloatValue
                              (keyup)="fnBindIGSTValueItemGrossToatal()" type="text" style="text-align:center;" />
                          </td>
                          <td style="width:60px;">
                            <input class="form-control form-control-sm IGST" readonly id="txtIGST_{{i}}"
                              [disabled]="IsItemListDisabled" autocomplete="off" (blur)="IGSTKeyPress()"
                              [(ngModel)]="dynamicArray[i].IGST" type="text" style="text-align:center;" />
                          </td>

                          <td style="width:60px;">
                            <input class="form-control form-control-sm" readonly id="txtGetTotalAmount"
                              [(ngModel)]="dynamicArray[i].GetTotalAmount" type="text" style="text-align:center;" />
                          </td>

                          <td style="width:60px;">
                            <!-- <input class="form-control form-control-sm" type="date"  id="txtGetTotalAmount" [(ngModel)]="dynamicArray[i].ManufDate" placeholder="dd/mm/yyyy"  (change)="ChangManuFdate(dynamicArray[i].ManufDate,i)"data-date-format="dd/MM/YYYY"    style="text-align:center;"/>  -->
                            <div class="input-group">
                              <input class="form-control form-control-sm ManufDate" placeholder="dd/mm/yyyy"
                                [disabled]="IsItemListDisabled" style="text-align:center;" autocomplete="off"
                                [(ngModel)]="dynamicArray[i].ManufDate" ngbDatepicker #MfDate="ngbDatepicker">
                              <div class="input-group-addon" (click)="MfDate.open()">
                                <span class="input-group-text"><i class="far fa-calendar-alt"></i></span>
                              </div>
                            </div>
                          </td>

                          <!-- <td style="width:140px;">    
                              <input class="form-control form-control-sm SerialNo"  id="txtSerialNo_{{i}}" autocomplete="off" [(ngModel)]="dynamicArray[i].SerialNo" (blur)="SerialNoKeyPress()"   type="text" style="text-align:center;"/>   
                            </td>  -->
                          <td style="width:60px;">
                            <!-- <input class="form-control form-control-sm" type="date"  id="txtGetTotalAmount" [(ngModel)]="dynamicArray[i].ManufDate" placeholder="dd/mm/yyyy"  (change)="ChangManuFdate(dynamicArray[i].ManufDate,i)"data-date-format="dd/MM/YYYY"    style="text-align:center;"/>  -->
                            <div class="input-group">
                              <input class="form-control form-control-sm InvoiceTaxDate" placeholder="dd/mm/yyyy"
                                [disabled]="IsItemListDisabled" style="text-align:center;" autocomplete="off"
                                [(ngModel)]="dynamicArray[i].InvoiceTaxDate " ngbDatepicker
                                #InvoiceTaxDate="ngbDatepicker">
                              <div class="input-group-addon" (click)="InvoiceTaxDate.open()">
                                <span class="input-group-text">
                                  <i class="far fa-calendar-alt"></i>
                                </span>
                              </div>
                            </div>
                          </td>

                          <td style="width:140px;">
                            <input class="form-control form-control-sm InvoiceTaxNo" id="txtInvoiceTaxNo_{{i}}"
                              [disabled]="IsItemListDisabled" autocomplete="off"
                              [(ngModel)]="dynamicArray[i].InvoiceTaxNo" type="text" style="text-align:center;" />
                          </td>
                          <!-- <td class="text-center"><input class="form-control form-control-sm CustomerSiteId"
                              [(ngModel)]="dynamicArray[i].CustomerSiteId" readonly /></td> -->
                          <td>{{dynamicArray[i].CustomerSiteId}}</td>
                        </tr>
                        <tr>
                          <td colspan="11">Gross Total</td>
                          <td style="text-align:center;">{{totalSumPOQuantity}}</td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>

                          <!-- <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td> -->
                          <td style="text-align:center;">{{totalSumAmount }}</td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                        </tr>
                        <tr *ngIf="ItemAddrowhideshow">
                          <td (click)="addRow()">
                            <i class="fa fa-plus"></i>
                          </td>
                        </tr>
                      </tbody>
                    </table>

                  </div>
                </fieldset>

                <fieldset class="scheduler-border">
                  <legend class="scheduler-border">Upload Document</legend>
                  <div class="row mb-1">
                    <label class="col-form-label-xs col-sm-1" *ngIf="IsTransporter">Bilty Document<span
                        style="color: red;" *ngIf="IsBiltyValidationShowandhide"
                        class="Mandatoryfield"><b>*</b></span><a *ngIf="IsGRFile" (click)="GRViewfileClick()"
                        title="File View" style="color:green"><i class="fa fa-eye"></i></a></label>
                    <div class="col-sm-2" *ngIf="IsTransporter">
                      <input type="file" id="GRfile" [(ngModel)]="model.GRfileimage"
                        (change)="onGRfileDocumentChange($event)" accept="application/pdf, image/jpeg"
                        placeholder="Choose file">
                    </div>

                    <label class="col-form-label-xs col-sm-1">Eway Bill Document<span style="color: red;"
                        class="Mandatoryfield"><b></b></span><a *ngIf="IsEwayBillfile" (click)="EwayBillViewfileClick()"
                        title="File View" style="color:green"><i class="fa fa-eye"></i></a></label>
                    <div class="col-sm-2">
                      <input type="file" id="EwayBillfile" [(ngModel)]="model.EwayBillfileimage"
                        (change)="onEwayBillDocumentChange($event)" accept="application/pdf, image/jpeg"
                        placeholder="Choose file">
                    </div>
                    <label class="col-form-label-xs col-sm-1" *ngIf="IsTaxInvoiceNo">Tax Invoice File<span
                        style="color: red;" class="Mandatoryfield"><b>*</b></span><a *ngIf="IsTaxInvoiceFile"
                        (click)="TaxInvViewfileClick()" title="File View" style="color:green"><i
                          class="fa fa-eye"></i></a></label>
                    <div class="col-sm-2" *ngIf="IsTaxInvoiceNo">
                      <input type="file" id="fileimage" (change)="onTaxInvoiceFileChange($event)"
                        accept="application/pdf, image/jpeg" placeholder="Choose file">
                    </div>

                    <label class="col-form-label-xs col-sm-1" *ngIf="SRNRecivedtable">SRN Request Document<span
                        style="color: red;" class="Mandatoryfield"><b>*</b></span>
                      <a (click)="SRNDocumentViewfileClick()" title="File View" style="color:green"
                        *ngIf="IsSrnDocumentFile"></a></label>
                    <div class="col-sm-2" *ngIf="SRNRecivedtable">
                      <input type="file" id="fileimage" (change)="onSRNDocumentFileChange($event)"
                        accept="application/pdf, image/jpeg" placeholder="Choose file">
                    </div>

                  </div>
                </fieldset>
                <br>

                <div class="row mb-1" *ngIf="IsReceivingField">
                  <label class="col-form-label-xs col-sm-1">Received By<span style="color: red;"
                      class="Mandatoryfield"><b>*</b></span></label>
                  <div class="col-sm-2">
                    <input type="text" id="txtReceivedBy" [(ngModel)]="model.ReceivedBy"
                      (keypress)="onKeypresstxtReceivedBy()" maxlength="30" autocomplete="off" placeholder=""
                      class="form-control form-control-sm" />
                  </div>
                  <label class="col-form-label-xs col-sm-1">Receiver Mobile No<span style="color: red;"
                      class="Mandatoryfield"><b>*</b></span></label>
                  <div class="col-sm-2">
                    <input type="text" id="txtReceivedNo" [(ngModel)]="model.ReceivedNo" autocomplete="off"
                      placeholder="" maxlength="12" (keypress)="keypressreceiver()" appCopyPastNumFloatValue
                      class="form-control form-control-sm" />
                  </div>
                  <label class="col-form-label-xs col-sm-1">Received Date<span style="color: red;"
                      class="Mandatoryfield"><b>*</b></span></label>
                  <div class="col-sm-2">
                    <div class="input-group" (mouseenter)="onKeypressDocumentDate($event)">
                      <input class="form-control form-control-sm" placeholder="" id="txtDeliveredDate"
                        autocomplete="off" [(ngModel)]="model.DeliveredDate" ngbDatepicker #Delivered="ngbDatepicker">
                      <div class="input-group-append">
                        <span class="input-group-text" (click)="Delivered.toggle()"><i
                            class="far fa-calendar-alt"></i></span>
                      </div>
                    </div>
                  </div>


                  <label class="col-form-label-xs col-sm-1">Receiveing Document<span class="Mandatoryfield"
                      style="color:red"><b>*</b></span><a *ngIf="IsReceivingFile" (click)="ReceivingViewfileClick()"
                      title="File View"><i class="fa fa-eye"></i></a></label>
                  <div class="col-sm-2">
                    <input type="file" id="fileimage" (change)="onRecDocumentFileChange($event)"
                      accept="application/pdf, image/jpeg" placeholder="Choose file">
                  </div>
                </div>
                <div class="row mb-1">
                  <label class="col-form-label-xs col-sm-1">Note<span style="color: red;"
                      class="Mandatoryfield"><b>*</b></span></label>
                  <div class="col-sm-3">
                    <textarea rows="2" placeholder="" [disabled]="IsReadonlyField" [(ngModel)]="model.Note" id="txtNote"
                      (keypress)="NoteKeyPress()" class="form-control form-control-sm"></textarea>
                  </div>


                </div>
                <fieldset class="scheduler-border">
                  <legend class="scheduler-border">Cost Details</legend>
                  <div class="row mb-1">

                    <label class="col-form-label-xs col-sm-1">Secondary Transportation Cost<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2">
                      <input type="text" id="txtSecTransCost" [(ngModel)]="model.SecTransCost" appCopyPastNumFloatValue
                        placeholder="" autocomplete="off" class="form-control form-control-sm" />
                    </div>

                    <label class="col-form-label-xs col-sm-1"> Loading Cost<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2">
                      <div class="input-group">
                        <input type="text" id="txtLoadingCost" [(ngModel)]="model.LoadingCost" appCopyPastNumFloatValue
                          placeholder="" autocomplete="off" class="form-control form-control-sm" />
                      </div>
                    </div>
                    <label class="col-form-label-xs col-sm-1"> Unloading Cost<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2">
                      <input type="text" id="txtUnloadingCost" [(ngModel)]="model.UnloadingCost"
                        appCopyPastNumFloatValue placeholder="" autocomplete="off"
                        class="form-control form-control-sm" />

                    </div>
                    <label class="col-form-label-xs col-sm-1">Other Charges<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2">
                      <input type="text" id="txtOtherCharges" [(ngModel)]="model.OtherCharges" appCopyPastNumFloatValue
                        placeholder="" autocomplete="off" class="form-control form-control-sm" />
                    </div>
                  </div>
                  <div class="row mb-1">
                    <label class="col-form-label-xs col-sm-1">Primary Unloading Cost<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2">
                      <input type="text" id="txtSecTransCost" [(ngModel)]="model.PrimaryUnloadingCost"
                        appCopyPastNumFloatValue placeholder="" autocomplete="off"
                        class="form-control form-control-sm" />
                    </div>
                    <div class="col-sm-2">
                      <button type="button" style="float: left;" *ngIf="Save" class="btn btn-sm btn-success"
                        (click)="UpdateCostDetail()"><i class="fa fa-save"></i> Update Cost Detail</button>

                    </div>
                  </div>
                </fieldset>




              </div>


            </div>
          </div>
        </div>


        <div class="row" [hidden]="IsSRNPreview">
          <div class="col-sm-12 col-md-12">
            <div class="card card-success">
              <div class="card-body">
                <div class="row mb-1">
                  <div class="col-sm-12 content-header bg-light">
                    <div class="col-sm-12">
                      <button type="button" class="btn btn-sm btn-success" (click)="BackPreviewSRN()"><i
                          class="fa fa-arrow-circle-left"></i> Back</button>

                    </div>
                  </div>
                </div>


                <div class="row">
                  <div class="col-12 col-sm-6 col-md-6 ">
                    <fieldset class="scheduler-border">
                      <legend class="scheduler-border">Company WH Details</legend>
                      <span></span>

                      <div class="row mb-1">
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2"><span style="color: red;"
                                class="Mandatoryfield"><b></b></span></label>
                            <div class="col-sm-8" tabindex="0">
                              <label class="col-form-label-xs">
                                <h4><b>{{model.PreviewCompanyName}}</b></h4>
                              </label>
                            </div>
                            <label class="col-form-label-xs col-sm-4">State:</label>
                            <div class="col-sm-8" tabindex="0">
                              <label class="col-form-label-xs">{{model.PreviewStateName}}</label>
                            </div>

                            <label class="col-form-label-xs col-sm-4 ">State Code:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.StateCode}}</label>
                            </div>
                            <label class="col-form-label-xs col-sm-4">SRN FROM :</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.PreviewSRNFROMName}}</label>

                            </div>
                          </div>
                        </div>

                      </div>
                      <div class="row mb-1">
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">Regd.Office:</label>
                            <div class="col-sm-10">
                              <label class="col-form-label-xs">{{model.RegdOffice}}</label>
                            </div>

                          </div>
                        </div>
                      </div>
                      <div class="row mb-1" *ngFor="let WhAd of StateCodeWhAd">
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">WH Address: </label>
                            <div class="col-sm-10">
                              <label class="col-form-label-xs">{{WhAd.WHAddress}}</label>
                            </div>

                          </div>
                        </div>
                      </div>

                      <div class="row mb-1">
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">GSTIN No:</label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <label class="col-form-label-xs">{{model.GSTINNo}}</label>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">CIN:</label>
                            <div class="col-sm-8">
                              <div class="input-group">
                                <label class="col-form-label-xs">{{model.CIN}}</label>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </fieldset>


                  </div>



                  <div class="col-12 col-sm-6 col-md-6 ">
                    <fieldset class="scheduler-border">
                      <legend class="scheduler-border"> SRN Details</legend>
                      <!-- <div class="" style="text-align: center;"><b> SHIPPED TO</b> </div> -->
                      <div class="row mb-1">
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">SRN No :</label>
                            <div class="col-sm-4">
                            </div>
                            <label class="col-form-label-xs col-sm-2">SRN Date:</label>
                            <div class="col-sm-4">
                              <label class="col-form-label-xs">{{model.PreviewDispatchDate}}</label>
                            </div>
                            <label class="col-form-label-xs col-sm-2">Trasporation Mode:</label>
                            <div class="col-sm-4">
                              <label class="col-form-label-xs">{{model.PreviewTransModeName}}</label>
                            </div>
                            <label class="col-form-label-xs col-sm-2">Transporter Name:</label>
                            <div class="col-sm-4">
                              <label class="col-form-label-xs">{{model.TransporterName}}</label>
                            </div>

                            <label class="col-form-label-xs col-sm-2">Transporter GST No:</label>
                            <div class="col-sm-4">
                              <label class="col-form-label-xs">{{model.TransporterGSTNo}}</label>
                            </div>
                            <label class="col-form-label-xs col-sm-2">Destination:</label>
                            <div class="col-sm-4">
                              <label class="col-form-label-xs">{{model.Destination}}</label>
                            </div>

                            <label class="col-form-label-xs col-sm-2">GRNo:</label>
                            <div class="col-sm-4">
                              <label class="col-form-label-xs">{{model.GRNo}}</label>
                            </div>
                            <label class="col-form-label-xs col-sm-2">GRDate:</label>
                            <div class="col-sm-4">
                              <label class="col-form-label-xs">{{model.PreviewGRDate}}</label>
                            </div>

                            <label class="col-form-label-xs col-sm-2">Vehicle Type:</label>
                            <div class="col-sm-4">
                              <label class="col-form-label-xs">{{model.PreviewVehicleType}}</label>
                            </div>
                            <label class="col-form-label-xs col-sm-2">Vehicle Number:</label>
                            <div class="col-sm-4">
                              <label class="col-form-label-xs">{{model.VehicleNumber}}</label>
                            </div>

                            <label class="col-form-label-xs col-sm-2">Eway Bill No:</label>
                            <div class="col-sm-4">
                              <label class="col-form-label-xs">{{model.EwayBillNo}}</label>
                            </div>
                            <label class="col-form-label-xs col-sm-2">Tax Invoice No:</label>
                            <div class="col-sm-4">
                              <label class="col-form-label-xs">{{model.TaxInvoiceNo}}</label>
                            </div>
                            <label class="col-form-label-xs col-sm-2">Tax Invoice Date:</label>
                            <div class="col-sm-4">
                              <label class="col-form-label-xs">{{model.PreviewTaxInvoiceDate}}</label>
                            </div>
                            <label class="col-form-label-xs col-sm-2">Dispatch No:</label>
                            <div class="col-sm-4">
                              <label class="col-form-label-xs">{{model.DispatchNo}}</label>
                            </div>
                            <label class="col-form-label-xs col-sm-2">Reason:</label>
                            <div class="col-sm-4">
                              <label class="col-form-label-xs">{{model.SRNReason}}</label>
                            </div>

                            <label class="col-form-label-xs col-sm-2">Remarks:</label>
                            <div class="col-sm-10">
                              <label class="col-form-label-xs">{{model.ReasonRemarks}}</label>
                            </div>

                          </div>
                        </div>
                      </div>


                    </fieldset>




                  </div>
                </div>
                <!-- <span></span>-->
                <span></span>


                <!-- <hr> -->

                <div class="row">
                  <div class="col-12 col-sm-6 col-md-6 ">
                    <fieldset class="scheduler-border">
                      <legend class="scheduler-border"> SHIPPED FROM</legend>
                      <!-- <div class="" style="text-align: center;"><b> SHIPPED TO</b> </div> -->
                      <div class="row mb-1" *ngIf="IsTransferTypeSite">
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Unique Site Id:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.CuUniqueSiteId}} </label>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Site Id:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.HideCustomerId}} </label>
                            </div>
                          </div>
                        </div>
                        <input type="hidden" [(ngModel)]="model.HideCustomerId" />
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> Site Name: </label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.SiteName}} </label>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> Client Name: </label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.ClientName}} </label>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> FE/Tech:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.PreviewTECHFEName}} </label>

                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">COH/CI:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.PreviewCOHName}} </label>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">Company Name:</label>
                            <div class="col-sm-10">
                              <label class="col-form-label-xs">{{model.CompanyName}} </label>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">Site Address:</label>
                            <div class="col-sm-10">
                              <label class="col-form-label-xs">{{model.SiteAddress}} </label>
                            </div>
                          </div>
                        </div>

                      </div>
                      <div class="row mb-1" *ngIf="IsTransferTypeOtherSite">
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Site State:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.PreviewToStateName}} </label>
                            </div>

                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">State Code:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.ToSiteStateCode}} </label>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Unique Site Id:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.CuUniqueSiteId}} </label>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">Site Id:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.HideCustomerId}} </label>
                            </div>
                          </div>
                        </div>
                        <input type="hidden" id="" [(ngModel)]="model.SiteId" readonly placeholder=""
                          class="form-control form-control-sm" />

                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> Site Name: </label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.SiteName}} </label>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> Client Name: </label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.ClientName}} </label>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> GST Type:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.ClientName}} </label>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">GSTIN Id:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.ToSiteWHGSTIN}} </label>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4"> FE/Tech:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.PreviewTECHFEName}} </label>

                            </div>
                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">COH/CI:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.PreviewCOHName}} </label>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">Company Name:</label>
                            <div class="col-sm-10">
                              <label class="col-form-label-xs">{{model.CompanyName}} </label>
                            </div>

                          </div>
                        </div>
                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">Site Address:</label>
                            <div class="col-sm-10">
                              <label class="col-form-label-xs">{{model.SiteAddress}} </label>
                            </div>
                          </div>
                        </div>
                      </div>

                    </fieldset>

                  </div>
                  <div class="col-12 col-sm-6 col-md-6 ">
                    <fieldset class="scheduler-border">
                      <legend class="scheduler-border"> SHIPPED TO</legend>
                      <span></span>
                      <div class="row mb-1">
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">WH State:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.WHState}} </label>
                            </div>

                          </div>
                        </div>
                        <div class="col-sm-6">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-4">WH Name:</label>
                            <div class="col-sm-8">
                              <label class="col-form-label-xs">{{model.PreviewWHName}} </label>
                            </div>
                          </div>
                        </div>

                        <div class="col-sm-12">
                          <div class="row">
                            <label class="col-form-label-xs col-sm-2">WH Address</label>
                            <div class="col-sm-10">
                              <label class="col-form-label-xs">{{model.ShippedWHAddress}} </label>
                            </div>
                          </div>
                        </div>

                      </div>
                    </fieldset>
                  </div>
                </div>



                <!-- <span></span>-->
                <span></span>


                <fieldset class="scheduler-border">
                  <legend class="scheduler-border">SRN Request Item Details</legend>
                  <div class="col-sm-12" style="overflow-x:scroll; min-height:300px;">
                    <table id="tblOne" class="table table-striped table-bordered" *ngIf="IsTransferTypeSameState">
                      <thead>
                        <tr>
                          <!-- <th></th> -->
                          <th>Item Name</th>
                          <!-- <th>History<span style="color:red;" class="Mandatoryfield"><b></b></span></th> -->
                          <th>Item Make</th>
                          <th>Part No</th>
                          <th>&nbsp;&nbsp;&nbsp;Equipment Type&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;Customer&nbsp;&nbsp;&nbsp;</th>
                          <th>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Item&nbsp;Description&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sub&nbsp;Description&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>HSN/SAC</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UOM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Qty&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>&nbsp;&nbsp;&nbsp;Unit&nbsp;Rate&nbsp;(in&nbsp;Rs.)>&nbsp;&nbsp;&nbsp;</th>
                          <th>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Total&nbsp;&nbsp;Amount&nbsp;(in&nbsp;Rs.)&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>Discount&nbsp;(in&nbsp;Rs.)</th>
                          <th>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Grand&nbsp;&nbsp;Total&nbsp;(in&nbsp;Rs.)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Manufacturing&nbsp;&nbsp;Date&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoice&nbsp;&nbsp;Date&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoice&nbsp;&nbsp;No&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>

                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let dynamic of dynamicArray; let i = index">

                          <td style="width:80px;">
                            <label style="text-align:center">{{dynamicArray[i].ItemName}}</label>
                          </td>

                          <td style="width:80px;">
                            <label style="text-align:center">{{dynamicArray[i].MakeName}}</label>
                          </td>
                          <td style="width:80px;">
                            <label style="text-align:center">{{dynamicArray[i].ItemCode}}</label>
                          </td>
                          <td style="width:100px;">
                            <label style="text-align:center">{{dynamicArray[i].EqpType}}</label>
                          </td>
                          <td style="width:120px;">
                            <label style="text-align:center">{{dynamicArray[i].ClientName}}</label>
                          </td>
                          <td style="width:280px;">
                            <label style="text-align:center">{{dynamicArray[i].ItemDescription}}</label>
                          </td>
                          <td style="width:280px;">
                            <label style="text-align:center">{{dynamicArray[i].SubDescription}}</label>
                          </td>
                          <td style="width:80px;">
                            <label style="text-align:center">{{dynamicArray[i].HSN}}</label>
                          </td>
                          <td style="width:50px;">
                            <label style="text-align:center">{{dynamicArray[i].Unit}}</label>
                          </td>
                          <td style="width:80px;">
                            <label style="text-align:center">{{dynamicArray[i].Qty}}</label>
                            <label
                              *ngIf="dynamicArray[i].HideShowConValue">S-Qty={{dynamicArray[i].ConversionUnit}}</label>
                            <label style="text-align:center"
                              *ngIf="dynamicArray[i].HideShowConValue">{{dynamicArray[i].ConversionValue}}</label>
                          </td>
                          <td style="width:50px;">
                            <label style="text-align:center">{{dynamicArray[i].Rate}}</label>
                          </td>
                          <td style="width:120px;">
                            <label style="text-align:center">{{dynamicArray[i].TotalAmount}}</label>
                          </td>
                          <td style="width:60px;">
                            <label style="text-align:center">{{dynamicArray[i].Discount}}</label>
                          </td>

                          <td style="width:60px;">
                            <label style="text-align:center">{{dynamicArray[i].GetTotalAmount}}</label>
                          </td>

                          <td style="width:60px;">
                            <label style="text-align:center">{{dynamicArray[i].ManufDate}}</label>
                          </td>
                          <td style="width:60px;">
                            <label style="text-align:center">{{dynamicArray[i].InvoiceTaxDate}}</label>
                          </td>

                          <td style="width:140px;">
                            <label style="text-align:center">{{dynamicArray[i].InvoiceTaxNo}}</label>
                          </td>

                        </tr>
                        <tr>
                          <td colspan="9">Gross Total</td>
                          <td style="text-align:center;">{{totalSumPOQuantity}}</td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td style="text-align:center;">{{totalSumAmount }}</td>
                          <td></td>
                          <td></td>
                          <td></td>
                        </tr>
                        <!-- <tr *ngIf="ItemAddrowhideshow">
                          <td (click)="addRow()">
                            <i class="fa fa-plus"></i>
                          </td>
                        </tr> -->
                      </tbody>
                    </table>

                    <table id="tblOne" class="table table-striped table-bordered" *ngIf="IsTransferTypeOtherState">
                      <thead>
                        <tr>
                          <th>Item Name</th>
                          <th>Item Make</th>
                          <th>Part No</th>
                          <th>&nbsp;&nbsp;&nbsp;Equipment Type&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;Customer&nbsp;&nbsp;&nbsp;</th>
                          <th>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Item&nbsp;Description&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sub&nbsp;Description&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>HSN/SAC</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UOM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Qty&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>

                          <!-- <th>Received&nbsp;In&nbsp;WH<span style="color:red" class="Mandatoryfield"><b></b></span></th>
                               <th>Received&nbsp;Qty<span style="color:red" class="Mandatoryfield"><b></b></span></th>
                               <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reason<span style="color:red" class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                               <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remarks<span style="color:red" class="Mandatoryfield"><b></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                               <th>&nbsp;Serial&nbsp;&nbsp;No<span style="color:red;" class="Mandatoryfield"><b>*</b></span>&nbsp;</th>  -->
                          <th>&nbsp;&nbsp;&nbsp;Unit&nbsp;Rate&nbsp;(in&nbsp;Rs.)&nbsp;&nbsp;&nbsp;</th>
                          <th>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Total&nbsp;&nbsp;Amount&nbsp;(in&nbsp;Rs.)&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>IGST(%)</th>
                          <th>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IGST&nbsp;Value&nbsp;(in&nbsp;Rs.)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Grand&nbsp;&nbsp;Total&nbsp;(in&nbsp;Rs.)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Manufacturing&nbsp;&nbsp;Date&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoice&nbsp;&nbsp;Date&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>
                          <th>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoice&nbsp;&nbsp;No&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          </th>

                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let dynamic of dynamicArray; let i = index">

                          <td style="width:80px;">
                            <label style="text-align:center">{{dynamicArray[i].ItemName}}</label>
                          </td>
                          <td style="width:80px;">
                            <label style="text-align:center">{{dynamicArray[i].MakeName}}</label>
                          </td>
                          <td style="width:80px;">
                            <label style="text-align:center">{{dynamicArray[i].ItemCode}}</label>
                          </td>
                          <td style="width:100px;">
                            <label style="text-align:center">{{dynamicArray[i].EqpType}}</label>
                          </td>
                          <td style="width:120px;">
                            <label style="text-align:center">{{dynamicArray[i].ClientName}}</label>
                          </td>
                          <td style="width:280px;">
                            <label style="text-align:center">{{dynamicArray[i].ItemDescription}}</label>
                          </td>
                          <td style="width:280px;">
                            <label style="text-align:center">{{dynamicArray[i].SubDescription}}</label>
                          </td>
                          <td style="width:80px;">
                            <label style="text-align:center">{{dynamicArray[i].HSN}}</label>
                          </td>
                          <td style="width:50px;">
                            <label style="text-align:center">{{dynamicArray[i].Unit}}</label>
                          </td>
                          <td style="width:80px;">
                            <label style="text-align:center">{{dynamicArray[i].Qty}}</label>
                            <label
                              *ngIf="dynamicArray[i].HideShowConValue">S-Qty={{dynamicArray[i].ConversionUnit}}</label>
                            <label style="text-align:center"
                              *ngIf="dynamicArray[i].HideShowConValue">{{dynamicArray[i].ConversionValue}}</label>
                          </td>

                          <td style="width:50px;">
                            <label style="text-align:center">{{dynamicArray[i].Rate}}</label>
                          </td>
                          <td style="width:120px;">
                            <label style="text-align:center">{{dynamicArray[i].TotalAmount}}</label>
                          </td>
                          <td style="width:60px;">
                            <label style="text-align:center">{{dynamicArray[i].IGSTValue}}</label>
                          </td>
                          <td style="width:60px;">
                            <label style="text-align:center">{{dynamicArray[i].IGST}}</label>
                          </td>

                          <td style="width:60px;">
                            <label style="text-align:center">{{dynamicArray[i].GetTotalAmount}}</label>
                          </td>

                          <td style="width:60px;">
                            <label style="text-align:center">{{dynamicArray[i].ManufDate}}</label>
                          </td>

                          <!-- <td style="width:140px;">    
                              <input class="form-control form-control-sm SerialNo"  id="txtSerialNo_{{i}}" autocomplete="off" [(ngModel)]="dynamicArray[i].SerialNo" (blur)="SerialNoKeyPress()"   type="text" style="text-align:center;"/>   
                            </td>  -->
                          <td style="width:60px;">
                            <label style="text-align:center">{{dynamicArray[i].InvoiceTaxDate}}</label>
                          </td>

                          <td style="width:140px;">
                            <label style="text-align:center">{{dynamicArray[i].InvoiceTaxNo}}</label>
                          </td>

                        </tr>
                        <tr>
                          <td colspan="9">Gross Total</td>
                          <td style="text-align:center;">{{totalSumPOQuantity}}</td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td style="text-align:center;">{{totalSumAmount }}</td>
                          <td></td>
                          <td></td>
                          <td></td>
                        </tr>
                      </tbody>
                    </table>

                  </div>
                </fieldset>

                <br>

                <div class="row mb-1">
                  <label class="col-form-label-xs col-sm-1">Note:</label>
                  <div class="col-sm-3">
                    <label class="col-form-label-xs">{{model.Note}} </label>
                  </div>


                </div>
                <fieldset class="scheduler-border">
                  <legend class="scheduler-border">Cost Details</legend>
                  <div class="row mb-1">

                    <label class="col-form-label-xs col-sm-1">Secondary Transportation Cost<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2">
                      <label class="col-form-label-xs">{{model.SecTransCost}} </label>
                    </div>

                    <label class="col-form-label-xs col-sm-1"> Loading Cost<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2">
                      <div class="input-group">
                        <label class="col-form-label-xs">{{model.LoadingCost}} </label>
                      </div>
                    </div>
                    <label class="col-form-label-xs col-sm-1"> Unloading Cost<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2">
                      <label class="col-form-label-xs">{{model.UnloadingCost}} </label>
                    </div>
                    <label class="col-form-label-xs col-sm-1">Other Charges<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2">
                      <label class="col-form-label-xs">{{model.OtherCharges}} </label>
                    </div>
                  </div>
                  <div class="row mb-1">
                    <label class="col-form-label-xs col-sm-1">Primary Unloading Cost<span style="color: red;"
                        class="Mandatoryfield"><b></b></span></label>
                    <div class="col-sm-2">
                      <label class="col-form-label-xs">{{model.PrimaryUnloadingCost}} </label>
                    </div>
                  </div>
                </fieldset>




              </div>


            </div>
          </div>
        </div>



      </div>
    </section>

  </div>
</div>

<div class="modal fade" id="myModal" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h6 class="modal-title">Serial Number({{headerItemName}})
        </h6>
      </div>
      <!-- Modal body -->
      <div class="modal-body">
        <table style="width: 100%;" class="table table-striped table-bordered">
          <thead>
            <th>Qty</th>
            <th>Initial Range</th>
            <th>Last Range</th>
          </thead>
          <tbody>
            <tr>
              <td>
                {{strcount}}
              </td>
              <td>
                <input class="form-control form-control-sm itmsRate" [(ngModel)]="firstValue" (blur)="initialsrn()"
                  type="text" style="text-align:center;" />
              </td>
              <td>
                <input class="form-control form-control-sm itmsRate" [(ngModel)]="lastValue" (blur)="initialsrn()"
                  type="text" style="text-align:center;" />
              </td>
            </tr>
          </tbody>
        </table>
        <table class="table table-striped table-bordered" style="width: 100%;">
          <tr>
            <td><label style="height: 9px;font-size: 13px;">Excel Upload for SerialNo</label></td>
            <td>
              <input type="file" #inputExcelOther class="form-control" (change)="SerialNoExcelUpload($event)"
                placeholder="Upload file"
                accept=".csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"
                multiple="false" />
            </td>
            <td>
              <button type="button" class="btn btn-sm btn-success" (click)="DownloadSerialNoExcelSample()"><i
                  class="fa fa-download">
                </i> Sample Excel</button>
            </td>
          </tr>
        </table>
        <div id="table-wrapper">
          <div id="table-scroll">
            <table class="table table-striped table-bordered" style="width: 100%;">
              <tr *ngFor="let value of srnlst; let i = index">
                <td>
                  {{i+1}}
                </td>
                <td colspan="2">
                  <input class="form-control form-control-sm itmsRate" [(ngModel)]="srnlst[i].InitialSrno" type="text"
                    style="text-align:center;" />
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-sm btn-danger" (click)="ClearSerialNoList()">
          <i class="fa fa-trash"></i>
          Clear</button>
        <button type="submit" class="btn btn-sm btn-success" (click)="addBtn()">
          <i class="fa fa-plus"></i> Add </button>
        <button type="button" class="btn btn-sm btn-danger" (click)="hideModal()">
          <i class="far fa-window-close"></i>
          Cancel</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="bb" data-backdrop="static">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h6 class="modal-title">Serial Number(BB)</h6>
        <table style="width: 30%;">
          <tr>
            <td text-align="right">
              Qty
            </td>
            <td text-align="right">{{strcount}}</td>
          </tr>
        </table>
      </div>
      <!-- Modal body -->
      <div class="modal-body">

        <div id="table-wrapper1" style="height:400px; overflow: auto;">
          <div id="table-scroll1">
            <table class="table table-striped table-bordered" style="width: 100%;">
              <tr>
                <td><label style="height: 9px;font-size: 13px;">Excel Upload for SerialNo</label></td>
                <td>
                  <input type="file" #inputExcelBB class="form-control" (change)="SerialNoExcelUpload($event)"
                    placeholder="Upload file"
                    accept=".csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"
                    multiple="false" />
                </td>
                <td>
                  <button type="button" class="btn btn-sm btn-success" (click)="DownloadSerialNoExcelSample()"><i
                      class="fa fa-download">
                    </i> Sample Excel</button>
                </td>
              </tr>
            </table>
            <table class="table table-striped table-bordered" style="width: 100%;">
              <tr *ngFor="let value of srnlst; let i = index">
                <td>
                  <label id="login"> {{i+1}}</label>
                </td>
                <td style="width:150px;">
                  <span>
                    <label style="height: 9px;
              font-size: 13px;">Initial Value</label>
                    <input class="form-control form-control-sm itmsRate" [(ngModel)]="srnlst[i].BBInitial"
                      placeholder="Initial value" type="text" style="text-align:center;width:143px;" />
                  </span>
                  <span style="margin-top:10px;">
                    <label style="height: 9px;
              font-size: 13px;
              margin-top: 6px;">Last Value</label>
                    <input class="form-control form-control-sm itmsRate" [(ngModel)]="srnlst[i].BBLast"
                      (blur)="bbChange(i)" placeholder="last value" type="text"
                      style="text-align:center;width:143px; margin-top: 10px;" />
                  </span>
                </td>
                <td>
                  <div style="width:100%;">
                    <span *ngFor="let value of srnlst[i].CellNos; let j = index"
                      style="display:inline-block; margin-left:5px;margin-bottom:10px;">
                      <input type="text" [(ngModel)]="srnlst[i].CellNos[j].CellValue" class="form-control"
                        style="width:115px; height:22px;font-size: 10;" />
                    </span>
                  </div>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-sm btn-danger" (click)="ClearSerialNoList()">
          <i class="fa fa-trash"></i> Clear</button>
        <button type="submit" class="btn btn-sm btn-success" (click)="addBb()">
          <i class="fa fa-plus"></i> Add </button>
        <button type="button" class="btn btn-danger" (click)="hidebbModal()">
          <i class="fa fa-window-close"></i> Close</button>
      </div>
    </div>
  </div>
</div>


<!-- Modal -->
<div class="modal fade" id="confirm" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Confirm !</h4>
      </div>
      <div class="modal-body">
        Please see preview before submit data by clicking on Preview Button.
        After submitting data will make it permanent change.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-sm btn-success" (click)="PreviewSRN()" *ngIf="IsPreviewhideandShow"><i
            class="fa fa-save"></i> Preview</button>
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-success" *ngIf="Save" [disabled]="loading"
          (click)="SaveUpDateSRNDetail()">Save
          <i class="fa fa-spinner fa-spin" *ngIf="loading"></i>
        </button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<div class="modal fade" id="Cancleconfirm" data-backdrop="static" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Confirm !</h4>
      </div>
      <div class="modal-body">
        Please confirm that you want to Cancel.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-success" [disabled]="loading" (click)="UpadateCancelSRN()">Save
          <i class="fa fa-spinner fa-spin" *ngIf="loading"></i>
        </button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<div class="modal fade" id="PreviousHistory" data-backdrop="static">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <fieldset class="scheduler-border">
        <legend class="scheduler-border">Dispatch of Item History By Site</legend>
        <div class="col-sm-12">
          <div class="row">
            <ag-grid-angular style="width: 100%; height: 400px;" class="ag-theme-alpine" [enableSorting]="true"
              [enableFilter]="true" [pagination]="true" paginationPageSize="20" [columnDefs]="PreviousDatacolumnDefs"
              [multiSortKey]="multiSortKey" [rowData]="PreviousDatarowData" rowSelection="multiple"
              (gridReady)="PreviousGridReady($event)" [overlayLoadingTemplate]="loadingTemplate1">
            </ag-grid-angular>
          </div>
        </div>
      </fieldset>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="NoPreviousHistory" data-backdrop="static" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title"></h4>
      </div>
      <div class="modal-body">
        No Available Previous Data History.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<div class="modal fade" id="Validationerror" data-backdrop="static" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Error !</h4>
      </div>
      <div class="modal-body">
        {{ValidationerrorMessage}}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<div class="modal fade" id="Correctionconfirm" data-backdrop="static" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Confirm !</h4>
      </div>
      <div class="modal-body">
        Please confirm do you want correction entry this line item.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">No</button>
        <button type="button" class="btn btn-success" (click)="UpadateCorrectionEntry()">Yes</button>
      </div>
      <!-- (click)="UpadateCorrectionEntry()" -->
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<div class="modal fade" id="MultisiteDispatchPopup" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h6 class="modal-title">Multiple Site
        </h6>
      </div>
      <!-- Modal body -->
      <div class="modal-body">
        <table class="table table-striped table-bordered" style="width: 100%;">
          <tr>
            <td><label style="height: 9px;font-size: 13px;">Excel Upload </label></td>
            <td>
              <input type="file" #inputExcelMultisite class="form-control" (change)="MultiSiteExcelUpload($event)"
                placeholder="Upload file"
                accept=".csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"
                multiple="false" />
            </td>
            <td>
              <button type="button" class="btn btn-sm btn-success" (click)="DownloadMultiSiteExcelSample()"><i
                  class="fa fa-download">
                </i> Sample Excel</button>
            </td>
          </tr>
        </table>
        <div id="table-wrapper">
          <div id="table-scroll">
            <table class="table table-striped table-bordered" style="width: 100%;">
              <tr *ngFor="let tt of MultiSite; let i = index">
                <td>
                  {{i+1}}
                </td>
                <td colspan="2">
                  <input class="form-control form-control-sm " [(ngModel)]="MultiSite[i].CustomerSiteId" type="text"
                    style="text-align:center;" />
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-sm btn-danger" (click)="ClearMultiSelect()">
          <i class="fa fa-trash"></i>
          Clear</button>
        <button type="submit" class="btn btn-sm btn-success" (click)="AddMultisite()">
          <i class="fa fa-plus"></i> Add </button>
        <button type="button" class="btn btn-sm btn-danger" (click)="MultisitehideModal()">
          <i class="far fa-window-close"></i>
          Cancel</button>
      </div>
    </div>
  </div>
</div>